var TM=Object.defineProperty,DM=Object.defineProperties;var bM=Object.getOwnPropertyDescriptors;var Iw=Object.getOwnPropertySymbols,CM=Object.getPrototypeOf,SM=Object.prototype.hasOwnProperty,AM=Object.prototype.propertyIsEnumerable,RM=Reflect.get;var ww=(n,e,t)=>e in n?TM(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,O=(n,e)=>{for(var t in e||={})SM.call(e,t)&&ww(n,t,e[t]);if(Iw)for(var t of Iw(e))AM.call(e,t)&&ww(n,t,e[t]);return n},pe=(n,e)=>DM(n,bM(e));var br=(n,e,t)=>RM(CM(n),t,e);var E=(n,e,t)=>new Promise((r,i)=>{var o=u=>{try{c(t.next(u))}catch(l){i(l)}},s=u=>{try{c(t.throw(u))}catch(l){i(l)}},c=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);c((t=t.apply(n,e)).next())});var yp;function zu(){return yp}function _n(n){let e=yp;return yp=n,e}var Tw=Symbol("NotFound");function ko(n){return n===Tw||n?.name==="\u0275NotFound"}function vp(n,e){return Object.is(n,e)}var dt=null,qu=!1,_p=1,NM=null,Rt=Symbol("SIGNAL");function ne(n){let e=dt;return dt=n,e}function Wu(){return dt}var Ra={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Na(n){if(qu)throw new Error("");if(dt===null)return;dt.consumerOnSignalRead(n);let e=dt.producersTail;if(e!==void 0&&e.producer===n)return;let t,r=dt.recomputing;if(r&&(t=e!==void 0?e.nextProducer:dt.producers,t!==void 0&&t.producer===n)){dt.producersTail=t,t.lastReadVersion=n.version;return}let i=n.consumersTail;if(i!==void 0&&i.consumer===dt&&(!r||PM(i,dt)))return;let o=xo(dt),s={producer:n,consumer:dt,nextProducer:t,prevConsumer:i,lastReadVersion:n.version,nextConsumer:void 0};dt.producersTail=s,e!==void 0?e.nextProducer=s:dt.producers=s,o&&Sw(n,s)}function Dw(){_p++}function Ep(n){if(!(xo(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===_p)){if(!n.producerMustRecompute(n)&&!Pa(n)){Gu(n);return}n.producerRecomputeValue(n),Gu(n)}}function Ip(n){if(n.consumers===void 0)return;let e=qu;qu=!0;try{for(let t=n.consumers;t!==void 0;t=t.nextConsumer){let r=t.consumer;r.dirty||MM(r)}}finally{qu=e}}function wp(){return dt?.consumerAllowSignalWrites!==!1}function MM(n){n.dirty=!0,Ip(n),n.consumerMarkedDirty?.(n)}function Gu(n){n.dirty=!1,n.lastCleanEpoch=_p}function Ma(n){return n&&bw(n),ne(n)}function bw(n){n.producersTail=void 0,n.recomputing=!0}function Ku(n,e){ne(e),n&&Cw(n)}function Cw(n){n.recomputing=!1;let e=n.producersTail,t=e!==void 0?e.nextProducer:n.producers;if(t!==void 0){if(xo(n))do t=Tp(t);while(t!==void 0);e!==void 0?e.nextProducer=void 0:n.producers=void 0}}function Pa(n){for(let e=n.producers;e!==void 0;e=e.nextProducer){let t=e.producer,r=e.lastReadVersion;if(r!==t.version||(Ep(t),r!==t.version))return!0}return!1}function ka(n){if(xo(n)){let e=n.producers;for(;e!==void 0;)e=Tp(e)}n.producers=void 0,n.producersTail=void 0,n.consumers=void 0,n.consumersTail=void 0}function Sw(n,e){let t=n.consumersTail,r=xo(n);if(t!==void 0?(e.nextConsumer=t.nextConsumer,t.nextConsumer=e):(e.nextConsumer=void 0,n.consumers=e),e.prevConsumer=t,n.consumersTail=e,!r)for(let i=n.producers;i!==void 0;i=i.nextProducer)Sw(i.producer,i)}function Tp(n){let e=n.producer,t=n.nextProducer,r=n.nextConsumer,i=n.prevConsumer;if(n.nextConsumer=void 0,n.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:e.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(e.consumers=r,!xo(e)){let o=e.producers;for(;o!==void 0;)o=Tp(o)}return t}function xo(n){return n.consumerIsAlwaysLive||n.consumers!==void 0}function Dp(n){NM?.(n)}function PM(n,e){let t=e.producersTail;if(t!==void 0){let r=e.producers;do{if(r===n)return!0;if(r===t)break;r=r.nextProducer}while(r!==void 0)}return!1}function kM(){throw new Error}var Aw=kM;function Rw(n){Aw(n)}function bp(n){Aw=n}var xM=null;function Cp(n,e){let t=Object.create(Qu);t.value=n,e!==void 0&&(t.equal=e);let r=()=>Nw(t);return r[Rt]=t,Dp(t),[r,s=>Oo(t,s),s=>Sp(t,s)]}function Nw(n){return Na(n),n.value}function Oo(n,e){wp()||Rw(n),n.equal(n.value,e)||(n.value=e,OM(n))}function Sp(n,e){wp()||Rw(n),Oo(n,e(n.value))}var Qu=pe(O({},Ra),{equal:vp,value:void 0,kind:"signal"});function OM(n){n.version++,Dw(),Ip(n),xM?.(n)}function ee(n){return typeof n=="function"}function Lo(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Yu=Lo(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Ii(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Pe=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(ee(r))try{r()}catch(o){e=o instanceof Yu?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{Mw(o)}catch(s){e=e??[],s instanceof Yu?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Yu(e)}}add(e){var t;if(e&&e!==this)if(this.closed)Mw(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Ii(t,e)}remove(e){let{_finalizers:t}=this;t&&Ii(t,e),e instanceof n&&e._removeParent(this)}};Pe.EMPTY=(()=>{let n=new Pe;return n.closed=!0,n})();var Ap=Pe.EMPTY;function Zu(n){return n instanceof Pe||n&&"closed"in n&&ee(n.remove)&&ee(n.add)&&ee(n.unsubscribe)}function Mw(n){ee(n)?n():n.unsubscribe()}var tn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Fo={setTimeout(n,e,...t){let{delegate:r}=Fo;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=Fo;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Ju(n){Fo.setTimeout(()=>{let{onUnhandledError:e}=tn;if(e)e(n);else throw n})}function wi(){}var Pw=Rp("C",void 0,void 0);function kw(n){return Rp("E",void 0,n)}function xw(n){return Rp("N",n,void 0)}function Rp(n,e,t){return{kind:n,value:e,error:t}}var Ti=null;function Vo(n){if(tn.useDeprecatedSynchronousErrorHandling){let e=!Ti;if(e&&(Ti={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=Ti;if(Ti=null,t)throw r}}else n()}function Ow(n){tn.useDeprecatedSynchronousErrorHandling&&Ti&&(Ti.errorThrown=!0,Ti.error=n)}var Di=class extends Pe{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Zu(e)&&e.add(this)):this.destination=VM}static create(e,t,r){return new jo(e,t,r)}next(e){this.isStopped?Mp(xw(e),this):this._next(e)}error(e){this.isStopped?Mp(kw(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Mp(Pw,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},LM=Function.prototype.bind;function Np(n,e){return LM.call(n,e)}var Pp=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Xu(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Xu(r)}else Xu(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Xu(t)}}},jo=class extends Di{constructor(e,t,r){super();let i;if(ee(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&tn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Np(e.next,o),error:e.error&&Np(e.error,o),complete:e.complete&&Np(e.complete,o)}):i=e}this.destination=new Pp(i)}};function Xu(n){tn.useDeprecatedSynchronousErrorHandling?Ow(n):Ju(n)}function FM(n){throw n}function Mp(n,e){let{onStoppedNotification:t}=tn;t&&Fo.setTimeout(()=>t(n,e))}var VM={closed:!0,next:wi,error:FM,complete:wi};var Uo=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Ot(n){return n}function kp(...n){return xp(n)}function xp(n){return n.length===0?Ot:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var G=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=UM(t)?t:new jo(t,r,i);return Vo(()=>{let{operator:s,source:c}=this;o.add(s?s.call(o,c):c?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=Lw(r),new r((i,o)=>{let s=new jo({next:c=>{try{t(c)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[Uo](){return this}pipe(...t){return xp(t)(this)}toPromise(t){return t=Lw(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function Lw(n){var e;return(e=n??tn.Promise)!==null&&e!==void 0?e:Promise}function jM(n){return n&&ee(n.next)&&ee(n.error)&&ee(n.complete)}function UM(n){return n&&n instanceof Di||jM(n)&&Zu(n)}function Op(n){return ee(n?.lift)}function ce(n){return e=>{if(Op(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ue(n,e,t,r,i){return new Lp(n,e,t,r,i)}var Lp=class extends Di{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(c){try{t(c)}catch(u){e.error(u)}}:super._next,this._error=i?function(c){try{i(c)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Bo(){return ce((n,e)=>{let t=null;n._refCount++;let r=ue(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var $o=class extends G{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Op(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Pe;let t=this.getSubject();e.add(this.source.subscribe(ue(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Pe.EMPTY)}return e}refCount(){return Bo()(this)}};var Fw=Lo(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ke=(()=>{class n extends G{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new el(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new Fw}next(t){Vo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){Vo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Vo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Ap:(this.currentObservers=null,o.push(t),new Pe(()=>{this.currentObservers=null,Ii(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new G;return t.source=this,t}}return n.create=(e,t)=>new el(e,t),n})(),el=class extends ke{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:Ap}};var nt=class extends ke{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Fp={now(){return(Fp.delegate||Date).now()},delegate:void 0};var tl=class extends Pe{constructor(e,t){super()}schedule(e,t=0){return this}};var xa={setInterval(n,e,...t){let{delegate:r}=xa;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=xa;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var Ho=class extends tl{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return xa.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&xa.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Ii(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var zo=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};zo.now=Fp.now;var qo=class extends zo{constructor(e,t=zo.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var Vp=new qo(Ho);var nl=class extends Ho{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var rl=class extends qo{};var jp=new rl(nl);var Nt=new G(n=>n.complete());function Vw(n){return n&&ee(n.schedule)}function jw(n){return n[n.length-1]}function Uw(n){return ee(jw(n))?n.pop():void 0}function Cr(n){return Vw(jw(n))?n.pop():void 0}function il(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function $w(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function c(h){try{l(r.next(h))}catch(p){s(p)}}function u(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(c,u)}l((r=r.apply(n,e||[])).next())})}function Bw(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function bi(n){return this instanceof bi?(this.v=n,this):new bi(n)}function Hw(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(A){return Promise.resolve(A).then(y,p)}}function c(y,A){r[y]&&(i[y]=function(P){return new Promise(function(N,F){o.push([y,P,N,F])>1||u(y,P)})},A&&(i[y]=A(i[y])))}function u(y,A){try{l(r[y](A))}catch(P){m(o[0][3],P)}}function l(y){y.value instanceof bi?Promise.resolve(y.value.v).then(h,p):m(o[0][2],y)}function h(y){u("next",y)}function p(y){u("throw",y)}function m(y,A){y(A),o.shift(),o.length&&u(o[0][0],o[0][1])}}function zw(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof Bw=="function"?Bw(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(c,u){s=n[o](s),i(c,u,s.done,s.value)})}}function i(o,s,c,u){Promise.resolve(u).then(function(l){o({value:l,done:c})},s)}}var ol=n=>n&&typeof n.length=="number"&&typeof n!="function";function sl(n){return ee(n?.then)}function al(n){return ee(n[Uo])}function cl(n){return Symbol.asyncIterator&&ee(n?.[Symbol.asyncIterator])}function ul(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function BM(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var ll=BM();function dl(n){return ee(n?.[ll])}function hl(n){return Hw(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield bi(t.read());if(i)return yield bi(void 0);yield yield bi(r)}}finally{t.releaseLock()}})}function fl(n){return ee(n?.getReader)}function Ke(n){if(n instanceof G)return n;if(n!=null){if(al(n))return $M(n);if(ol(n))return HM(n);if(sl(n))return zM(n);if(cl(n))return qw(n);if(dl(n))return qM(n);if(fl(n))return GM(n)}throw ul(n)}function $M(n){return new G(e=>{let t=n[Uo]();if(ee(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function HM(n){return new G(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function zM(n){return new G(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Ju)})}function qM(n){return new G(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function qw(n){return new G(e=>{WM(n,e).catch(t=>e.error(t))})}function GM(n){return qw(hl(n))}function WM(n,e){var t,r,i,o;return $w(this,void 0,void 0,function*(){try{for(t=zw(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function Mt(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function Sr(n,e=0){return ce((t,r)=>{t.subscribe(ue(r,i=>Mt(r,n,()=>r.next(i),e),()=>Mt(r,n,()=>r.complete(),e),i=>Mt(r,n,()=>r.error(i),e)))})}function Ar(n,e=0){return ce((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function Gw(n,e){return Ke(n).pipe(Ar(e),Sr(e))}function Ww(n,e){return Ke(n).pipe(Ar(e),Sr(e))}function Kw(n,e){return new G(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function Qw(n,e){return new G(t=>{let r;return Mt(t,e,()=>{r=n[ll](),Mt(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>ee(r?.return)&&r.return()})}function pl(n,e){if(!n)throw new Error("Iterable cannot be null");return new G(t=>{Mt(t,e,()=>{let r=n[Symbol.asyncIterator]();Mt(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function Yw(n,e){return pl(hl(n),e)}function Zw(n,e){if(n!=null){if(al(n))return Gw(n,e);if(ol(n))return Kw(n,e);if(sl(n))return Ww(n,e);if(cl(n))return pl(n,e);if(dl(n))return Qw(n,e);if(fl(n))return Yw(n,e)}throw ul(n)}function De(n,e){return e?Zw(n,e):Ke(n)}function z(...n){let e=Cr(n);return De(n,e)}function Go(n,e){let t=ee(n)?n:()=>n,r=i=>i.error(t());return new G(e?i=>e.schedule(r,0,i):r)}function Up(n){return!!n&&(n instanceof G||ee(n.lift)&&ee(n.subscribe))}var Kn=Lo(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Y(n,e){return ce((t,r)=>{let i=0;t.subscribe(ue(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:KM}=Array;function QM(n,e){return KM(e)?n(...e):n(e)}function Jw(n){return Y(e=>QM(n,e))}var{isArray:YM}=Array,{getPrototypeOf:ZM,prototype:JM,keys:XM}=Object;function Xw(n){if(n.length===1){let e=n[0];if(YM(e))return{args:e,keys:null};if(eP(e)){let t=XM(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function eP(n){return n&&typeof n=="object"&&ZM(n)===JM}function eT(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function Oa(...n){let e=Cr(n),t=Uw(n),{args:r,keys:i}=Xw(n);if(r.length===0)return De([],e);let o=new G(tP(r,e,i?s=>eT(i,s):Ot));return t?o.pipe(Jw(t)):o}function tP(n,e,t=Ot){return r=>{tT(e,()=>{let{length:i}=n,o=new Array(i),s=i,c=i;for(let u=0;u<i;u++)tT(e,()=>{let l=De(n[u],e),h=!1;l.subscribe(ue(r,p=>{o[u]=p,h||(h=!0,c--),c||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function tT(n,e,t){n?Mt(t,n,e):e()}function nT(n,e,t,r,i,o,s,c){let u=[],l=0,h=0,p=!1,m=()=>{p&&!u.length&&!l&&e.complete()},y=P=>l<r?A(P):u.push(P),A=P=>{o&&e.next(P),l++;let N=!1;Ke(t(P,h++)).subscribe(ue(e,F=>{i?.(F),o?y(F):e.next(F)},()=>{N=!0},void 0,()=>{if(N)try{for(l--;u.length&&l<r;){let F=u.shift();s?Mt(e,s,()=>A(F)):A(F)}m()}catch(F){e.error(F)}}))};return n.subscribe(ue(e,y,()=>{p=!0,m()})),()=>{c?.()}}function Le(n,e,t=1/0){return ee(e)?Le((r,i)=>Y((o,s)=>e(r,o,i,s))(Ke(n(r,i))),t):(typeof e=="number"&&(t=e),ce((r,i)=>nT(r,i,n,t)))}function Wo(n=1/0){return Le(Ot,n)}function rT(){return Wo(1)}function Ko(...n){return rT()(De(n,Cr(n)))}function Ci(n){return new G(e=>{Ke(n()).subscribe(e)})}var Qn=new G(wi);function rt(n,e){return ce((t,r)=>{let i=0;t.subscribe(ue(r,o=>n.call(e,o,i++)&&r.next(o)))})}function Yn(n){return ce((e,t)=>{let r=null,i=!1,o;r=e.subscribe(ue(t,void 0,void 0,s=>{o=Ke(n(s,Yn(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function iT(n,e,t,r,i){return(o,s)=>{let c=t,u=e,l=0;o.subscribe(ue(s,h=>{let p=l++;u=c?n(u,h,p):(c=!0,h),r&&s.next(u)},i&&(()=>{c&&s.next(u),s.complete()})))}}function Rr(n,e){return ee(e)?Le(n,e,1):Le(n,1)}function Nr(n){return ce((e,t)=>{let r=!1;e.subscribe(ue(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function It(n){return n<=0?()=>Nt:ce((e,t)=>{let r=0;e.subscribe(ue(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function gl(n=nP){return ce((e,t)=>{let r=!1;e.subscribe(ue(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function nP(){return new Kn}function La(n){return ce((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Zn(n,e){let t=arguments.length>=2;return r=>r.pipe(n?rt((i,o)=>n(i,o,r)):Ot,It(1),t?Nr(e):gl(()=>new Kn))}function Qo(n){return n<=0?()=>Nt:ce((e,t)=>{let r=[];e.subscribe(ue(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Bp(n,e){let t=arguments.length>=2;return r=>r.pipe(n?rt((i,o)=>n(i,o,r)):Ot,Qo(1),t?Nr(e):gl(()=>new Kn))}function $p(n,e){return ce(iT(n,e,arguments.length>=2,!0))}function Hp(...n){let e=Cr(n);return ce((t,r)=>{(e?Ko(n,t,e):Ko(n,t)).subscribe(r)})}function Se(n,e){return ce((t,r)=>{let i=null,o=0,s=!1,c=()=>s&&!i&&r.complete();t.subscribe(ue(r,u=>{i?.unsubscribe();let l=0,h=o++;Ke(n(u,h)).subscribe(i=ue(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,c()}))},()=>{s=!0,c()}))})}function ml(n){return ce((e,t)=>{Ke(n).subscribe(ue(t,()=>t.complete(),wi)),!t.closed&&e.subscribe(t)})}function Qe(n,e,t){let r=ee(n)||e||t?{next:n,error:e,complete:t}:n;return r?ce((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let c=!0;i.subscribe(ue(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;c=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;c=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;c&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Ot}function oT(n){let e=ne(null);try{return n()}finally{ne(e)}}var Ai=class{full;major;minor;patch;constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},ng=new Ai("20.3.1");var Il="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",j=class extends Error{code;constructor(e,t){super(xr(e,t)),this.code=e}};function rP(n){return`NG0${Math.abs(n)}`}function xr(n,e){return`${rP(n)}${e?": "+e:""}`}var Ua=globalThis;function ge(n){for(let e in n)if(n[e]===ge)return e;throw Error("")}function Mr(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(Mr).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function rg(n,e){return n?e?`${n} ${e}`:n:e||""}var iP=ge({__forward_ref__:ge});function wl(n){return n.__forward_ref__=wl,n.toString=function(){return Mr(this())},n}function Pt(n){return ig(n)?n():n}function ig(n){return typeof n=="function"&&n.hasOwnProperty(iP)&&n.__forward_ref__===wl}function U(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function er(n){return{providers:n.providers||[],imports:n.imports||[]}}function Ba(n){return oP(n,Tl)}function og(n){return Ba(n)!==null}function oP(n,e){return n.hasOwnProperty(e)&&n[e]||null}function sP(n){let e=n?.[Tl]??null;return e||null}function qp(n){return n&&n.hasOwnProperty(vl)?n[vl]:null}var Tl=ge({\u0275prov:ge}),vl=ge({\u0275inj:ge}),B=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=U({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function sg(n){return n&&!!n.\u0275providers}var ag=ge({\u0275cmp:ge}),cg=ge({\u0275dir:ge}),ug=ge({\u0275pipe:ge}),lg=ge({\u0275mod:ge}),Va=ge({\u0275fac:ge}),Mi=ge({__NG_ELEMENT_ID__:ge}),aT=ge({__NG_ENV_ID__:ge});function $a(n){return typeof n=="string"?n:n==null?"":String(n)}function uT(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():$a(n)}var lT=ge({ngErrorCode:ge}),aP=ge({ngErrorMessage:ge}),cP=ge({ngTokenPath:ge});function dg(n,e){return dT("",-200,e)}function Dl(n,e){throw new j(-201,!1)}function dT(n,e,t){let r=new j(e,n);return r[lT]=e,r[aP]=n,t&&(r[cP]=t),r}function uP(n){return n[lT]}var Gp;function hT(){return Gp}function wt(n){let e=Gp;return Gp=n,e}function hg(n,e,t){let r=Ba(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&8)return null;if(e!==void 0)return e;Dl(n,"Injector")}var lP={},Si=lP,Wp="__NG_DI_FLAG__",Kp=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=Ri(t)||0;try{return this.injector.get(e,r&8?null:Si,r)}catch(i){if(ko(i))return i;throw i}}};function dP(n,e=0){let t=zu();if(t===void 0)throw new j(-203,!1);if(t===null)return hg(n,void 0,e);{let r=hP(e),i=t.retrieve(n,r);if(ko(i)){if(r.optional)return null;throw i}return i}}function $(n,e=0){return(hT()||dP)(Pt(n),e)}function R(n,e){return $(n,Ri(e))}function Ri(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function hP(n){return{optional:!!(n&8),host:!!(n&1),self:!!(n&2),skipSelf:!!(n&4)}}function Qp(n){let e=[];for(let t=0;t<n.length;t++){let r=Pt(n[t]);if(Array.isArray(r)){if(r.length===0)throw new j(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let c=r[s],u=fP(c);typeof u=="number"?u===-1?i=c.token:o|=u:i=c}e.push($(i,o))}else e.push($(r))}return e}function fT(n,e){return n[Wp]=e,n.prototype[Wp]=e,n}function fP(n){return n[Wp]}function Pr(n,e){let t=n.hasOwnProperty(Va);return t?n[Va]:null}function bl(n,e){n.forEach(t=>Array.isArray(t)?bl(t,e):e(t))}function fg(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Ha(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}var Pi={},nn=[],tr=new B(""),pg=new B("",-1),gg=new B(""),ja=class{get(e,t=Si){if(t===Si){let i=dT("",-201);throw i.name="\u0275NotFound",i}return t}};function mg(n){return n[lg]||null}function nr(n){return n[ag]||null}function yg(n){return n[cg]||null}function pT(n){return n[ug]||null}function ht(n){return{\u0275providers:n}}function gT(n){return ht([{provide:tr,multi:!0,useValue:n}])}function mT(...n){return{\u0275providers:vg(!0,n),\u0275fromNgModule:!0}}function vg(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return bl(e,s=>{let c=s;_l(c,o,[],r)&&(i||=[],i.push(c))}),i!==void 0&&yT(i,o),t}function yT(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];_g(i,o=>{e(o,r)})}}function _l(n,e,t,r){if(n=Pt(n),!n)return!1;let i=null,o=qp(n),s=!o&&nr(n);if(!o&&!s){let u=n.ngModule;if(o=qp(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=n}let c=r.has(i);if(s){if(c)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)_l(l,e,t,r)}}else if(o){if(o.imports!=null&&!c){r.add(i);let l;try{bl(o.imports,h=>{_l(h,e,t,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&yT(l,e)}if(!c){let l=Pr(i)||(()=>new i);e({provide:i,useFactory:l,deps:nn},i),e({provide:gg,useValue:i,multi:!0},i),e({provide:tr,useValue:()=>$(i),multi:!0},i)}let u=o.providers;if(u!=null&&!c){let l=n;_g(u,h=>{e(h,l)})}}else return!1;return i!==n&&n.providers!==void 0}function _g(n,e){for(let t of n)sg(t)&&(t=t.\u0275providers),Array.isArray(t)?_g(t,e):e(t)}var pP=ge({provide:String,useValue:ge});function vT(n){return n!==null&&typeof n=="object"&&pP in n}function gP(n){return!!(n&&n.useExisting)}function mP(n){return!!(n&&n.useFactory)}function El(n){return typeof n=="function"}var za=new B(""),yl={},cT={},zp;function qa(){return zp===void 0&&(zp=new ja),zp}var Fe=class{},Ni=class extends Fe{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,Zp(e,s=>this.processProvider(s)),this.records.set(pg,Yo(void 0,this)),i.has("environment")&&this.records.set(Fe,Yo(void 0,this));let o=this.records.get(za);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(gg,nn,{self:!0}))}retrieve(e,t){let r=Ri(t)||0;try{return this.get(e,Si,r)}catch(i){if(ko(i))return i;throw i}}destroy(){Fa(this),this._destroyed=!0;let e=ne(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ne(e)}}onDestroy(e){return Fa(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Fa(this);let t=_n(this),r=wt(void 0),i;try{return e()}finally{_n(t),wt(r)}}get(e,t=Si,r){if(Fa(this),e.hasOwnProperty(aT))return e[aT](this);let i=Ri(r),o,s=_n(this),c=wt(void 0);try{if(!(i&4)){let l=this.records.get(e);if(l===void 0){let h=IP(e)&&Ba(e);h&&this.injectableDefInScope(h)?l=Yo(Yp(e),yl):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l,i)}let u=i&2?qa():this.parent;return t=i&8&&t===Si?null:t,u.get(e,t)}catch(u){let l=uP(u);throw l===-200||l===-201?new j(l,null):u}finally{wt(c),_n(s)}}resolveInjectorInitializers(){let e=ne(null),t=_n(this),r=wt(void 0),i;try{let o=this.get(tr,nn,{self:!0});for(let s of o)s()}finally{_n(t),wt(r),ne(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(Mr(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Pt(e);let t=El(e)?e:Pt(e&&e.provide),r=vP(e);if(!El(e)&&e.multi===!0){let i=this.records.get(t);i||(i=Yo(void 0,yl,!0),i.factory=()=>Qp(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t,r){let i=ne(null);try{if(t.value===cT)throw dg(Mr(e));return t.value===yl&&(t.value=cT,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&EP(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{ne(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Pt(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Yp(n){let e=Ba(n),t=e!==null?e.factory:Pr(n);if(t!==null)return t;if(n instanceof B)throw new j(204,!1);if(n instanceof Function)return yP(n);throw new j(204,!1)}function yP(n){if(n.length>0)throw new j(204,!1);let t=sP(n);return t!==null?()=>t.factory(n):()=>new n}function vP(n){if(vT(n))return Yo(void 0,n.useValue);{let e=_T(n);return Yo(e,yl)}}function _T(n,e,t){let r;if(El(n)){let i=Pt(n);return Pr(i)||Yp(i)}else if(vT(n))r=()=>Pt(n.useValue);else if(mP(n))r=()=>n.useFactory(...Qp(n.deps||[]));else if(gP(n))r=(i,o)=>$(Pt(n.useExisting),o!==void 0&&o&8?8:void 0);else{let i=Pt(n&&(n.useClass||n.provide));if(_P(n))r=()=>new i(...Qp(n.deps));else return Pr(i)||Yp(i)}return r}function Fa(n){if(n.destroyed)throw new j(205,!1)}function Yo(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function _P(n){return!!n.deps}function EP(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function IP(n){return typeof n=="function"||typeof n=="object"&&n.ngMetadataName==="InjectionToken"}function Zp(n,e){for(let t of n)Array.isArray(t)?Zp(t,e):t&&sg(t)?Zp(t.\u0275providers,e):e(t)}function je(n,e){let t;n instanceof Ni?(Fa(n),t=n):t=new Kp(n);let r,i=_n(t),o=wt(void 0);try{return e()}finally{_n(i),wt(o)}}function ET(){return hT()!==void 0||zu()!=null}var on=0,J=1,Z=2,it=3,qt=4,Gt=5,Ga=6,Zo=7,ot=8,Jo=9,En=10,qe=11,Xo=12,Eg=13,ki=14,Wt=15,xi=16,Oi=17,Li=18,Wa=19,Ig=20,Jn=21,Cl=22,Ka=23,Lt=24,Fi=25,Tt=26,Ye=27,IT=1;var Or=7,Qa=8,Ya=9,Dt=10;function In(n){return Array.isArray(n)&&typeof n[IT]=="object"}function sn(n){return Array.isArray(n)&&n[IT]===!0}function wg(n){return(n.flags&4)!==0}function Lr(n){return n.componentOffset>-1}function Sl(n){return(n.flags&1)===1}function Vi(n){return!!n.template}function es(n){return(n[Z]&512)!==0}function ji(n){return(n[Z]&256)===256}var wT="svg",TT="math";function Kt(n){for(;Array.isArray(n);)n=n[on];return n}function DT(n,e){return Kt(e[n])}function an(n,e){return Kt(e[n.index])}function Za(n,e){return n.data[e]}function bT(n,e){return n[e]}function Tg(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function Qt(n,e){let t=e[n];return In(t)?t:t[on]}function Al(n){return(n[Z]&128)===128}function CT(n){return sn(n[it])}function Fr(n,e){return e==null?null:n[e]}function Dg(n){n[Oi]=0}function bg(n){n[Z]&1024||(n[Z]|=1024,Al(n)&&ts(n))}function ST(n,e){for(;n>0;)e=e[ki],n--;return e}function Ja(n){return!!(n[Z]&9216||n[Lt]?.dirty)}function Rl(n){n[En].changeDetectionScheduler?.notify(8),n[Z]&64&&(n[Z]|=1024),Ja(n)&&ts(n)}function ts(n){n[En].changeDetectionScheduler?.notify(0);let e=kr(n);for(;e!==null&&!(e[Z]&8192||(e[Z]|=8192,!Al(e)));)e=kr(e)}function Cg(n,e){if(ji(n))throw new j(911,!1);n[Jn]===null&&(n[Jn]=[]),n[Jn].push(e)}function AT(n,e){if(n[Jn]===null)return;let t=n[Jn].indexOf(e);t!==-1&&n[Jn].splice(t,1)}function kr(n){let e=n[it];return sn(e)?e[it]:e}function RT(n){return n[Zo]??=[]}function NT(n){return n.cleanup??=[]}var ae={lFrame:$T(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Jp=!1;function MT(){return ae.lFrame.elementDepthCount}function PT(){ae.lFrame.elementDepthCount++}function Sg(){ae.lFrame.elementDepthCount--}function kT(){return ae.bindingsEnabled}function xT(){return ae.skipHydrationRootTNode!==null}function Ag(n){return ae.skipHydrationRootTNode===n}function Rg(){ae.skipHydrationRootTNode=null}function _e(){return ae.lFrame.lView}function wn(){return ae.lFrame.tView}function Ui(n){return ae.lFrame.contextLView=n,n[ot]}function Bi(n){return ae.lFrame.contextLView=null,n}function kt(){let n=Ng();for(;n!==null&&n.type===64;)n=n.parent;return n}function Ng(){return ae.lFrame.currentTNode}function OT(){let n=ae.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function ns(n,e){let t=ae.lFrame;t.currentTNode=n,t.isParent=e}function Mg(){return ae.lFrame.isParent}function LT(){ae.lFrame.isParent=!1}function Pg(){return Jp}function kg(n){let e=Jp;return Jp=n,e}function xg(){let n=ae.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function FT(n){return ae.lFrame.bindingIndex=n}function Xa(){return ae.lFrame.bindingIndex++}function VT(){return ae.lFrame.inI18n}function jT(n,e){let t=ae.lFrame;t.bindingIndex=t.bindingRootIndex=n,Nl(e)}function UT(){return ae.lFrame.currentDirectiveIndex}function Nl(n){ae.lFrame.currentDirectiveIndex=n}function Og(n){ae.lFrame.currentQueryIndex=n}function wP(n){let e=n[J];return e.type===2?e.declTNode:e.type===1?n[Gt]:null}function Lg(n,e,t){if(t&4){let i=e,o=n;for(;i=i.parent,i===null&&!(t&1);)if(i=wP(o),i===null||(o=o[ki],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=ae.lFrame=BT();return r.currentTNode=e,r.lView=n,!0}function Ml(n){let e=BT(),t=n[J];ae.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function BT(){let n=ae.lFrame,e=n===null?null:n.child;return e===null?$T(n):e}function $T(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function HT(){let n=ae.lFrame;return ae.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var Fg=HT;function Pl(){let n=HT();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function zT(n){return(ae.lFrame.contextLView=ST(n,ae.lFrame.contextLView))[ot]}function kl(){return ae.lFrame.selectedIndex}function Vr(n){ae.lFrame.selectedIndex=n}function Vg(){let n=ae.lFrame;return Za(n.tView,n.selectedIndex)}function qT(){return ae.lFrame.currentNamespace}var GT=!0;function xl(){return GT}function Ol(n){GT=n}function Xp(n,e=null,t=null,r){let i=jg(n,e,t,r);return i.resolveInjectorInitializers(),i}function jg(n,e=null,t=null,r,i=new Set){let o=[t||nn,mT(n)];return r=r||(typeof n=="object"?void 0:Mr(n)),new Ni(o,e||qa(),r||null,i)}var Re=class n{static THROW_IF_NOT_FOUND=Si;static NULL=new ja;static create(e,t){if(Array.isArray(e))return Xp({name:""},t,e,"");{let r=e.name??"";return Xp({name:r},e.parent,e.providers,r)}}static \u0275prov=U({token:n,providedIn:"any",factory:()=>$(pg)});static __NG_ELEMENT_ID__=-1},Ve=new B(""),rr=(()=>{class n{static __NG_ELEMENT_ID__=TP;static __NG_ENV_ID__=t=>t}return n})(),eg=class extends rr{_lView;constructor(e){super(),this._lView=e}get destroyed(){return ji(this._lView)}onDestroy(e){let t=this._lView;return Cg(t,e),()=>AT(t,e)}};function TP(){return new eg(_e())}var rn=class{_console=console;handleError(e){this._console.error("ERROR",e)}},ft=new B("",{providedIn:"root",factory:()=>{let n=R(Fe),e;return t=>{n.destroyed&&!e?setTimeout(()=>{throw t}):(e??=n.get(rn),e.handleError(t))}}}),WT={provide:tr,useValue:()=>void R(rn),multi:!0},DP=new B("",{providedIn:"root",factory:()=>{let n=R(Ve).defaultView;if(!n)return;let e=R(ft),t=o=>{e(o.reason),o.preventDefault()},r=o=>{o.error?e(o.error):e(new Error(o.message,{cause:o})),o.preventDefault()},i=()=>{n.addEventListener("unhandledrejection",t),n.addEventListener("error",r)};typeof Zone<"u"?Zone.root.run(i):i(),R(rr).onDestroy(()=>{n.removeEventListener("error",r),n.removeEventListener("unhandledrejection",t)})}});function Ug(){return ht([gT(()=>void R(DP))])}function $i(n,e){let[t,r,i]=Cp(n,e?.equal),o=t,s=o[Rt];return o.set=r,o.update=i,o.asReadonly=KT.bind(o),o}function KT(){let n=this[Rt];if(n.readonlyFn===void 0){let e=()=>this();e[Rt]=n,n.readonlyFn=e}return n.readonlyFn}var Xn=class{},ec=new B("",{providedIn:"root",factory:()=>!1});var Bg=new B(""),$g=new B("");var Ll=(()=>{class n{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=bP}return n})();function bP(){return new Ll(_e(),kt())}var Tn=(()=>{class n{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new nt(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new G(t=>{t.next(!1),t.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=U({token:n,providedIn:"root",factory:()=>new n})}return n})(),rs=(()=>{class n{internalPendingTasks=R(Tn);scheduler=R(Xn);errorHandler=R(ft);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){let r=this.add();t().catch(this.errorHandler).finally(r)}static \u0275prov=U({token:n,providedIn:"root",factory:()=>new n})}return n})();function tc(...n){}var Hg=(()=>{class n{static \u0275prov=U({token:n,providedIn:"root",factory:()=>new tg})}return n})(),tg=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[t,r]of this.queues)t===null?e||=this.flushQueue(r):e||=t.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let t=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,t=!0,r.run());return t}};function as(n){return{toString:n}.toString()}var Fl="__parameters__";function xP(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function OP(n,e,t){return as(()=>{let r=xP(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return c.annotation=s,c;function c(u,l,h){let p=u.hasOwnProperty(Fl)?u[Fl]:Object.defineProperty(u,Fl,{value:[]})[Fl];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),u}}return i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var Ft=fT(OP("Optional"),8);function LP(n){return typeof n=="function"}var $l=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function wD(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var cs=(()=>{let n=()=>TD;return n.ngInherit=!0,n})();function TD(n){return n.type.prototype.ngOnChanges&&(n.setInput=VP),FP}function FP(){let n=bD(this),e=n?.current;if(e){let t=n.previous;if(t===Pi)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function VP(n,e,t,r,i){let o=this.declaredInputs[r],s=bD(n)||jP(n,{previous:Pi,current:null}),c=s.current||(s.current={}),u=s.previous,l=u[o];c[o]=new $l(l&&l.currentValue,t,u===Pi),wD(n,e,i,t)}var DD="__ngSimpleChanges__";function bD(n){return n[DD]||null}function jP(n,e){return n[DD]=e}var QT=[];var ve=function(n,e=null,t){for(let r=0;r<QT.length;r++){let i=QT[r];i(n,e,t)}};function UP(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=TD(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function BP(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:c,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(n.contentHooks??=[]).push(-t,s),c&&((n.contentHooks??=[]).push(t,c),(n.contentCheckHooks??=[]).push(t,c)),u&&(n.viewHooks??=[]).push(-t,u),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),h!=null&&(n.destroyHooks??=[]).push(t,h)}}function jl(n,e,t){CD(n,e,3,t)}function Ul(n,e,t,r){(n[Z]&3)===t&&CD(n,e,t,r)}function zg(n,e){let t=n[Z];(t&3)===e&&(t&=16383,t+=1,n[Z]=t)}function CD(n,e,t,r){let i=r!==void 0?n[Oi]&65535:0,o=r??-1,s=e.length-1,c=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(c=e[u],r!=null&&c>=r)break}else e[u]<0&&(n[Oi]+=65536),(c<o||o==-1)&&($P(n,t,e,u),n[Oi]=(n[Oi]&4294901760)+u+2),u++}function YT(n,e){ve(4,n,e);let t=ne(null);try{e.call(n)}finally{ne(t),ve(5,n,e)}}function $P(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],c=n[s];i?n[Z]>>14<n[Oi]>>16&&(n[Z]&3)===e&&(n[Z]+=16384,YT(c,o)):YT(c,o)}var os=-1,ic=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=t,this.injectImpl=r}};function HP(n){return(n.flags&8)!==0}function zP(n){return(n.flags&16)!==0}function qP(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],c=t[r++];n.setAttribute(e,s,c,o)}else{let o=i,s=t[++r];GP(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function SD(n){return n===3||n===4||n===6}function GP(n){return n.charCodeAt(0)===64}function id(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?ZT(n,t,i,null,e[++r]):ZT(n,t,i,null,null))}}return n}function ZT(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let c=n[o++];if(typeof c=="number"){if(c===e){s=-1;break}else if(c>e){s=o-1;break}}}for(;o<n.length;){let c=n[o];if(typeof c=="number")break;if(c===t){i!==null&&(n[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i)}function AD(n){return n!==os}function Hl(n){return n&32767}function WP(n){return n>>16}function zl(n,e){let t=WP(n),r=e;for(;t>0;)r=r[ki],t--;return r}var Qg=!0;function ql(n){let e=Qg;return Qg=n,e}var KP=256,RD=KP-1,ND=5,QP=0,Dn={};function YP(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(Mi)&&(r=t[Mi]),r==null&&(r=t[Mi]=QP++);let i=r&RD,o=1<<i;e.data[n+(i>>ND)]|=o}function MD(n,e){let t=PD(n,e);if(t!==-1)return t;let r=e[J];r.firstCreatePass&&(n.injectorIndex=e.length,qg(r.data,n),qg(e,null),qg(r.blueprint,null));let i=lm(n,e),o=n.injectorIndex;if(AD(i)){let s=Hl(i),c=zl(i,e),u=c[J].data;for(let l=0;l<8;l++)e[o+l]=c[s+l]|u[s+l]}return e[o+8]=i,o}function qg(n,e){n.push(0,0,0,0,0,0,0,0,e)}function PD(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function lm(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=FD(i),r===null)return os;if(t++,i=i[ki],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return os}function ZP(n,e,t){YP(n,e,t)}function JP(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(SD(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===e)return t[i+1];i=i+2}}}return null}function kD(n,e,t){if(t&8||n!==void 0)return n;Dl(e,"NodeInjector")}function xD(n,e,t,r){if(t&8&&r===void 0&&(r=null),(t&3)===0){let i=n[Jo],o=wt(void 0);try{return i?i.get(e,r,t&8):hg(e,r,t&8)}finally{wt(o)}}return kD(r,e,t)}function OD(n,e,t,r=0,i){if(n!==null){if(e[Z]&2048&&!(r&2)){let s=rk(n,e,t,r,Dn);if(s!==Dn)return s}let o=LD(n,e,t,r,Dn);if(o!==Dn)return o}return xD(e,t,r,i)}function LD(n,e,t,r,i){let o=tk(t);if(typeof o=="function"){if(!Lg(e,n,r))return r&1?kD(i,t,r):xD(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&8))Dl(t);else return s}finally{Fg()}}else if(typeof o=="number"){let s=null,c=PD(n,e),u=os,l=r&1?e[Wt][Gt]:null;for((c===-1||r&4)&&(u=c===-1?lm(n,e):e[c+8],u===os||!XT(r,!1)?c=-1:(s=e[J],c=Hl(u),e=zl(u,e)));c!==-1;){let h=e[J];if(JT(o,c,h.data)){let p=XP(c,e,t,s,r,l);if(p!==Dn)return p}u=e[c+8],u!==os&&XT(r,e[J].data[c+8]===l)&&JT(o,c,e)?(s=h,c=Hl(u),e=zl(u,e)):c=-1}}return i}function XP(n,e,t,r,i,o){let s=e[J],c=s.data[n+8],u=r==null?Lr(c)&&Qg:r!=s&&(c.type&3)!==0,l=i&1&&o===c,h=ek(c,s,t,u,l);return h!==null?Yg(e,s,h,c,i):Dn}function ek(n,e,t,r,i){let o=n.providerIndexes,s=e.data,c=o&1048575,u=n.directiveStart,l=n.directiveEnd,h=o>>20,p=r?c:c+h,m=i?c+h:l;for(let y=p;y<m;y++){let A=s[y];if(y<u&&t===A||y>=u&&A.type===t)return y}if(i){let y=s[u];if(y&&Vi(y)&&y.type===t)return u}return null}function Yg(n,e,t,r,i){let o=n[t],s=e.data;if(o instanceof ic){let c=o;if(c.resolving){let y=uT(s[t]);throw dg(y)}let u=ql(c.canSeeViewProviders);c.resolving=!0;let l=s[t].type||s[t],h,p=c.injectImpl?wt(c.injectImpl):null,m=Lg(n,r,0);try{o=n[t]=c.factory(void 0,i,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&UP(t,s[t],e)}finally{p!==null&&wt(p),ql(u),c.resolving=!1,Fg()}}return o}function tk(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(Mi)?n[Mi]:void 0;return typeof e=="number"?e>=0?e&RD:nk:e}function JT(n,e,t){let r=1<<n;return!!(t[e+(n>>ND)]&r)}function XT(n,e){return!(n&2)&&!(n&1&&e)}var Hi=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return OD(this._tNode,this._lView,e,Ri(r),t)}};function nk(){return new Hi(kt(),_e())}function od(n){return as(()=>{let e=n.prototype.constructor,t=e[Va]||Zg(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[Va]||Zg(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Zg(n){return ig(n)?()=>{let e=Zg(Pt(n));return e&&e()}:Pr(n)}function rk(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[Z]&2048&&!es(s);){let c=LD(o,s,t,r|2,Dn);if(c!==Dn)return c;let u=o.parent;if(!u){let l=s[Ig];if(l){let h=l.get(t,Dn,r);if(h!==Dn)return h}u=FD(s),s=s[ki]}o=u}return i}function FD(n){let e=n[J],t=e.type;return t===2?e.declTNode:t===1?n[Gt]:null}function ac(n){return JP(kt(),n)}function ik(){return dm(kt(),_e())}function dm(n,e){return new Ki(an(n,e))}var Ki=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=ik}return n})();function VD(n){return(n.flags&128)===128}var hm=(function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n})(hm||{}),jD=new Map,ok=0;function sk(){return ok++}function ak(n){jD.set(n[Wa],n)}function Jg(n){jD.delete(n[Wa])}var eD="__ngContext__";function ss(n,e){In(e)?(n[eD]=e[Wa],ak(e)):n[eD]=e}function UD(n){return $D(n[Xo])}function BD(n){return $D(n[qt])}function $D(n){for(;n!==null&&!sn(n);)n=n[qt];return n}var Xg;function fm(n){Xg=n}function HD(){if(Xg!==void 0)return Xg;if(typeof document<"u")return document;throw new j(210,!1)}var sd=new B("",{providedIn:"root",factory:()=>ck}),ck="ng",ad=new B(""),Ur=new B("",{providedIn:"platform",factory:()=>"unknown"});var cd=new B("",{providedIn:"root",factory:()=>HD().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var uk="h",lk="b";var zD=!1,qD=new B("",{providedIn:"root",factory:()=>zD});var pm=new B("");var dk=(n,e,t,r)=>{};function hk(n,e,t,r){dk(n,e,t,r)}function gm(n){return(n.flags&32)===32}var fk=()=>null;function GD(n,e,t=!1){return fk(n,e,t)}function WD(n,e){let t=n.contentQueries;if(t!==null){let r=ne(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let c=n.data[s];Og(o),c.contentQueries(2,e[s],s)}}}finally{ne(r)}}}function em(n,e,t){Og(0);let r=ne(null);try{e(n,t)}finally{ne(r)}}function KD(n,e,t){if(wg(e)){let r=ne(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let c=n.data[s];if(c.contentQueries){let u=t[s];c.contentQueries(1,u,s)}}}finally{ne(r)}}}var ir=(function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n})(ir||{});var Vl;function pk(){if(Vl===void 0&&(Vl=null,Ua.trustedTypes))try{Vl=Ua.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Vl}function tD(n){return pk()?.createScriptURL(n)||n}var Gl=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Il})`}};function ud(n){return n instanceof Gl?n.changingThisBreaksApplicationSecurity:n}function mm(n,e){let t=QD(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${Il})`)}return t===e}function QD(n){return n instanceof Gl&&n.getTypeName()||null}var gk=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function YD(n){return n=String(n),n.match(gk)?n:"unsafe:"+n}var ld=(function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n})(ld||{});function cc(n){let e=JD();return e?e.sanitize(ld.URL,n)||"":mm(n,"URL")?ud(n):YD($a(n))}function ZD(n){let e=JD();if(e)return tD(e.sanitize(ld.RESOURCE_URL,n)||"");if(mm(n,"ResourceURL"))return tD(ud(n));throw new j(904,!1)}function mk(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?ZD:cc}function ym(n,e,t){return mk(e,t)(n)}function JD(){let n=_e();return n&&n[En].sanitizer}function XD(n){return n instanceof Function?n():n}function yk(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}var eb="ng-template";function vk(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&yk(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(vm(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function vm(n){return n.type===4&&n.value!==eb}function _k(n,e,t){let r=n.type===4&&!t?eb:n.value;return e===r}function Ek(n,e,t){let r=4,i=n.attrs,o=i!==null?Tk(i):0,s=!1;for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="number"){if(!s&&!cn(r)&&!cn(u))return!1;if(s&&cn(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!_k(n,u,t)||u===""&&e.length===1){if(cn(r))return!1;s=!0}}else if(r&8){if(i===null||!vk(n,i,u,t)){if(cn(r))return!1;s=!0}}else{let l=e[++c],h=Ik(u,i,vm(n),t);if(h===-1){if(cn(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(cn(r))return!1;s=!0}}}}return cn(r)||s}function cn(n){return(n&1)===0}function Ik(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let c=e[++i];for(;typeof c=="string";)c=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return Dk(e,n)}function wk(n,e,t=!1){for(let r=0;r<e.length;r++)if(Ek(n,e[r],t))return!0;return!1}function Tk(n){for(let e=0;e<n.length;e++){let t=n[e];if(SD(t))return e}return n.length}function Dk(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function nD(n,e){return n?":not("+e.trim()+")":e}function bk(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let c=n[++t];i+="["+s+(c.length>0?'="'+c+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!cn(s)&&(e+=nD(o,i),i=""),r=s,o=o||!cn(r);t++}return i!==""&&(e+=nD(o,i)),e}function Ck(n){return n.map(bk).join(",")}function Sk(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!cn(i))break;i=o}r++}return t.length&&e.push(1,...t),e}var Br={};function Ak(n,e){return n.createText(e)}function Rk(n,e,t){n.setValue(e,t)}function tb(n,e,t){return n.createElement(e,t)}function Wl(n,e,t,r,i){n.insertBefore(e,t,r,i)}function nb(n,e,t){n.appendChild(e,t)}function rD(n,e,t,r,i){r!==null?Wl(n,e,t,r,i):nb(n,e,t)}function Nk(n,e,t){n.removeChild(null,e,t)}function Mk(n,e,t){n.setAttribute(e,"style",t)}function Pk(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function rb(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&qP(n,e,r),i!==null&&Pk(n,e,i),o!==null&&Mk(n,e,o)}function _m(n,e,t,r,i,o,s,c,u,l,h){let p=Ye+r,m=p+i,y=kk(p,m),A=typeof l=="function"?l():l;return y[J]={type:n,blueprint:y,template:t,queries:null,viewQuery:c,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:A,incompleteFirstPass:!1,ssrId:h}}function kk(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:Br);return t}function xk(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=_m(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Em(n,e,t,r,i,o,s,c,u,l,h){let p=e.blueprint.slice();return p[on]=i,p[Z]=r|4|128|8|64|1024,(l!==null||n&&n[Z]&2048)&&(p[Z]|=2048),Dg(p),p[it]=p[ki]=n,p[ot]=t,p[En]=s||n&&n[En],p[qe]=c||n&&n[qe],p[Jo]=u||n&&n[Jo]||null,p[Gt]=o,p[Wa]=sk(),p[Ga]=h,p[Ig]=l,p[Wt]=e.type==2?n[Wt]:p,p}function Ok(n,e,t){let r=an(e,n),i=xk(t),o=n[En].rendererFactory,s=Im(n,Em(n,i,null,ib(t),r,e,null,o.createRenderer(r,t),null,null,null));return n[e.index]=s}function ib(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function ob(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function Im(n,e){return n[Xo]?n[Eg][qt]=e:n[Xo]=e,n[Eg]=e,e}function un(n=1){sb(wn(),_e(),kl()+n,!1)}function sb(n,e,t,r){if(!r)if((e[Z]&3)===3){let o=n.preOrderCheckHooks;o!==null&&jl(e,o,t)}else{let o=n.preOrderHooks;o!==null&&Ul(e,o,0,t)}Vr(t)}var dd=(function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n})(dd||{});function tm(n,e,t,r){let i=ne(null);try{let[o,s,c]=n.inputs[t],u=null;(s&dd.SignalBased)!==0&&(u=e[o][Rt]),u!==null&&u.transformFn!==void 0?r=u.transformFn(r):c!==null&&(r=c.call(e,r)),n.setInput!==null?n.setInput(e,u,r,t,o):wD(e,u,o,r)}finally{ne(i)}}var $r=(function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n})($r||{}),Lk;function wm(n,e){return Lk(n,e)}var hd=new Set;function is(n,e,t,r,i,o){if(r!=null){let s,c=!1;sn(r)?s=r:In(r)&&(c=!0,r=r[on]);let u=Kt(r);n===0&&t!==null?i==null?nb(e,t,u):Wl(e,t,u,i||null,!0):n===1&&t!==null?Wl(e,t,u,i||null,!0):n===2?iD(o,()=>{Nk(e,u,c)}):n===3&&iD(o,()=>{e.destroyNode(u)}),s!=null&&Qk(e,n,s,t,i)}}function Fk(n,e){ab(n,e),e[on]=null,e[Gt]=null}function Vk(n,e,t,r,i,o){r[on]=i,r[Gt]=e,fd(n,r,t,1,i,o)}function ab(n,e){e[En].changeDetectionScheduler?.notify(9),fd(n,e,e[qe],2,null,null)}function jk(n){let e=n[Xo];if(!e)return Gg(n[J],n);for(;e;){let t=null;if(In(e))t=e[Xo];else{let r=e[Dt];r&&(t=r)}if(!t){for(;e&&!e[qt]&&e!==n;)In(e)&&Gg(e[J],e),e=e[it];e===null&&(e=n),In(e)&&Gg(e[J],e),t=e&&e[qt]}e=t}}function Tm(n,e){let t=n[Ya],r=t.indexOf(e);t.splice(r,1)}function Dm(n,e){if(ji(e))return;let t=e[qe];t.destroyNode&&fd(n,e,t,3,null,null),jk(e)}function Gg(n,e){if(ji(e))return;let t=ne(null);try{e[Z]&=-129,e[Z]|=256,e[Lt]&&ka(e[Lt]),$k(n,e),Bk(n,e),e[J].type===1&&e[qe].destroy();let r=e[xi];if(r!==null&&sn(e[it])){r!==e[it]&&Tm(r,e);let i=e[Li];i!==null&&i.detachView(n)}Jg(e)}finally{ne(t)}}function iD(n,e){if(n&&n[Tt]&&n[Tt].leave)if(n[Tt].skipLeaveAnimations)n[Tt].skipLeaveAnimations=!1;else{let t=n[Tt].leave,r=[];for(let i=0;i<t.length;i++){let o=t[i];r.push(o())}n[Tt].running=Promise.allSettled(r),n[Tt].leave=void 0}Uk(n,e)}function Uk(n,e){if(n&&n[Tt]&&n[Tt].running){n[Tt].running.then(()=>{n[Tt]&&n[Tt].running&&(n[Tt].running=void 0),hd.delete(n),e()});return}e()}function Bk(n,e){let t=n.cleanup,r=e[Zo];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let c=t[s+3];c>=0?r[c]():r[-c].unsubscribe(),s+=2}else{let c=r[t[s+1]];t[s].call(c)}r!==null&&(e[Zo]=null);let i=e[Jn];if(i!==null){e[Jn]=null;for(let s=0;s<i.length;s++){let c=i[s];c()}}let o=e[Ka];if(o!==null){e[Ka]=null;for(let s of o)s.destroy()}}function $k(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof ic)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let c=i[o[s]],u=o[s+1];ve(4,c,u);try{u.call(c)}finally{ve(5,c,u)}}else{ve(4,i,o);try{o.call(i)}finally{ve(5,i,o)}}}}}function Hk(n,e,t){return zk(n,e.parent,t)}function zk(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[on];if(Lr(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===ir.None||i===ir.Emulated)return null}return an(r,t)}function qk(n,e,t){return Wk(n,e,t)}function Gk(n,e,t){return n.type&40?an(n,t):null}var Wk=Gk,oD;function bm(n,e,t,r){let i=Hk(n,r,e),o=e[qe],s=r.parent||e[Gt],c=qk(s,r,e);if(i!=null)if(Array.isArray(t))for(let u=0;u<t.length;u++)rD(o,i,t[u],c,!1);else rD(o,i,t,c,!1);oD!==void 0&&oD(o,r,e,t,i)}function nc(n,e){if(e!==null){let t=e.type;if(t&3)return an(e,n);if(t&4)return nm(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return nc(n,r);{let i=n[e.index];return sn(i)?nm(-1,i):Kt(i)}}else{if(t&128)return nc(n,e.next);if(t&32)return wm(e,n)()||Kt(n[e.index]);{let r=cb(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=kr(n[Wt]);return nc(i,r)}else return nc(n,e.next)}}}return null}function cb(n,e){if(e!==null){let r=n[Wt][Gt],i=e.projection;return r.projection[i]}return null}function nm(n,e){let t=Dt+n+1;if(t<e.length){let r=e[t],i=r[J].firstChild;if(i!==null)return nc(r,i)}return e[Or]}function Cm(n,e,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let c=r[t.index],u=t.type;if(s&&e===0&&(c&&ss(Kt(c),r),t.flags|=2),!gm(t))if(u&8)Cm(n,e,t.child,r,i,o,!1),is(e,n,i,c,o,r);else if(u&32){let l=wm(t,r),h;for(;h=l();)is(e,n,i,h,o,r);is(e,n,i,c,o,r)}else u&16?Kk(n,e,r,t,i,o):is(e,n,i,c,o,r);t=s?t.projectionNext:t.next}}function fd(n,e,t,r,i,o){Cm(t,r,n.firstChild,e,i,o,!1)}function Kk(n,e,t,r,i,o){let s=t[Wt],u=s[Gt].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];is(e,n,i,h,o,t)}else{let l=u,h=s[it];VD(r)&&(l.flags|=128),Cm(n,e,l,h,i,o,!0)}}function Qk(n,e,t,r,i){let o=t[Or],s=Kt(t);o!==s&&is(e,n,r,o,i);for(let c=Dt;c<t.length;c++){let u=t[c];fd(u[J],u,n,e,r,o)}}function ub(n,e,t,r,i){let o=kl(),s=r&2;try{Vr(-1),s&&e.length>Ye&&sb(n,e,Ye,!1),ve(s?2:0,i,t),t(r,i)}finally{Vr(o),ve(s?3:1,i,t)}}function lb(n,e,t){rx(n,e,t),(t.flags&64)===64&&ix(n,e,t)}function Sm(n,e,t=an){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],c=s===-1?t(e,n):n[s];n[i++]=c}}}function Yk(n,e,t,r){let o=r.get(qD,zD)||t===ir.ShadowDom,s=n.selectRootElement(e,o);return Zk(s),s}function Zk(n){Jk(n)}var Jk=()=>null;function Xk(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function ex(n,e,t,r,i,o){let s=e[J];if(Am(n,s,e,t,r)){Lr(n)&&nx(e,n.index);return}n.type&3&&(t=Xk(t)),tx(n,e,t,r,i,o)}function tx(n,e,t,r,i,o){if(n.type&3){let s=an(n,e);r=o!=null?o(r,n.value||"",t):r,i.setProperty(s,t,r)}else n.type&12}function nx(n,e){let t=Qt(e,n);t[Z]&16||(t[Z]|=64)}function rx(n,e,t){let r=t.directiveStart,i=t.directiveEnd;Lr(t)&&Ok(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||MD(t,e);let o=t.initialInputs;for(let s=r;s<i;s++){let c=n.data[s],u=Yg(e,n,s,t);if(ss(u,e),o!==null&&ux(e,s-r,u,c,t,o),Vi(c)){let l=Qt(t.index,e);l[ot]=Yg(e,n,s,t)}}}function ix(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=UT();try{Vr(o);for(let c=r;c<i;c++){let u=n.data[c],l=e[c];Nl(c),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&ox(u,l)}}finally{Vr(-1),Nl(s)}}function ox(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function sx(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];wk(e,o.selectors,!1)&&(r??=[],Vi(o)?r.unshift(o):r.push(o))}return r}function ax(n,e,t,r,i,o){let s=an(n,e);cx(e[qe],s,o,n.value,t,r,i)}function cx(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let c=s==null?$a(o):s(o,r||"",i);n.setAttribute(e,i,c,t)}}function ux(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let c=0;c<s.length;c+=2){let u=s[c],l=s[c+1];tm(r,t,u,l)}}function db(n,e,t,r,i){let o=Ye+t,s=e[J],c=i(s,e,n,r,t);e[o]=c,ns(n,!0);let u=n.type===2;return u?(rb(e[qe],c,n),(MT()===0||Sl(n))&&ss(c,e),PT()):ss(c,e),xl()&&(!u||!gm(n))&&bm(s,e,c,n),n}function hb(n){let e=n;return Mg()?LT():(e=e.parent,ns(e,!1)),e}function lx(n,e){let t=n[Jo];if(!t)return;let r;try{r=t.get(ft,null)}catch{r=null}r?.(e)}function Am(n,e,t,r,i){let o=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],c=!1;if(s)for(let u=0;u<s.length;u+=2){let l=s[u],h=s[u+1],p=e.data[l];tm(p,t[l],h,i),c=!0}if(o)for(let u of o){let l=t[u],h=e.data[u];tm(h,l,r,i),c=!0}return c}function dx(n,e){let t=Qt(e,n),r=t[J];hx(r,t);let i=t[on];i!==null&&t[Ga]===null&&(t[Ga]=GD(i,t[Jo])),ve(18),Rm(r,t,t[ot]),ve(19,t[ot])}function hx(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function Rm(n,e,t){Ml(e);try{let r=n.viewQuery;r!==null&&em(1,r,t);let i=n.template;i!==null&&ub(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Li]?.finishViewCreation(n),n.staticContentQueries&&WD(n,e),n.staticViewQueries&&em(2,n.viewQuery,t);let o=n.components;o!==null&&fx(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[Z]&=-5,Pl()}}function fx(n,e){for(let t=0;t<e.length;t++)dx(n,e[t])}function px(n,e,t,r){let i=ne(null);try{let o=e.tView,c=n[Z]&4096?4096:16,u=Em(n,o,t,c,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];u[xi]=l;let h=n[Li];return h!==null&&(u[Li]=h.createEmbeddedView(o)),Rm(o,u,t),u}finally{ne(i)}}function rm(n,e){return!e||e.firstChild===null||VD(n)}function oc(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(Kt(o)),sn(o)&&fb(o,r);let s=t.type;if(s&8)oc(n,e,t.child,r);else if(s&32){let c=wm(t,e),u;for(;u=c();)r.push(u)}else if(s&16){let c=cb(e,t);if(Array.isArray(c))r.push(...c);else{let u=kr(e[Wt]);oc(u[J],u,c,r,!0)}}t=i?t.projectionNext:t.next}return r}function fb(n,e){for(let t=Dt;t<n.length;t++){let r=n[t],i=r[J].firstChild;i!==null&&oc(r[J],r,i,e)}n[Or]!==n[on]&&e.push(n[Or])}function pb(n){if(n[Fi]!==null){for(let e of n[Fi])e.impl.addSequence(e);n[Fi].length=0}}var gb=[];function gx(n){return n[Lt]??mx(n)}function mx(n){let e=gb.pop()??Object.create(vx);return e.lView=n,e}function yx(n){n.lView[Lt]!==n&&(n.lView=null,gb.push(n))}var vx=pe(O({},Ra),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{ts(n.lView)},consumerOnSignalRead(){this.lView[Lt]=this}});function _x(n){let e=n[Lt]??Object.create(Ex);return e.lView=n,e}var Ex=pe(O({},Ra),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=kr(n.lView);for(;e&&!mb(e[J]);)e=kr(e);e&&bg(e)},consumerOnSignalRead(){this.lView[Lt]=this}});function mb(n){return n.type!==2}function yb(n){if(n[Ka]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[Ka])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[Z]&8192)}}var Ix=100;function vb(n,e=0){let r=n[En].rendererFactory,i=!1;i||r.begin?.();try{wx(n,e)}finally{i||r.end?.()}}function wx(n,e){let t=Pg();try{kg(!0),im(n,e);let r=0;for(;Ja(n);){if(r===Ix)throw new j(103,!1);r++,im(n,1)}}finally{kg(t)}}function Tx(n,e,t,r){if(ji(e))return;let i=e[Z],o=!1,s=!1;Ml(e);let c=!0,u=null,l=null;o||(mb(n)?(l=gx(e),u=Ma(l)):Wu()===null?(c=!1,l=_x(e),u=Ma(l)):e[Lt]&&(ka(e[Lt]),e[Lt]=null));try{Dg(e),FT(n.bindingStartIndex),t!==null&&ub(n,e,t,2,r),Dx(e);let h=(i&3)===3;if(!o)if(h){let y=n.preOrderCheckHooks;y!==null&&jl(e,y,null)}else{let y=n.preOrderHooks;y!==null&&Ul(e,y,0,null),zg(e,0)}if(s||bx(e),yb(e),_b(e,0),n.contentQueries!==null&&WD(n,e),!o)if(h){let y=n.contentCheckHooks;y!==null&&jl(e,y)}else{let y=n.contentHooks;y!==null&&Ul(e,y,1),zg(e,1)}Sx(n,e);let p=n.components;p!==null&&Ib(e,p,0);let m=n.viewQuery;if(m!==null&&em(2,m,r),!o)if(h){let y=n.viewCheckHooks;y!==null&&jl(e,y)}else{let y=n.viewHooks;y!==null&&Ul(e,y,2),zg(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[Cl]){for(let y of e[Cl])y();e[Cl]=null}o||(pb(e),e[Z]&=-73)}catch(h){throw o||ts(e),h}finally{l!==null&&(Ku(l,u),c&&yx(l)),Pl()}}function Dx(n){let e=n[Tt];if(e?.enter){for(let t of e.enter)t();e.enter=void 0}}function _b(n,e){for(let t=UD(n);t!==null;t=BD(t))for(let r=Dt;r<t.length;r++){let i=t[r];Eb(i,e)}}function bx(n){for(let e=UD(n);e!==null;e=BD(e)){if(!(e[Z]&2))continue;let t=e[Ya];for(let r=0;r<t.length;r++){let i=t[r];bg(i)}}}function Cx(n,e,t){ve(18);let r=Qt(e,n);Eb(r,t),ve(19,r[ot])}function Eb(n,e){Al(n)&&im(n,e)}function im(n,e){let r=n[J],i=n[Z],o=n[Lt],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Pa(o)),s||=!1,o&&(o.dirty=!1),n[Z]&=-9217,s)Tx(r,n,r.template,n[ot]);else if(i&8192){let c=ne(null);try{yb(n),_b(n,1);let u=r.components;u!==null&&Ib(n,u,1),pb(n)}finally{ne(c)}}}function Ib(n,e,t){for(let r=0;r<e.length;r++)Cx(n,e[r],t)}function Sx(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)Vr(~i);else{let o=i,s=t[++r],c=t[++r];jT(s,o);let u=e[o];ve(24,u),c(2,u),ve(25,u)}}}finally{Vr(-1)}}function Nm(n,e){let t=Pg()?64:1088;for(n[En].changeDetectionScheduler?.notify(e);n;){n[Z]|=t;let r=kr(n);if(es(n)&&!r)return n;n=r}return null}function wb(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function Ax(n,e){let t=Dt+e;if(t<n.length)return n[t]}function Tb(n,e,t,r=!0){let i=e[J];if(Nx(i,e,n,t),r){let s=nm(t,n),c=e[qe],u=c.parentNode(n[Or]);u!==null&&Vk(i,n[Gt],c,e,u,s)}let o=e[Ga];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Rx(n,e){let t=Kl(n,e);return t!==void 0&&Dm(t[J],t),t}function Kl(n,e){if(n.length<=Dt)return;let t=Dt+e,r=n[t];if(r){let i=r[xi];i!==null&&i!==n&&Tm(i,r),e>0&&(n[t-1][qt]=r[qt]);let o=Ha(n,Dt+e);Fk(r[J],r);let s=o[Li];s!==null&&s.detachView(o[J]),r[it]=null,r[qt]=null,r[Z]&=-129}return r}function Nx(n,e,t,r){let i=Dt+r,o=t.length;r>0&&(t[i-1][qt]=e),r<o-Dt?(e[qt]=t[i],fg(t,Dt+r,e)):(t.push(e),e[qt]=null),e[it]=t;let s=e[xi];s!==null&&t!==s&&Db(s,e);let c=e[Li];c!==null&&c.insertView(n),Rl(e),e[Z]|=128}function Db(n,e){let t=n[Ya],r=e[it];if(In(r))n[Z]|=2;else{let i=r[it][Wt];e[Wt]!==i&&(n[Z]|=2)}t===null?n[Ya]=[e]:t.push(e)}var zi=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,t=e[J];return oc(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t}get context(){return this._lView[ot]}set context(e){this._lView[ot]=e}get destroyed(){return ji(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[it];if(sn(e)){let t=e[Qa],r=t?t.indexOf(this):-1;r>-1&&(Kl(e,r),Ha(t,r))}this._attachedToViewContainer=!1}Dm(this._lView[J],this._lView)}onDestroy(e){Cg(this._lView,e)}markForCheck(){Nm(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Z]&=-129}reattach(){Rl(this._lView),this._lView[Z]|=128}detectChanges(){this._lView[Z]|=1024,vb(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new j(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=es(this._lView),t=this._lView[xi];t!==null&&!e&&Tm(t,this._lView),ab(this._lView[J],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new j(902,!1);this._appRef=e;let t=es(this._lView),r=this._lView[xi];r!==null&&!t&&Db(r,this._lView),Rl(this._lView)}};function pd(n,e,t,r,i){let o=n.data[e];if(o===null)o=Mx(n,e,t,r,i),VT()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=OT();o.injectorIndex=s===null?-1:s.injectorIndex}return ns(o,!0),o}function Mx(n,e,t,r,i){let o=Ng(),s=Mg(),c=s?o:o&&o.parent,u=n.data[e]=kx(n,c,t,e,r,i);return Px(n,u,o,s),u}function Px(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function kx(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,c=0;return xT()&&(c|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var DW=new RegExp(`^(\\d+)*(${lk}|${uk})*(.*)`);var xx=()=>null,Ox=()=>null;function sD(n,e){return xx(n,e)}function Lx(n,e,t){return Ox(n,e,t)}var bb=class{},gd=class{},om=class{resolveComponentFactory(e){throw new j(917,!1)}},uc=class{static NULL=new om},qi=class{},us=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>Fx()}return n})();function Fx(){let n=_e(),e=kt(),t=Qt(e.index,n);return(In(t)?t:n)[qe]}var Cb=(()=>{class n{static \u0275prov=U({token:n,providedIn:"root",factory:()=>null})}return n})();var Bl={},sm=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){let i=this.injector.get(e,Bl,r);return i!==Bl||t===Bl?i:this.parentInjector.get(e,t,r)}};function Ql(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let c=e[s];if(typeof c=="number")o=c;else if(o==1)i=rg(i,c);else if(o==2){let u=c,l=e[++s];r=rg(r,u+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function st(n,e=0){let t=_e();if(t===null)return $(n,e);let r=kt();return OD(r,t,Pt(n),e)}function Mm(){let n="invalid";throw new Error(n)}function Vx(n,e,t,r,i){let o=r===null?null:{"":-1},s=i(n,t);if(s!==null){let c=s,u=null,l=null;for(let h of s)if(h.resolveHostDirectives!==null){[c,u,l]=h.resolveHostDirectives(s);break}Bx(n,e,t,c,o,u,l)}o!==null&&r!==null&&jx(t,r,o)}function jx(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new j(-301,!1);r.push(e[i],o)}}function Ux(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function Bx(n,e,t,r,i,o,s){let c=r.length,u=!1;for(let m=0;m<c;m++){let y=r[m];!u&&Vi(y)&&(u=!0,Ux(n,t,m)),ZP(MD(t,e),n,y.type)}Wx(t,n.data.length,c);for(let m=0;m<c;m++){let y=r[m];y.providersResolver&&y.providersResolver(y)}let l=!1,h=!1,p=ob(n,e,c,null);c>0&&(t.directiveToIndex=new Map);for(let m=0;m<c;m++){let y=r[m];if(t.mergedAttrs=id(t.mergedAttrs,y.hostAttrs),Hx(n,t,e,p,y),Gx(p,y,i),s!==null&&s.has(y)){let[P,N]=s.get(y);t.directiveToIndex.set(y.type,[p,P+t.directiveStart,N+t.directiveStart])}else(o===null||!o.has(y))&&t.directiveToIndex.set(y.type,p);y.contentQueries!==null&&(t.flags|=4),(y.hostBindings!==null||y.hostAttrs!==null||y.hostVars!==0)&&(t.flags|=64);let A=y.type.prototype;!l&&(A.ngOnChanges||A.ngOnInit||A.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),l=!0),!h&&(A.ngOnChanges||A.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),h=!0),p++}$x(n,t,o)}function $x(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))aD(0,e,i,r),aD(1,e,i,r),uD(e,r,!1);else{let o=t.get(i);cD(0,e,o,r),cD(1,e,o,r),uD(e,r,!0)}}}function aD(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),Sb(e,o)}}function cD(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],c;n===0?c=e.hostDirectiveInputs??={}:c=e.hostDirectiveOutputs??={},c[s]??=[],c[s].push(r,o),Sb(e,s)}}function Sb(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function uD(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(r===null||!t&&i===null||t&&o===null||vm(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,c=0;for(;c<r.length;){let u=r[c];if(u===0){c+=4;continue}else if(u===5){c+=2;continue}else if(typeof u=="number")break;if(!t&&i.hasOwnProperty(u)){let l=i[u];for(let h of l)if(h===e){s??=[],s.push(u,r[c+1]);break}}else if(t&&o.hasOwnProperty(u)){let l=o[u];for(let h=0;h<l.length;h+=2)if(l[h]===e){s??=[],s.push(l[h+1],r[c+1]);break}}c+=2}n.initialInputs??=[],n.initialInputs.push(s)}function Hx(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=Pr(i.type,!0)),s=new ic(o,Vi(i),st,null);n.blueprint[r]=s,t[r]=s,zx(n,e,r,ob(n,t,i.hostVars,Br),i)}function zx(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let c=~e.index;qx(s)!=c&&s.push(c),s.push(t,r,o)}}function qx(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function Gx(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Vi(e)&&(t[""]=n)}}function Wx(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function Ab(n,e,t,r,i,o,s,c){let u=e[J],l=u.consts,h=Fr(l,s),p=pd(u,n,t,r,h);return o&&Vx(u,e,p,Fr(l,c),i),p.mergedAttrs=id(p.mergedAttrs,p.attrs),p.attrs!==null&&Ql(p,p.attrs,!1),p.mergedAttrs!==null&&Ql(p,p.mergedAttrs,!0),u.queries!==null&&u.queries.elementStart(u,p),p}function Rb(n,e){BP(n,e),wg(e)&&n.queries.elementEnd(e)}function Kx(n,e,t,r,i,o){let s=e.consts,c=Fr(s,i),u=pd(e,n,t,r,c);if(u.mergedAttrs=id(u.mergedAttrs,u.attrs),o!=null){let l=Fr(s,o);u.localNames=[];for(let h=0;h<l.length;h+=2)u.localNames.push(l[h],-1)}return u.attrs!==null&&Ql(u,u.attrs,!1),u.mergedAttrs!==null&&Ql(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function Nb(n,e,t){return n[e]=t}function jr(n,e,t){if(t===Br)return!1;let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function Qx(n,e,t,r){let i=jr(n,e,t);return jr(n,e+1,r)||i}function Yx(n,e,t,r,i){let o=Qx(n,e,t,r);return jr(n,e+2,i)||o}function Wg(n,e,t){return function r(i){let o=Lr(n)?Qt(n.index,e):e;Nm(o,5);let s=e[ot],c=lD(e,s,t,i),u=r.__ngNextListenerFn__;for(;u;)c=lD(e,s,u,i)&&c,u=u.__ngNextListenerFn__;return c}}function lD(n,e,t,r){let i=ne(null);try{return ve(6,e,t),t(r)!==!1}catch(o){return lx(n,o),!1}finally{ve(7,e,t),ne(i)}}function Zx(n,e,t,r,i,o,s,c){let u=Sl(n),l=!1,h=null;if(!r&&u&&(h=Xx(e,t,o,n.index)),h!==null){let p=h.__ngLastListenerFn__||h;p.__ngNextListenerFn__=s,h.__ngLastListenerFn__=s,l=!0}else{let p=an(n,t),m=r?r(p):p;hk(t,m,o,c);let y=i.listen(m,o,c);if(!Jx(o)){let A=r?P=>r(Kt(P[n.index])):n.index;Mb(A,e,t,o,c,y,!1)}}return l}function Jx(n){return n.startsWith("animation")||n.startsWith("transition")}function Xx(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let c=e[Zo],u=i[o+2];return c&&c.length>u?c[u]:null}typeof s=="string"&&(o+=2)}return null}function Mb(n,e,t,r,i,o,s){let c=e.firstCreatePass?NT(e):null,u=RT(t),l=u.length;u.push(i,o),c&&c.push(r,n,l,(l+1)*(s?-1:1))}function dD(n,e,t,r,i,o){let s=e[t],c=e[J],l=c.data[t].outputs[r],p=s[l].subscribe(o);Mb(n.index,c,e,i,o,p,!0)}var am=Symbol("BINDING");var Yl=class extends uc{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=nr(e);return new Gi(t,this.ngModule)}};function eO(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],o={propName:t,templateName:e,isSignal:(r&dd.SignalBased)!==0};return i&&(o.transform=i),o})}function tO(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function nO(n,e,t){let r=e instanceof Fe?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new sm(t,r):t}function rO(n){let e=n.get(qi,null);if(e===null)throw new j(407,!1);let t=n.get(Cb,null),r=n.get(Xn,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r,ngReflect:!1}}function iO(n,e){let t=Pb(n);return tb(e,t,t==="svg"?wT:t==="math"?TT:null)}function Pb(n){return(n.selectors[0][0]||"div").toLowerCase()}var Gi=class extends gd{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=eO(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=tO(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=Ck(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i,o,s){ve(22);let c=ne(null);try{let u=this.componentDef,l=oO(r,u,s,o),h=nO(u,i||this.ngModule,e),p=rO(h),m=p.rendererFactory.createRenderer(null,u),y=r?Yk(m,r,u.encapsulation,h):iO(u,m),A=s?.some(hD)||o?.some(F=>typeof F!="function"&&F.bindings.some(hD)),P=Em(null,l,null,512|ib(u),null,null,p,m,h,null,GD(y,h,!0));P[Ye]=y,Ml(P);let N=null;try{let F=Ab(Ye,P,2,"#host",()=>l.directiveRegistry,!0,0);y&&(rb(m,y,F),ss(y,P)),lb(l,P,F),KD(l,F,P),Rb(l,F),t!==void 0&&aO(F,this.ngContentSelectors,t),N=Qt(F.index,P),P[ot]=N[ot],Rm(l,P,null)}catch(F){throw N!==null&&Jg(N),Jg(P),F}finally{ve(23),Pl()}return new Zl(this.componentType,P,!!A)}finally{ne(c)}}};function oO(n,e,t,r){let i=n?["ng-version","20.3.1"]:Sk(e.selectors[0]),o=null,s=null,c=0;if(t)for(let h of t)c+=h[am].requiredVars,h.create&&(h.targetIdx=0,(o??=[]).push(h)),h.update&&(h.targetIdx=0,(s??=[]).push(h));if(r)for(let h=0;h<r.length;h++){let p=r[h];if(typeof p!="function")for(let m of p.bindings){c+=m[am].requiredVars;let y=h+1;m.create&&(m.targetIdx=y,(o??=[]).push(m)),m.update&&(m.targetIdx=y,(s??=[]).push(m))}}let u=[e];if(r)for(let h of r){let p=typeof h=="function"?h:h.type,m=yg(p);u.push(m)}return _m(0,null,sO(o,s),1,c,u,null,null,null,[i],null)}function sO(n,e){return!n&&!e?null:t=>{if(t&1&&n)for(let r of n)r.create();if(t&2&&e)for(let r of e)r.update()}}function hD(n){let e=n[am].kind;return e==="input"||e==="twoWay"}var Zl=class extends bb{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t,r){super(),this._rootLView=t,this._hasInputBindings=r,this._tNode=Za(t[J],Ye),this.location=dm(this._tNode,t),this.instance=Qt(this._tNode.index,t)[ot],this.hostView=this.changeDetectorRef=new zi(t,void 0),this.componentType=e}setInput(e,t){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,o=Am(r,i[J],i,e,t);this.previousInputValues.set(e,t);let s=Qt(r.index,i);Nm(s,1)}get injector(){return new Hi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function aO(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var lc=(()=>{class n{static __NG_ELEMENT_ID__=cO}return n})();function cO(){let n=kt();return lO(n,_e())}var uO=lc,kb=class extends uO{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return dm(this._hostTNode,this._hostLView)}get injector(){return new Hi(this._hostTNode,this._hostLView)}get parentInjector(){let e=lm(this._hostTNode,this._hostLView);if(AD(e)){let t=zl(e,this._hostLView),r=Hl(e),i=t[J].data[r+8];return new Hi(i,t)}else return new Hi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=fD(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-Dt}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=sD(this._lContainer,e.ssrId),c=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(c,i,rm(this._hostTNode,s)),c}createComponent(e,t,r,i,o,s,c){let u=e&&!LP(e),l;if(u)l=t;else{let N=t||{};l=N.index,r=N.injector,i=N.projectableNodes,o=N.environmentInjector||N.ngModuleRef,s=N.directives,c=N.bindings}let h=u?e:new Gi(nr(e)),p=r||this.parentInjector;if(!o&&h.ngModule==null){let F=(u?p:this.parentInjector).get(Fe,null);F&&(o=F)}let m=nr(h.componentType??{}),y=sD(this._lContainer,m?.id??null),A=y?.firstChild??null,P=h.create(p,i,A,o,s,c);return this.insertImpl(P.hostView,l,rm(this._hostTNode,y)),P}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(CT(i)){let c=this.indexOf(e);if(c!==-1)this.detach(c);else{let u=i[it],l=new kb(u,u[Gt],u[it]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return Tb(s,i,o,r),e.attachToViewContainerRef(),fg(Kg(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=fD(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=Kl(this._lContainer,t);r&&(Ha(Kg(this._lContainer),t),Dm(r[J],r))}detach(e){let t=this._adjustIndex(e,-1),r=Kl(this._lContainer,t);return r&&Ha(Kg(this._lContainer),t)!=null?new zi(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function fD(n){return n[Qa]}function Kg(n){return n[Qa]||(n[Qa]=[])}function lO(n,e){let t,r=e[n.index];return sn(r)?t=r:(t=wb(r,e,null,n),e[n.index]=t,Im(e,t)),hO(t,e,n,r),new kb(t,n,e)}function dO(n,e){let t=n[qe],r=t.createComment(""),i=an(e,n),o=t.parentNode(i);return Wl(t,o,r,t.nextSibling(i),!1),r}var hO=gO,fO=()=>!1;function pO(n,e,t){return fO(n,e,t)}function gO(n,e,t,r){if(n[Or])return;let i;t.type&8?i=Kt(r):i=dO(e,t),n[Or]=i}var pD=new Set;function bn(n){pD.has(n)||(pD.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var Wi=class{},md=class{};var Jl=class extends Wi{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Yl(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let o=mg(e);this._bootstrapComponents=XD(o.bootstrap),this._r3Injector=jg(e,t,[{provide:Wi,useValue:this},{provide:uc,useValue:this.componentFactoryResolver},...r],Mr(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Xl=class extends md{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new Jl(this.moduleType,e,[])}};var sc=class extends Wi{injector;componentFactoryResolver=new Yl(this);instance=null;constructor(e){super();let t=new Ni([...e.providers,{provide:Wi,useValue:this},{provide:uc,useValue:this.componentFactoryResolver}],e.parent||qa(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function ls(n,e,t=null){return new sc({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var mO=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=vg(!1,t.type),i=r.length>0?ls([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=U({token:n,providedIn:"environment",factory:()=>new n($(Fe))})}return n})();function Vt(n){return as(()=>{let e=xb(n),t=pe(O({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===hm.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(mO).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||ir.Emulated,styles:n.styles||nn,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&bn("NgStandalone"),Ob(t);let r=n.dependencies;return t.directiveDefs=gD(r,yO),t.pipeDefs=gD(r,pT),t.id=EO(t),t})}function yO(n){return nr(n)||yg(n)}function Hr(n){return as(()=>({type:n.type,bootstrap:n.bootstrap||nn,declarations:n.declarations||nn,imports:n.imports||nn,exports:n.exports||nn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function vO(n,e){if(n==null)return Pi;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,c,u;Array.isArray(i)?(c=i[0],o=i[1],s=i[2]??o,u=i[3]||null):(o=i,s=i,c=dd.None,u=null),t[o]=[r,c,u],e[o]=s}return t}function _O(n){if(n==null)return Pi;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function Qi(n){return as(()=>{let e=xb(n);return Ob(e),e})}function Pm(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function xb(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||Pi,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||nn,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:vO(n.inputs,e),outputs:_O(n.outputs),debugInfo:null}}function Ob(n){n.features?.forEach(e=>e(n))}function gD(n,e){return n?()=>{let t=typeof n=="function"?n():n,r=[];for(let i of t){let o=e(i);o!==null&&r.push(o)}return r}:null}function EO(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function IO(n,e,t,r,i,o,s,c){if(t.firstCreatePass){n.mergedAttrs=id(n.mergedAttrs,n.attrs);let h=n.tView=_m(2,n,i,o,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,t.consts,null);t.queries!==null&&(t.queries.template(t,n),h.queries=t.queries.embeddedTView(n))}c&&(n.flags|=c),ns(n,!1);let u=wO(t,e,n,r);xl()&&bm(t,e,u,n),ss(u,e);let l=wb(u,e,u,n);e[r+Ye]=l,Im(e,l),pO(l,n,e)}function Lb(n,e,t,r,i,o,s,c,u,l,h){let p=t+Ye,m;if(e.firstCreatePass){if(m=pd(e,p,4,s||null,c||null),l!=null){let y=Fr(e.consts,l);m.localNames=[];for(let A=0;A<y.length;A+=2)m.localNames.push(y[A],-1)}}else m=e.data[p];return IO(m,n,e,t,r,i,o,u),l!=null&&Sm(n,m,h),m}var wO=TO;function TO(n,e,t,r){return Ol(!0),e[qe].createComment("")}var yd=(function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n})(yd||{}),Yi=new B(""),Fb=!1,cm=class extends ke{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,ET()&&(this.destroyRef=R(rr,{optional:!0})??void 0,this.pendingTasks=R(Tn,{optional:!0})??void 0)}emit(e){let t=ne(null);try{super.next(e)}finally{ne(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let c=super.subscribe({next:i,error:o,complete:s});return e instanceof Pe&&e.add(c),c}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},bt=cm;function Vb(n){let e,t;function r(){n=tc;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function mD(n){return queueMicrotask(()=>n()),()=>{n=tc}}var km="isAngularZone",ed=km+"_ID",DO=0,de=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new bt(!1);onMicrotaskEmpty=new bt(!1);onStable=new bt(!1);onError=new bt(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=Fb}=e;if(typeof Zone>"u")throw new j(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,SO(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(km)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new j(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new j(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,bO,tc,tc);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},bO={};function xm(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function CO(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){Vb(()=>{n.callbackScheduled=!1,um(n),n.isCheckStableRunning=!0,xm(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),um(n)}function SO(n){let e=()=>{CO(n)},t=DO++;n._inner=n._inner.fork({name:"angular",properties:{[km]:!0,[ed]:t,[ed+t]:!0},onInvokeTask:(r,i,o,s,c,u)=>{if(AO(u))return r.invokeTask(o,s,c,u);try{return yD(n),r.invokeTask(o,s,c,u)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),vD(n)}},onInvoke:(r,i,o,s,c,u,l)=>{try{return yD(n),r.invoke(o,s,c,u,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!RO(u)&&e(),vD(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,um(n),xm(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function um(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function yD(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function vD(n){n._nesting--,xm(n)}var td=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new bt;onMicrotaskEmpty=new bt;onStable=new bt;onError=new bt;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function AO(n){return jb(n,"__ignore_ng_zone__")}function RO(n){return jb(n,"__scheduler_tick__")}function jb(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var Om=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=U({token:n,providedIn:"root",factory:()=>new n})}return n})(),Ub=[0,1,2,3],Bb=(()=>{class n{ngZone=R(de);scheduler=R(Xn);errorHandler=R(rn,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){R(Yi,{optional:!0})}execute(){let t=this.sequences.size>0;t&&ve(16),this.executing=!0;for(let r of Ub)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&ve(17)}register(t){let{view:r}=t;r!==void 0?((r[Fi]??=[]).push(t),ts(r),r[Z]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run(yd.AFTER_NEXT_RENDER,t):t()}static \u0275prov=U({token:n,providedIn:"root",factory:()=>new n})}return n})(),nd=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,t,r,i,o,s=null){this.impl=e,this.hooks=t,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[Fi];e&&(this.view[Fi]=e.filter(t=>t!==this))}};function Lm(n,e){let t=e?.injector??R(Re);return bn("NgAfterNextRender"),MO(n,t,e,!0)}function NO(n){return n instanceof Function?[void 0,void 0,n,void 0]:[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function MO(n,e,t,r){let i=e.get(Om);i.impl??=e.get(Bb);let o=e.get(Yi,null,{optional:!0}),s=t?.manualCleanup!==!0?e.get(rr):null,c=e.get(Ll,null,{optional:!0}),u=new nd(i.impl,NO(n),c?.view,r,s,o?.snapshot(null));return i.impl.register(u),u}var Fm=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var Vm=new B("");function Zi(n){return!!n&&typeof n.then=="function"}function vd(n){return!!n&&typeof n.subscribe=="function"}var jm=new B("");function ds(n){return ht([{provide:jm,multi:!0,useValue:n}])}var Um=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=R(jm,{optional:!0})??[];injector=R(Re);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=je(this.injector,i);if(Zi(o))t.push(o);else if(vd(o)){let s=new Promise((c,u)=>{o.subscribe({complete:c,error:u})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),dc=new B("");function $b(){bp(()=>{let n="";throw new j(600,n)})}function Hb(n){return n.isBoundToModule}var PO=10;var Cn=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=R(ft);afterRenderManager=R(Om);zonelessEnabled=R(ec);rootEffectScheduler=R(Hg);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new ke;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=R(Tn);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(Y(t=>!t))}constructor(){R(Yi,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=R(Fe);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=Re.NULL){return this._injector.get(de).run(()=>{ve(10);let s=t instanceof gd;if(!this._injector.get(Um).done){let A="";throw new j(405,A)}let u;s?u=t:u=this._injector.get(uc).resolveComponentFactory(t),this.componentTypes.push(u.componentType);let l=Hb(u)?void 0:this._injector.get(Wi),h=r||u.selector,p=u.create(i,[],h,l),m=p.location.nativeElement,y=p.injector.get(Vm,null);return y?.registerApplication(m),p.onDestroy(()=>{this.detachView(p.hostView),rc(this.components,p),y?.unregisterApplication(m)}),this._loadComponent(p),ve(11,p),p})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){ve(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(yd.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new j(101,!1);let t=ne(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,ne(t),this.afterTick.next(),ve(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(qi,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<PO;)ve(14),this.synchronizeOnce(),ve(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let t=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!Ja(i))continue;let o=r&&!this.zonelessEnabled?0:1;vb(i,o),t=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}t||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Ja(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;rc(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(t),this._injector.get(dc,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>rc(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new j(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function rc(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function _d(n,e,t,r){let i=_e(),o=Xa();if(jr(i,o,e)){let s=wn(),c=Vg();ax(c,i,n,e,t,r)}return _d}var MW=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";function Ji(n,e,t,r,i,o,s,c){bn("NgControlFlow");let u=_e(),l=wn(),h=Fr(l.consts,o);return Lb(u,l,n,e,t,r,i,h,256,s,c),hs}function hs(n,e,t,r,i,o,s,c){bn("NgControlFlow");let u=_e(),l=wn(),h=Fr(l.consts,o);return Lb(u,l,n,e,t,r,i,h,512,s,c),hs}function Xi(n,e){bn("NgControlFlow");let t=_e(),r=Xa(),i=t[r]!==Br?t[r]:-1,o=i!==-1?_D(t,Ye+i):void 0,s=0;if(jr(t,r,n)){let c=ne(null);try{if(o!==void 0&&Rx(o,s),n!==-1){let u=Ye+n,l=_D(t,u),h=kO(t[J],u),p=Lx(l,h,t),m=px(t,h,e,{dehydratedView:p});Tb(l,m,s,rm(h,p))}}finally{ne(c)}}else if(o!==void 0){let c=Ax(o,s);c!==void 0&&(c[ot]=e)}}function _D(n,e){return n[e]}function kO(n,e){return Za(n,e)}function eo(n,e,t){let r=_e(),i=Xa();if(jr(r,i,e)){let o=wn(),s=Vg();ex(s,r,n,e,r[qe],t)}return eo}function ED(n,e,t,r,i){Am(e,n,t,i?"class":"style",r)}function Ee(n,e,t,r){let i=_e(),o=i[J],s=n+Ye,c=o.firstCreatePass?Ab(s,i,2,e,sx,kT(),t,r):o.data[s];if(db(c,i,n,e,zb),Sl(c)){let u=i[J];lb(u,i,c),KD(u,c,i)}return r!=null&&Sm(i,c),Ee}function Ie(){let n=wn(),e=kt(),t=hb(e);return n.firstCreatePass&&Rb(n,t),Ag(t)&&Rg(),Sg(),t.classesWithoutHost!=null&&HP(t)&&ED(n,t,_e(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&zP(t)&&ED(n,t,_e(),t.stylesWithoutHost,!1),Ie}function Ze(n,e,t,r){return Ee(n,e,t,r),Ie(),Ze}function zr(n,e,t,r){let i=_e(),o=i[J],s=n+Ye,c=o.firstCreatePass?Kx(s,o,2,e,t,r):o.data[s];return db(c,i,n,e,zb),r!=null&&Sm(i,c),zr}function qr(){let n=kt(),e=hb(n);return Ag(e)&&Rg(),Sg(),qr}var zb=(n,e,t,r,i)=>(Ol(!0),tb(e[qe],r,qT()));function fs(){return _e()}var hc="en-US";var xO=hc;function qb(n){typeof n=="string"&&(xO=n.toLowerCase().replace(/_/g,"-"))}function or(n,e,t){let r=_e(),i=wn(),o=kt();return OO(i,r,r[qe],o,n,e,t),or}function OO(n,e,t,r,i,o,s){let c=!0,u=null;if((r.type&3||s)&&(u??=Wg(r,e,o),Zx(r,n,e,s,t,i,o,u)&&(c=!1)),c){let l=r.outputs?.[i],h=r.hostDirectiveOutputs?.[i];if(h&&h.length)for(let p=0;p<h.length;p+=2){let m=h[p],y=h[p+1];u??=Wg(r,e,o),dD(r,e,m,y,i,u)}if(l&&l.length)for(let p of l)u??=Wg(r,e,o),dD(r,e,p,i,i,u)}}function Gr(n=1){return zT(n)}function Ce(n,e=""){let t=_e(),r=wn(),i=n+Ye,o=r.firstCreatePass?pd(r,i,1,e,null):r.data[i],s=LO(r,t,o,e,n);t[i]=s,xl()&&bm(r,t,s,o),ns(o,!1)}var LO=(n,e,t,r,i)=>(Ol(!0),Ak(e[qe],r));function FO(n,e,t,r=""){return jr(n,Xa(),t)?e+$a(t)+r:Br}function Ed(n){return fc("",n),Ed}function fc(n,e,t){let r=_e(),i=FO(r,n,e,t);return i!==Br&&VO(r,kl(),i),fc}function VO(n,e,t){let r=DT(e,n);Rk(n[qe],r,t)}function Bm(n,e,t,r,i,o){return UO(_e(),xg(),n,e,t,r,i,o)}function Gb(n,e){let t=n[e];return t===Br?void 0:t}function jO(n,e,t,r,i,o){let s=e+t;return jr(n,s,i)?Nb(n,s+1,o?r.call(o,i):r(i)):Gb(n,s+1)}function UO(n,e,t,r,i,o,s,c){let u=e+t;return Yx(n,u,i,o,s)?Nb(n,u+3,c?r.call(c,i,o,s):r(i,o,s)):Gb(n,u+3)}function Id(n,e){let t=wn(),r,i=n+Ye;t.firstCreatePass?(r=BO(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=Pr(r.type,!0)),s,c=wt(st);try{let u=ql(!1),l=o();return ql(u),Tg(t,_e(),i,l),l}finally{wt(c)}}function BO(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function wd(n,e,t){let r=n+Ye,i=_e(),o=bT(i,r);return $O(i,r)?jO(i,xg(),e,o.transform,t,o):o.transform(t)}function $O(n,e){return n[J].data[e].pure}var rd=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},$m=(()=>{class n{compileModuleSync(t){return new Xl(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=mg(t),o=XD(i.declarations).reduce((s,c)=>{let u=nr(c);return u&&s.push(new Gi(u)),s},[]);return new rd(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var HO=(()=>{class n{zone=R(de);changeDetectionScheduler=R(Xn);applicationRef=R(Cn);applicationErrorHandler=R(ft);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(t){this.applicationErrorHandler(t)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Wb=new B("",{factory:()=>!1});function Hm({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new de(pe(O({},qm()),{scheduleInRootZone:t})),[{provide:de,useFactory:n},{provide:tr,multi:!0,useFactory:()=>{let r=R(HO,{optional:!0});return()=>r.initialize()}},{provide:tr,multi:!0,useFactory:()=>{let r=R(zO);return()=>{r.initialize()}}},e===!0?{provide:Bg,useValue:!0}:[],{provide:$g,useValue:t??Fb},{provide:ft,useFactory:()=>{let r=R(de),i=R(Fe),o;return s=>{r.runOutsideAngular(()=>{i.destroyed&&!o?setTimeout(()=>{throw s}):(o??=i.get(rn),o.handleError(s))})}}}]}function zm(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=Hm({ngZoneFactory:()=>{let i=qm(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&bn("NgZone_CoalesceEvent"),new de(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return ht([{provide:Wb,useValue:!0},{provide:ec,useValue:!1},r])}function qm(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var zO=(()=>{class n{subscription=new Pe;initialized=!1;zone=R(de);pendingTasks=R(Tn);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{de.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{de.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Kb=(()=>{class n{applicationErrorHandler=R(ft);appRef=R(Cn);taskService=R(Tn);ngZone=R(de);zonelessEnabled=R(ec);tracing=R(Yi,{optional:!0});disableScheduling=R(Bg,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Pe;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(ed):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(R($g,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof td||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?mD:Vb;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(ed+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(t),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,mD(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function qO(){return typeof $localize<"u"&&$localize.locale||hc}var Td=new B("",{providedIn:"root",factory:()=>R(Td,{optional:!0,skipSelf:!0})||qO()});function Yt(n){return oT(n)}var Qb=class{[Rt];constructor(e){this[Rt]=e}destroy(){this[Rt].destroy()}};var Jb=Symbol("InputSignalNode#UNSET"),u1=pe(O({},Qu),{transformFn:void 0,applyValueToInputSignal(n,e){Oo(n,e)}});function Xb(n,e){let t=Object.create(u1);t.value=n,t.transformFn=e?.transform;function r(){if(Na(t),t.value===Jb){let i=null;throw new j(-950,i)}return t.value}return r[Rt]=t,r}var bd=class{attributeName;constructor(e){this.attributeName=e}__NG_ELEMENT_ID__=()=>ac(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},l1=new B("");l1.__NG_ELEMENT_ID__=n=>{let e=kt();if(e===null)throw new j(204,!1);if(e.type&2)return e.value;if(n&8)return null;throw new j(204,!1)};function Yb(n,e){return Xb(n,e)}function d1(n){return Xb(Jb,n)}var eC=(Yb.required=d1,Yb);var Gm=new B(""),h1=new B("");function pc(n){return!n.moduleRef}function f1(n){let e=pc(n)?n.r3Injector:n.moduleRef.injector,t=e.get(de);return t.run(()=>{pc(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(ft),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:r})}),pc(n)){let o=()=>e.destroy(),s=n.platformInjector.get(Gm);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(Gm);s.add(o),n.moduleRef.onDestroy(()=>{rc(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return g1(r,t,()=>{let o=e.get(Tn),s=o.add(),c=e.get(Um);return c.runInitializers(),c.donePromise.then(()=>{let u=e.get(Td,hc);if(qb(u||hc),!e.get(h1,!0))return pc(n)?e.get(Cn):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(pc(n)){let h=e.get(Cn);return n.rootComponent!==void 0&&h.bootstrap(n.rootComponent),h}else return p1?.(n.moduleRef,n.allPlatformModules),n.moduleRef}).finally(()=>void o.remove(s))})})}var p1;function g1(n,e,t){try{let r=t();return Zi(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n(r)),r}}var Dd=null;function m1(n=[],e){return Re.create({name:e,providers:[{provide:za,useValue:"platform"},{provide:Gm,useValue:new Set([()=>Dd=null])},...n]})}function y1(n=[]){if(Dd)return Dd;let e=m1(n);return Dd=e,$b(),v1(e),e}function v1(n){let e=n.get(ad,null);je(n,()=>{e?.forEach(t=>t())})}function mc(){return!1}var ps=(()=>{class n{static __NG_ELEMENT_ID__=_1}return n})();function _1(n){return E1(kt(),_e(),(n&16)===16)}function E1(n,e,t){if(Lr(n)&&!t){let r=Qt(n.index,e);return new zi(r,r)}else if(n.type&175){let r=e[Wt];return new zi(r,e)}return null}function tC(n){let{rootComponent:e,appProviders:t,platformProviders:r,platformRef:i}=n;ve(8);try{let o=i?.injector??y1(r),s=[Hm({}),{provide:Xn,useExisting:Kb},WT,...t||[]],c=new sc({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return f1({r3Injector:c.injector,platformInjector:o,rootComponent:e})}catch(o){return Promise.reject(o)}finally{ve(9)}}function yc(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function nC(n){let e=nr(n);if(!e)return null;let t=new Gi(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var oC=null;function sr(){return oC}function Wm(n){oC??=n}var vc=class{},_c=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:()=>R(sC),providedIn:"platform"})}return n})(),Km=new B(""),sC=(()=>{class n extends _c{_location;_history;_doc=R(Ve);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return sr().getBaseHref(this._doc)}onPopState(t){let r=sr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=sr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function Cd(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function rC(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function ln(n){return n&&n[0]!=="?"?`?${n}`:n}var dn=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:()=>R(Ad),providedIn:"root"})}return n})(),Sd=new B(""),Ad=(()=>{class n extends dn{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??R(Ve).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Cd(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+ln(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+ln(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+ln(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)($(_c),$(Sd,8))};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Wr=(()=>{class n{_subject=new ke;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=T1(rC(iC(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+ln(r))}normalize(t){return n.stripTrailingSlash(w1(this._basePath,iC(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ln(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ln(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=ln;static joinWithSlash=Cd;static stripTrailingSlash=rC;static \u0275fac=function(r){return new(r||n)($(dn))};static \u0275prov=U({token:n,factory:()=>I1(),providedIn:"root"})}return n})();function I1(){return new Wr($(dn))}function w1(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function iC(n){return n.replace(/\/index.html$/,"")}function T1(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var Jm=(()=>{class n extends dn{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=Cd(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+ln(o))||this._platformLocation.pathname;this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+ln(o))||this._platformLocation.pathname;this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)($(_c),$(Sd,8))};static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})();var Qm=/\s+/,aC=[],Xm=(()=>{class n{_ngEl;_renderer;initialClasses=aC;rawClass;stateMap=new Map;constructor(t,r){this._ngEl=t,this._renderer=r}set klass(t){this.initialClasses=t!=null?t.trim().split(Qm):aC}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(Qm):t}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let r of t)this._updateState(r,!0);else if(t!=null)for(let r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){let i=this.stateMap.get(t);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){t=t.trim(),t.length>0&&t.split(Qm).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||n)(st(Ki),st(us))};static \u0275dir=Qi({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return n})();function D1(n,e){return new j(2100,!1)}var Ym=class{createSubscription(e,t,r){return Yt(()=>e.subscribe({next:t,error:r}))}dispose(e){Yt(()=>e.unsubscribe())}},Zm=class{createSubscription(e,t,r){return e.then(i=>t?.(i),i=>r?.(i)),{unsubscribe:()=>{t=null,r=null}}}dispose(e){e.unsubscribe()}},b1=new Zm,C1=new Ym,ey=(()=>{class n{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;applicationErrorHandler=R(ft);constructor(t){this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){if(!this._obj){if(t)try{this.markForCheckOnValueUpdate=!1,this._subscribe(t)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r),r=>this.applicationErrorHandler(r))}_selectStrategy(t){if(Zi(t))return b1;if(vd(t))return C1;throw D1(n,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(r){return new(r||n)(st(ps,16))};static \u0275pipe=Pm({name:"async",type:n,pure:!1})}return n})();var gs=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Hr({type:n});static \u0275inj=er({})}return n})();function ty(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Ec=class{};var cC="browser";var uC=(()=>{class n{static \u0275prov=U({token:n,providedIn:"root",factory:()=>new ny(R(Ve),window)})}return n})(),ny=class{document;window;offset=()=>[0,0];constructor(e,t){this.document=e,this.window=t}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e,t){this.window.scrollTo(pe(O({},t),{left:e[0],top:e[1]}))}scrollToAnchor(e,t){let r=A1(this.document,e);r&&(this.scrollToElement(r,t),r.focus())}setHistoryScrollRestoration(e){try{this.window.history.scrollRestoration=e}catch{console.warn(xr(2400,!1))}}scrollToElement(e,t){let r=e.getBoundingClientRect(),i=r.left+this.window.pageXOffset,o=r.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(pe(O({},t),{left:i-s[0],top:o-s[1]}))}};function A1(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var Nd=new B(""),cy=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new j(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)($(Nd),$(de))};static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})(),Ic=class{_doc;constructor(e){this._doc=e}manager},iy="ng-app-id";function lC(n){for(let e of n)e.remove()}function dC(n,e){let t=e.createElement("style");return t.textContent=n,t}function R1(n,e,t,r){let i=n.head?.querySelectorAll(`style[${iy}="${e}"],link[${iy}="${e}"]`);if(i)for(let o of i)o.removeAttribute(iy),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function sy(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var uy=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,R1(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,dC);r?.forEach(i=>this.addUsage(i,this.external,sy))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(lC(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])lC(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,dC(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,sy(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)($(Ve),$(sd),$(cd,8),$(Ur))};static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})(),oy={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},ly=/%COMP%/g;var fC="%COMP%",N1=`_nghost-${fC}`,M1=`_ngcontent-${fC}`,P1=!0,k1=new B("",{providedIn:"root",factory:()=>P1});function x1(n){return M1.replace(ly,n)}function O1(n){return N1.replace(ly,n)}function pC(n,e){return e.map(t=>t.replace(ly,n))}var dy=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,o,s,c,u,l=null,h=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=c,this.ngZone=u,this.nonce=l,this.tracingService=h,this.platformIsServer=!1,this.defaultRenderer=new wc(t,s,u,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(t,r);return i instanceof Rd?i.applyToHost(t):i instanceof Tc&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,c=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer,m=this.tracingService;switch(r.encapsulation){case ir.Emulated:o=new Rd(u,l,r,this.appId,h,s,c,p,m);break;case ir.ShadowDom:return new ay(u,l,t,r,s,c,this.nonce,p,m);default:o=new Tc(u,l,r,h,s,c,p,m);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)($(cy),$(uy),$(sd),$(k1),$(Ve),$(Ur),$(de),$(cd),$(Yi,8))};static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})(),wc=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,o){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(oy[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(hC(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(hC(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new j(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=oy[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=oy[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&($r.DashCase|$r.Important)?e.style.setProperty(t,r,i&$r.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&$r.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=sr().getGlobalEventTarget(this.doc,e),!e))throw new j(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;e(t)===!1&&t.preventDefault()}}};function hC(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var ay=class extends wc{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,o,s,c,u,l){super(e,o,s,u,l),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let h=i.styles;h=pC(i.id,h);for(let m of h){let y=document.createElement("style");c&&y.setAttribute("nonce",c),y.textContent=m,this.shadowRoot.appendChild(y)}let p=i.getExternalStyles?.();if(p)for(let m of p){let y=sy(m,o);c&&y.setAttribute("nonce",c),this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Tc=class extends wc{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,o,s,c,u,l){super(e,o,s,c,u),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let h=r.styles;this.styles=l?pC(l,h):h,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&hd.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Rd=class extends Tc{contentAttr;hostAttr;constructor(e,t,r,i,o,s,c,u,l){let h=i+"-"+r.id;super(e,t,r,o,s,c,u,l,h),this.contentAttr=x1(h),this.hostAttr=O1(h)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var Md=class n extends vc{supportsDOMEvents=!0;static makeCurrent(){Wm(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=L1();return t==null?null:F1(t)}resetBaseElement(){Dc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return ty(document.cookie,e)}},Dc=null;function L1(){return Dc=Dc||document.head.querySelector("base"),Dc?Dc.getAttribute("href"):null}function F1(n){return new URL(n,document.baseURI).pathname}var V1=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})(),mC=(()=>{class n extends Ic{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)($(Ve))};static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})(),gC=["alt","control","meta","shift"],j1={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},U1={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},yC=(()=>{class n extends Ic{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=n.parseEventName(r),c=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>sr().onAndCancel(t,s.domEventName,c,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",c=r.indexOf("code");if(c>-1&&(r.splice(c,1),s="code."),gC.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(t,r){let i=j1[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),gC.forEach(s=>{if(s!==i){let c=U1[s];c(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)($(Ve))};static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})();function hy(n,e,t){let r=O({rootComponent:n,platformRef:t?.platformRef},B1(e));return tC(r)}function B1(n){return{appProviders:[...G1,...n?.providers??[]],platformProviders:q1}}function $1(){Md.makeCurrent()}function H1(){return new rn}function z1(){return fm(document),document}var q1=[{provide:Ur,useValue:cC},{provide:ad,useValue:$1,multi:!0},{provide:Ve,useFactory:z1}];var G1=[{provide:za,useValue:"root"},{provide:rn,useFactory:H1},{provide:Nd,useClass:mC,multi:!0,deps:[Ve]},{provide:Nd,useClass:yC,multi:!0,deps:[Ve]},dy,uy,cy,{provide:qi,useExisting:dy},{provide:Ec,useClass:V1},[]];var vC=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)($(Ve))};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var re="primary",Fc=Symbol("RouteTitle"),yy=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function ro(n){return new yy(n)}function CC(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],c=n[o];if(s[0]===":")i[s.substring(1)]=c;else if(s!==c.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function K1(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Sn(n[t],e[t]))return!1;return!0}function Sn(n,e){let t=n?vy(n):void 0,r=e?vy(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!SC(n[i],e[i]))return!1;return!0}function vy(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function SC(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function AC(n){return n.length>0?n[n.length-1]:null}function ar(n){return Up(n)?n:Zi(n)?De(Promise.resolve(n)):z(n)}var Q1={exact:NC,subset:MC},RC={exact:Y1,subset:Z1,ignored:()=>!0};function _C(n,e,t){return Q1[t.paths](n.root,e.root,t.matrixParams)&&RC[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function Y1(n,e){return Sn(n,e)}function NC(n,e,t){if(!to(n.segments,e.segments)||!xd(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!NC(n.children[r],e.children[r],t))return!1;return!0}function Z1(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>SC(n[t],e[t]))}function MC(n,e,t){return PC(n,e,e.segments,t)}function PC(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!to(i,t)||e.hasChildren()||!xd(i,t,r))}else if(n.segments.length===t.length){if(!to(n.segments,t)||!xd(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!MC(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!to(n.segments,i)||!xd(n.segments,i,r)||!n.children[re]?!1:PC(n.children[re],e,o,r)}}function xd(n,e,t){return e.every((r,i)=>RC[t](n[i].parameters,r.parameters))}var Rn=class{root;queryParams;fragment;_queryParamMap;constructor(e=new fe([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=ro(this.queryParams),this._queryParamMap}toString(){return eL.serialize(this)}},fe=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Od(this)}},Kr=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=ro(this.parameters),this._parameterMap}toString(){return xC(this)}};function J1(n,e){return to(n,e)&&n.every((t,r)=>Sn(t.parameters,e[r].parameters))}function to(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function X1(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===re&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==re&&(t=t.concat(e(i,r)))}),t}var io=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:()=>new Qr,providedIn:"root"})}return n})(),Qr=class{parse(e){let t=new Ey(e);return new Rn(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${bc(e.root,!0)}`,r=rL(e.queryParams),i=typeof e.fragment=="string"?`#${tL(e.fragment)}`:"";return`${t}${r}${i}`}},eL=new Qr;function Od(n){return n.segments.map(e=>xC(e)).join("/")}function bc(n,e){if(!n.hasChildren())return Od(n);if(e){let t=n.children[re]?bc(n.children[re],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==re&&r.push(`${i}:${bc(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=X1(n,(r,i)=>i===re?[bc(n.children[re],!1)]:[`${i}:${bc(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[re]!=null?`${Od(n)}/${t[0]}`:`${Od(n)}/(${t.join("//")})`}}function kC(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Pd(n){return kC(n).replace(/%3B/gi,";")}function tL(n){return encodeURI(n)}function _y(n){return kC(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ld(n){return decodeURIComponent(n)}function EC(n){return Ld(n.replace(/\+/g,"%20"))}function xC(n){return`${_y(n.path)}${nL(n.parameters)}`}function nL(n){return Object.entries(n).map(([e,t])=>`;${_y(e)}=${_y(t)}`).join("")}function rL(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${Pd(t)}=${Pd(i)}`).join("&"):`${Pd(t)}=${Pd(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var iL=/^[^\/()?;#]+/;function fy(n){let e=n.match(iL);return e?e[0]:""}var oL=/^[^\/()?;=#]+/;function sL(n){let e=n.match(oL);return e?e[0]:""}var aL=/^[^=?&#]+/;function cL(n){let e=n.match(aL);return e?e[0]:""}var uL=/^[^&#]+/;function lL(n){let e=n.match(uL);return e?e[0]:""}var Ey=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new fe([],{}):new fe([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[re]=new fe(e,t)),r}parseSegment(){let e=fy(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new j(4009,!1);return this.capture(e),new Kr(Ld(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=sL(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=fy(this.remaining);i&&(r=i,this.capture(r))}e[Ld(t)]=Ld(r)}parseQueryParam(e){let t=cL(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=lL(this.remaining);s&&(r=s,this.capture(r))}let i=EC(t),o=EC(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=fy(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new j(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=re);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[re]:new fe([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new j(4011,!1)}};function OC(n){return n.segments.length>0?new fe([],{[re]:n}):n}function LC(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=LC(i);if(r===re&&o.segments.length===0&&o.hasChildren())for(let[s,c]of Object.entries(o.children))e[s]=c;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new fe(n.segments,e);return dL(t)}function dL(n){if(n.numberOfChildren===1&&n.children[re]){let e=n.children[re];return new fe(n.segments.concat(e.segments),e.children)}return n}function Yr(n){return n instanceof Rn}function FC(n,e,t=null,r=null){let i=VC(n);return jC(i,e,t,r)}function VC(n){let e;function t(o){let s={};for(let u of o.children){let l=t(u);s[u.outlet]=l}let c=new fe(o.url,s);return o===n&&(e=c),c}let r=t(n.root),i=OC(r);return e??i}function jC(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return py(i,i,i,t,r);let o=hL(e);if(o.toRoot())return py(i,i,new fe([],{}),t,r);let s=fL(o,i,n),c=s.processChildren?Sc(s.segmentGroup,s.index,o.commands):BC(s.segmentGroup,s.index,o.commands);return py(i,s.segmentGroup,c,t,r)}function Fd(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Rc(n){return typeof n=="object"&&n!=null&&n.outlets}function py(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;n===e?s=t:s=UC(n,e,t);let c=OC(LC(s));return new Rn(c,o,i)}function UC(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=UC(o,e,t)}),new fe(n.segments,r)}var Vd=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Fd(r[0]))throw new j(4003,!1);let i=r.find(Rc);if(i&&i!==AC(r))throw new j(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function hL(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Vd(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let c={};return Object.entries(o.outlets).forEach(([u,l])=>{c[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:c}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((c,u)=>{u==0&&c==="."||(u==0&&c===""?t=!0:c===".."?e++:c!=""&&i.push(c))}),i):[...i,o]},[]);return new Vd(t,e,r)}var vs=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function fL(n,e,t){if(n.isAbsolute)return new vs(e,!0,0);if(!t)return new vs(e,!1,NaN);if(t.parent===null)return new vs(t,!0,0);let r=Fd(n.commands[0])?0:1,i=t.segments.length-1+r;return pL(t,i,n.numberOfDoubleDots)}function pL(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new j(4005,!1);i=r.segments.length}return new vs(r,!1,i-o)}function gL(n){return Rc(n[0])?n[0].outlets:{[re]:n}}function BC(n,e,t){if(n??=new fe([],{}),n.segments.length===0&&n.hasChildren())return Sc(n,e,t);let r=mL(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new fe(n.segments.slice(0,r.pathIndex),{});return o.children[re]=new fe(n.segments.slice(r.pathIndex),n.children),Sc(o,0,i)}else return r.match&&i.length===0?new fe(n.segments,{}):r.match&&!n.hasChildren()?Iy(n,e,t):r.match?Sc(n,0,i):Iy(n,e,t)}function Sc(n,e,t){if(t.length===0)return new fe(n.segments,{});{let r=gL(t),i={};if(Object.keys(r).some(o=>o!==re)&&n.children[re]&&n.numberOfChildren===1&&n.children[re].segments.length===0){let o=Sc(n.children[re],e,t);return new fe(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=BC(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new fe(n.segments,i)}}function mL(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],c=t[r];if(Rc(c))break;let u=`${c}`,l=r<t.length-1?t[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!wC(u,l,s))return o;r+=2}else{if(!wC(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Iy(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(Rc(o)){let u=yL(o.outlets);return new fe(r,u)}if(i===0&&Fd(t[0])){let u=n.segments[e];r.push(new Kr(u.path,IC(t[0]))),i++;continue}let s=Rc(o)?o.outlets[re]:`${o}`,c=i<t.length-1?t[i+1]:null;s&&c&&Fd(c)?(r.push(new Kr(s,IC(c))),i+=2):(r.push(new Kr(s,{})),i++)}return new fe(r,{})}function yL(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=Iy(new fe([],{}),0,r))}),e}function IC(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function wC(n,e,t){return n==t.path&&Sn(e,t.parameters)}var _s="imperative",Ge=(function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n})(Ge||{}),Ut=class{id;url;constructor(e,t){this.id=e,this.url=t}},Zr=class extends Ut{type=Ge.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Zt=class extends Ut{urlAfterRedirects;type=Ge.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},St=(function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n})(St||{}),Is=(function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n})(Is||{}),An=class extends Ut{reason;code;type=Ge.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Nn=class extends Ut{reason;code;type=Ge.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},ws=class extends Ut{error;target;type=Ge.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Nc=class extends Ut{urlAfterRedirects;state;type=Ge.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},jd=class extends Ut{urlAfterRedirects;state;type=Ge.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ud=class extends Ut{urlAfterRedirects;state;shouldActivate;type=Ge.GuardsCheckEnd;constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Bd=class extends Ut{urlAfterRedirects;state;type=Ge.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},$d=class extends Ut{urlAfterRedirects;state;type=Ge.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Hd=class{route;type=Ge.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},zd=class{route;type=Ge.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},qd=class{snapshot;type=Ge.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Gd=class{snapshot;type=Ge.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Wd=class{snapshot;type=Ge.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Kd=class{snapshot;type=Ge.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ts=class{routerEvent;position;anchor;type=Ge.Scroll;constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Mc=class{},Ds=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function vL(n){return!(n instanceof Mc)&&!(n instanceof Ds)}function _L(n,e){return n.providers&&!n._injector&&(n._injector=ls(n.providers,e,`Route: ${n.path}`)),n._injector??e}function hn(n){return n.outlet||re}function EL(n,e){let t=n.filter(r=>hn(r)===e);return t.push(...n.filter(r=>hn(r)!==e)),t}function Ss(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Qd=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Ss(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new oo(this.rootInjector)}},oo=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Qd(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)($(Fe))};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Yd=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=wy(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=wy(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=Ty(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Ty(e,this._root).map(t=>t.value)}};function wy(n,e){if(n===e.value)return e;for(let t of e.children){let r=wy(n,t);if(r)return r}return null}function Ty(n,e){if(n===e.value)return[e];for(let t of e.children){let r=Ty(n,t);if(r.length)return r.unshift(e),r}return[]}var jt=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function ys(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var Pc=class extends Yd{snapshot;constructor(e,t){super(e),this.snapshot=t,My(this,e)}toString(){return this.snapshot.toString()}};function $C(n){let e=IL(n),t=new nt([new Kr("",{})]),r=new nt({}),i=new nt({}),o=new nt({}),s=new nt(""),c=new Mn(t,r,o,s,i,re,n,e.root);return c.snapshot=e.root,new Pc(new jt(c,[]),e)}function IL(n){let e={},t={},r={},o=new no([],e,r,"",t,re,n,null,{});return new kc("",new jt(o,[]))}var Mn=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,o,s,c,u){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=c,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(Y(l=>l[Fc]))??z(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Y(e=>ro(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Y(e=>ro(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Zd(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:O(O({},e.params),n.params),data:O(O({},e.data),n.data),resolve:O(O(O(O({},n.data),e.data),i?.data),n._resolvedData)}:r={params:O({},n.params),data:O({},n.data),resolve:O(O({},n.data),n._resolvedData??{})},i&&zC(i)&&(r.resolve[Fc]=i.title),r}var no=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Fc]}constructor(e,t,r,i,o,s,c,u,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=c,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=ro(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=ro(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},kc=class extends Yd{url;constructor(e,t){super(t),this.url=e,My(this,t)}toString(){return HC(this._root)}};function My(n,e){e.value._routerState=n,e.children.forEach(t=>My(n,t))}function HC(n){let e=n.children.length>0?` { ${n.children.map(HC).join(", ")} } `:"";return`${n.value}${e}`}function gy(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Sn(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Sn(e.params,t.params)||n.paramsSubject.next(t.params),K1(e.url,t.url)||n.urlSubject.next(t.url),Sn(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Dy(n,e){let t=Sn(n.params,e.params)&&J1(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||Dy(n.parent,e.parent))}function zC(n){return typeof n.title=="string"||n.title===null}var qC=new B(""),Vc=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=re;activateEvents=new bt;deactivateEvents=new bt;attachEvents=new bt;detachEvents=new bt;routerOutletData=eC(void 0);parentContexts=R(oo);location=R(lc);changeDetector=R(ps);inputBinder=R(jc,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new j(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new j(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new j(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new j(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new by(t,c,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Qi({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[cs]})}return n})(),by=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===Mn?this.route:e===oo?this.childContexts:e===qC?this.outletData:this.parent.get(e,t)}},jc=new B(""),Py=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=Oa([r.queryParams,r.params,r.data]).pipe(Se(([o,s,c],u)=>(c=O(O(O({},o),s),c),u===0?z(c):Promise.resolve(c)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let s=nC(r.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:c}of s.inputs)t.activatedComponentRef.setInput(c,o[c])});this.outletDataSubscriptions.set(t,i)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})(),ky=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Vt({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&Ze(0,"router-outlet")},dependencies:[Vc],encapsulation:2})}return n})();function xy(n){let e=n.children&&n.children.map(xy),t=e?pe(O({},n),{children:e}):O({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==re&&(t.component=ky),t}function wL(n,e,t){let r=xc(n,e._root,t?t._root:void 0);return new Pc(r,e)}function xc(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=TL(n,e,t);return new jt(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(c=>xc(n,c)),s}}let r=DL(e.value),i=e.children.map(o=>xc(n,o));return new jt(r,i)}}function TL(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return xc(n,r,i);return xc(n,r)})}function DL(n){return new Mn(new nt(n.url),new nt(n.params),new nt(n.queryParams),new nt(n.fragment),new nt(n.data),n.outlet,n.component,n)}var bs=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},GC="ngNavigationCancelingError";function Jd(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=Yr(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=WC(!1,St.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function WC(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[GC]=!0,t.cancellationCode=e,t}function bL(n){return KC(n)&&Yr(n.url)}function KC(n){return!!n&&n[GC]}var CL=(n,e,t,r)=>Y(i=>(new Cy(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),Cy=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),gy(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=ys(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=ys(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),c=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:c})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=ys(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=ys(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Kd(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Gd(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(gy(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let c=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(c.contexts),s.attachRef=c.componentRef,s.route=c.route.value,s.outlet&&s.outlet.attach(c.componentRef,c.route.value),gy(c.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},Xd=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Es=class{component;route;constructor(e,t){this.component=e,this.route=t}};function SL(n,e,t){let r=n._root,i=e?e._root:null;return Cc(r,i,t,[r.value])}function AL(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function As(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!og(n)?n:e.get(n):r}function Cc(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=ys(e);return n.children.forEach(s=>{RL(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,c])=>Ac(c,t.getContext(s),i)),i}function RL(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,c=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=NL(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Xd(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Cc(n,e,c?c.children:null,r,i):Cc(n,e,t,r,i),u&&c&&c.outlet&&c.outlet.isActivated&&i.canDeactivateChecks.push(new Es(c.outlet.component,s))}else s&&Ac(e,c,i),i.canActivateChecks.push(new Xd(r)),o.component?Cc(n,null,c?c.children:null,r,i):Cc(n,null,t,r,i);return i}function NL(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!to(n.url,e.url);case"pathParamsOrQueryParamsChange":return!to(n.url,e.url)||!Sn(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Dy(n,e)||!Sn(n.queryParams,e.queryParams);case"paramsChange":default:return!Dy(n,e)}}function Ac(n,e,t){let r=ys(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Ac(s,e.children.getContext(o),t):Ac(s,null,t):Ac(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Es(e.outlet.component,i)):t.canDeactivateChecks.push(new Es(null,i)):t.canDeactivateChecks.push(new Es(null,i))}function Uc(n){return typeof n=="function"}function ML(n){return typeof n=="boolean"}function PL(n){return n&&Uc(n.canLoad)}function kL(n){return n&&Uc(n.canActivate)}function xL(n){return n&&Uc(n.canActivateChild)}function OL(n){return n&&Uc(n.canDeactivate)}function LL(n){return n&&Uc(n.canMatch)}function QC(n){return n instanceof Kn||n?.name==="EmptyError"}var kd=Symbol("INITIAL_VALUE");function Cs(){return Se(n=>Oa(n.map(e=>e.pipe(It(1),Hp(kd)))).pipe(Y(e=>{for(let t of e)if(t!==!0){if(t===kd)return kd;if(t===!1||FL(t))return t}return!0}),rt(e=>e!==kd),It(1)))}function FL(n){return Yr(n)||n instanceof bs}function VL(n,e){return Le(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?z(pe(O({},t),{guardsResult:!0})):jL(s,r,i,n).pipe(Le(c=>c&&ML(c)?UL(r,o,n,e):z(c)),Y(c=>pe(O({},t),{guardsResult:c})))})}function jL(n,e,t,r){return De(n).pipe(Le(i=>qL(i.component,i.route,t,e,r)),Zn(i=>i!==!0,!0))}function UL(n,e,t,r){return De(e).pipe(Rr(i=>Ko($L(i.route.parent,r),BL(i.route,r),zL(n,i.path,t),HL(n,i.route,t))),Zn(i=>i!==!0,!0))}function BL(n,e){return n!==null&&e&&e(new Wd(n)),z(!0)}function $L(n,e){return n!==null&&e&&e(new qd(n)),z(!0)}function HL(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return z(!0);let i=r.map(o=>Ci(()=>{let s=Ss(e)??t,c=As(o,s),u=kL(c)?c.canActivate(e,n):je(s,()=>c(e,n));return ar(u).pipe(Zn())}));return z(i).pipe(Cs())}function zL(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>AL(s)).filter(s=>s!==null).map(s=>Ci(()=>{let c=s.guards.map(u=>{let l=Ss(s.node)??t,h=As(u,l),p=xL(h)?h.canActivateChild(r,n):je(l,()=>h(r,n));return ar(p).pipe(Zn())});return z(c).pipe(Cs())}));return z(o).pipe(Cs())}function qL(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return z(!0);let s=o.map(c=>{let u=Ss(e)??i,l=As(c,u),h=OL(l)?l.canDeactivate(n,e,t,r):je(u,()=>l(n,e,t,r));return ar(h).pipe(Zn())});return z(s).pipe(Cs())}function GL(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return z(!0);let o=i.map(s=>{let c=As(s,n),u=PL(c)?c.canLoad(e,t):je(n,()=>c(e,t));return ar(u)});return z(o).pipe(Cs(),YC(r))}function YC(n){return kp(Qe(e=>{if(typeof e!="boolean")throw Jd(n,e)}),Y(e=>e===!0))}function WL(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return z(!0);let o=i.map(s=>{let c=As(s,n),u=LL(c)?c.canMatch(e,t):je(n,()=>c(e,t));return ar(u)});return z(o).pipe(Cs(),YC(r))}var Oc=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},Lc=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function ms(n){return Go(new Oc(n))}function KL(n){return Go(new j(4e3,!1))}function QL(n){return Go(WC(!1,St.GuardRejected))}var Sy=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return z(r);if(i.numberOfChildren>1||!i.children[re])return KL(`${e.redirectTo}`);i=i.children[re]}}applyRedirectCommands(e,t,r,i,o){return YL(t,i,o).pipe(Y(s=>{if(s instanceof Rn)throw new Lc(s);let c=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),e,r);if(s[0]==="/")throw new Lc(c);return c}))}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new Rn(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let c=o.substring(1);r[i]=t[c]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([c,u])=>{s[c]=this.createSegmentGroup(e,u,r,i)}),new fe(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new j(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}};function YL(n,e,t){if(typeof n=="string")return z(n);let r=n,{queryParams:i,fragment:o,routeConfig:s,url:c,outlet:u,params:l,data:h,title:p}=e;return ar(je(t,()=>r({params:l,data:h,queryParams:i,fragment:o,routeConfig:s,url:c,outlet:u,title:p})))}var Ay={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ZL(n,e,t,r,i){let o=ZC(n,e,t);return o.matched?(r=_L(e,r),WL(r,e,t,i).pipe(Y(s=>s===!0?o:O({},Ay)))):z(o)}function ZC(n,e,t){if(e.path==="**")return JL(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?O({},Ay):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||CC)(t,n,e);if(!i)return O({},Ay);let o={};Object.entries(i.posParams??{}).forEach(([c,u])=>{o[c]=u.path});let s=i.consumed.length>0?O(O({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function JL(n){return{matched:!0,parameters:n.length>0?AC(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function TC(n,e,t,r){return t.length>0&&tF(n,t,r)?{segmentGroup:new fe(e,eF(r,new fe(t,n.children))),slicedSegments:[]}:t.length===0&&nF(n,t,r)?{segmentGroup:new fe(n.segments,XL(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new fe(n.segments,n.children),slicedSegments:t}}function XL(n,e,t,r){let i={};for(let o of t)if(th(n,e,o)&&!r[hn(o)]){let s=new fe([],{});i[hn(o)]=s}return O(O({},r),i)}function eF(n,e){let t={};t[re]=e;for(let r of n)if(r.path===""&&hn(r)!==re){let i=new fe([],{});t[hn(r)]=i}return t}function tF(n,e,t){return t.some(r=>th(n,e,r)&&hn(r)!==re)}function nF(n,e,t){return t.some(r=>th(n,e,r))}function th(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function rF(n,e,t){return e.length===0&&!n.children[t]}var Ry=class{};function iF(n,e,t,r,i,o,s="emptyOnly"){return new Ny(n,e,t,r,i,s,o).recognize()}var oF=31,Ny=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,o,s,c){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=c,this.applyRedirects=new Sy(this.urlSerializer,this.urlTree)}noMatchError(e){return new j(4002,`'${e.segmentGroup}'`)}recognize(){let e=TC(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Y(({children:t,rootSnapshot:r})=>{let i=new jt(r,t),o=new kc("",i),s=FC(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new no([],Object.freeze({}),Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),re,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,re,t).pipe(Y(r=>({children:r,rootSnapshot:t})),Yn(r=>{if(r instanceof Lc)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Oc?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(Y(s=>s instanceof jt?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return De(o).pipe(Rr(s=>{let c=r.children[s],u=EL(t,s);return this.processSegmentGroup(e,u,c,s,i)}),$p((s,c)=>(s.push(...c),s)),Nr(null),Bp(),Le(s=>{if(s===null)return ms(r);let c=JC(s);return sF(c),z(c)}))}processSegment(e,t,r,i,o,s,c){return De(t).pipe(Rr(u=>this.processSegmentAgainstRoute(u._injector??e,t,u,r,i,o,s,c).pipe(Yn(l=>{if(l instanceof Oc)return z(null);throw l}))),Zn(u=>!!u),Yn(u=>{if(QC(u))return rF(r,i,o)?z(new Ry):ms(r);throw u}))}processSegmentAgainstRoute(e,t,r,i,o,s,c,u){return hn(r)!==s&&(s===re||!th(i,o,r))?ms(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,u):ms(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,c){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:m}=ZC(t,i,o);if(!u)return ms(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>oF&&(this.allowRedirects=!1));let y=new no(o,l,Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,DC(i),hn(i),i.component??i._loadedComponent??null,i,bC(i)),A=Zd(y,c,this.paramsInheritanceStrategy);return y.params=Object.freeze(A.params),y.data=Object.freeze(A.data),this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,y,e).pipe(Se(N=>this.applyRedirects.lineralizeSegments(i,N)),Le(N=>this.processSegment(e,r,t,N.concat(m),s,!1,c)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let c=ZL(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),c.pipe(Se(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Se(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:m,remainingSegments:y}=u,A=new no(m,p,Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,DC(r),hn(r),r.component??r._loadedComponent??null,r,bC(r)),P=Zd(A,s,this.paramsInheritanceStrategy);A.params=Object.freeze(P.params),A.data=Object.freeze(P.data);let{segmentGroup:N,slicedSegments:F}=TC(t,m,y,l);if(F.length===0&&N.hasChildren())return this.processChildren(h,l,N,A).pipe(Y(Q=>new jt(A,Q)));if(l.length===0&&F.length===0)return z(new jt(A,[]));let K=hn(r)===o;return this.processSegment(h,l,N,F,K?re:o,!0,A).pipe(Y(Q=>new jt(A,Q instanceof jt?[Q]:[])))}))):ms(t)))}getChildConfig(e,t,r){return t.children?z({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?z({routes:t._loadedRoutes,injector:t._loadedInjector}):GL(e,t,r,this.urlSerializer).pipe(Le(i=>i?this.configLoader.loadChildren(e,t).pipe(Qe(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):QL(t))):z({routes:[],injector:e})}};function sF(n){n.sort((e,t)=>e.value.outlet===re?-1:t.value.outlet===re?1:e.value.outlet.localeCompare(t.value.outlet))}function aF(n){let e=n.value.routeConfig;return e&&e.path===""}function JC(n){let e=[],t=new Set;for(let r of n){if(!aF(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=JC(r.children);e.push(new jt(r.value,i))}return e.filter(r=>!t.has(r))}function DC(n){return n.data||{}}function bC(n){return n.resolve||{}}function cF(n,e,t,r,i,o){return Le(s=>iF(n,e,t,r,s.extractedUrl,i,o).pipe(Y(({state:c,tree:u})=>pe(O({},s),{targetSnapshot:c,urlAfterRedirects:u}))))}function uF(n,e){return Le(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return z(t);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of XC(u))s.add(l);let c=0;return De(s).pipe(Rr(u=>o.has(u)?lF(u,r,n,e):(u.data=Zd(u,u.parent,n).resolve,z(void 0))),Qe(()=>c++),Qo(1),Le(u=>c===s.size?z(t):Nt))})}function XC(n){let e=n.children.map(t=>XC(t)).flat();return[n,...e]}function lF(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!zC(i)&&(o[Fc]=i.title),Ci(()=>(n.data=Zd(n,n.parent,t).resolve,dF(o,n,e,r).pipe(Y(s=>(n._resolvedData=s,n.data=O(O({},n.data),s),null)))))}function dF(n,e,t,r){let i=vy(n);if(i.length===0)return z({});let o={};return De(i).pipe(Le(s=>hF(n[s],e,t,r).pipe(Zn(),Qe(c=>{if(c instanceof bs)throw Jd(new Qr,c);o[s]=c}))),Qo(1),Y(()=>o),Yn(s=>QC(s)?Nt:Go(s)))}function hF(n,e,t,r){let i=Ss(e)??r,o=As(n,i),s=o.resolve?o.resolve(e,t):je(i,()=>o(e,t));return ar(s)}function my(n){return Se(e=>{let t=n(e);return t?De(t).pipe(Y(()=>e)):z(e)})}var Oy=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===re);return r}getResolvedTitleForRoute(t){return t.data[Fc]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:()=>R(eS),providedIn:"root"})}return n})(),eS=(()=>{class n extends Oy{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)($(vC))};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Jr=new B("",{providedIn:"root",factory:()=>({})}),so=new B(""),nh=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=R($m);loadComponent(t,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return z(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=ar(je(t,()=>r.loadComponent())).pipe(Y(nS),Se(rS),Qe(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),La(()=>{this.componentLoaders.delete(r)})),o=new $o(i,()=>new ke).pipe(Bo());return this.componentLoaders.set(r,o),o}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return z({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=tS(r,this.compiler,t,this.onLoadEndListener).pipe(La(()=>{this.childrenLoaders.delete(r)})),s=new $o(o,()=>new ke).pipe(Bo());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function tS(n,e,t,r){return ar(je(t,()=>n.loadChildren())).pipe(Y(nS),Se(rS),Le(i=>i instanceof md||Array.isArray(i)?z(i):De(e.compileModuleAsync(i))),Y(i=>{r&&r(n);let o,s,c=!1;return Array.isArray(i)?(s=i,c=!0):(o=i.create(t).injector,s=o.get(so,[],{optional:!0,self:!0}).flat()),{routes:s.map(xy),injector:o}}))}function fF(n){return n&&typeof n=="object"&&"default"in n}function nS(n){return fF(n)?n.default:n}function rS(n){return z(n)}var rh=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:()=>R(pF),providedIn:"root"})}return n})(),pF=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ly=new B(""),Fy=new B("");function iS(n,e,t){let r=n.get(Fy),i=n.get(Ve);if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),c=i.startViewTransition(()=>(o(),gF(n)));c.ready.catch(l=>{});let{onViewTransitionCreated:u}=r;return u&&je(n,()=>u({transition:c,from:e,to:t})),s}function gF(n){return new Promise(e=>{Lm({read:()=>setTimeout(e)},{injector:n})})}var Vy=new B(""),ih=(()=>{class n{currentNavigation=$i(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=null;events=new ke;transitionAbortWithErrorSubject=new ke;configLoader=R(nh);environmentInjector=R(Fe);destroyRef=R(rr);urlSerializer=R(io);rootContexts=R(oo);location=R(Wr);inputBindingEnabled=R(jc,{optional:!0})!==null;titleStrategy=R(Oy);options=R(Jr,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=R(rh);createViewTransition=R(Ly,{optional:!0});navigationErrorHandler=R(Vy,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>z(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new Hd(i)),r=i=>this.events.next(new zd(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;Yt(()=>{this.transitions?.next(pe(O({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))})}setupNavigations(t){return this.transitions=new nt(null),this.transitions.pipe(rt(r=>r!==null),Se(r=>{let i=!1;return z(r).pipe(Se(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",St.SupersededByNewNavigation),Nt;this.currentTransition=r,this.currentNavigation.set({id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?pe(O({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>o.abortController.abort()});let s=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),c=o.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!s&&c!=="reload")return this.events.next(new Nn(o.id,this.urlSerializer.serialize(o.rawUrl),"",Is.IgnoredSameUrlNavigation)),o.resolve(!1),Nt;if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return z(o).pipe(Se(u=>(this.events.next(new Zr(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),u.id!==this.navigationId?Nt:Promise.resolve(u))),cF(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Qe(u=>{r.targetSnapshot=u.targetSnapshot,r.urlAfterRedirects=u.urlAfterRedirects,this.currentNavigation.update(h=>(h.finalUrl=u.urlAfterRedirects,h));let l=new Nc(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:u,extractedUrl:l,source:h,restoredState:p,extras:m}=o,y=new Zr(u,this.urlSerializer.serialize(l),h,p);this.events.next(y);let A=$C(this.rootComponentType).snapshot;return this.currentTransition=r=pe(O({},o),{targetSnapshot:A,urlAfterRedirects:l,extras:pe(O({},m),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(P=>(P.finalUrl=l,P)),z(r)}else return this.events.next(new Nn(o.id,this.urlSerializer.serialize(o.extractedUrl),"",Is.IgnoredByUrlHandlingStrategy)),o.resolve(!1),Nt}),Qe(o=>{let s=new jd(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(s)}),Y(o=>(this.currentTransition=r=pe(O({},o),{guards:SL(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),VL(this.environmentInjector,o=>this.events.next(o)),Qe(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw Jd(this.urlSerializer,o.guardsResult);let s=new Ud(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(s)}),rt(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",St.GuardRejected),!1)),my(o=>{if(o.guards.canActivateChecks.length!==0)return z(o).pipe(Qe(s=>{let c=new Bd(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(c)}),Se(s=>{let c=!1;return z(s).pipe(uF(this.paramsInheritanceStrategy,this.environmentInjector),Qe({next:()=>c=!0,complete:()=>{c||this.cancelNavigationTransition(s,"",St.NoDataFromResolver)}}))}),Qe(s=>{let c=new $d(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(c)}))}),my(o=>{let s=c=>{let u=[];if(c.routeConfig?.loadComponent){let l=Ss(c)??this.environmentInjector;u.push(this.configLoader.loadComponent(l,c.routeConfig).pipe(Qe(h=>{c.component=h}),Y(()=>{})))}for(let l of c.children)u.push(...s(l));return u};return Oa(s(o.targetSnapshot.root)).pipe(Nr(null),It(1))}),my(()=>this.afterPreactivation()),Se(()=>{let{currentSnapshot:o,targetSnapshot:s}=r,c=this.createViewTransition?.(this.environmentInjector,o.root,s.root);return c?De(c).pipe(Y(()=>r)):z(r)}),Y(o=>{let s=wL(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=pe(O({},o),{targetRouterState:s}),this.currentNavigation.update(c=>(c.targetRouterState=s,c)),r}),Qe(()=>{this.events.next(new Mc)}),CL(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),It(1),ml(new G(o=>{let s=r.abortController.signal,c=()=>o.next();return s.addEventListener("abort",c),()=>s.removeEventListener("abort",c)}).pipe(rt(()=>!i&&!r.targetRouterState),Qe(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",St.Aborted)}))),Qe({next:o=>{i=!0,this.lastSuccessfulNavigation=Yt(this.currentNavigation),this.events.next(new Zt(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),ml(this.transitionAbortWithErrorSubject.pipe(Qe(o=>{throw o}))),La(()=>{i||this.cancelNavigationTransition(r,"",St.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),Yn(o=>{if(this.destroyed)return r.resolve(!1),Nt;if(i=!0,KC(o))this.events.next(new An(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),bL(o)?this.events.next(new Ds(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let s=new ws(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let c=je(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(c instanceof bs){let{message:u,cancellationCode:l}=Jd(this.urlSerializer,c);this.events.next(new An(r.id,this.urlSerializer.serialize(r.extractedUrl),u,l)),this.events.next(new Ds(c.redirectTo,c.navigationBehaviorOptions))}else throw this.events.next(s),o}catch(c){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(c)}}return Nt}))}))}cancelNavigationTransition(t,r,i){let o=new An(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=Yt(this.currentNavigation),i=r?.targetBrowserUrl??r?.extractedUrl;return t.toString()!==i?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function mF(n){return n!==_s}var oS=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:()=>R(yF),providedIn:"root"})}return n})(),eh=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},yF=(()=>{class n extends eh{static \u0275fac=(()=>{let t;return function(i){return(t||(t=od(n)))(i||n)}})();static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),sS=(()=>{class n{urlSerializer=R(io);options=R(Jr,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=R(Wr);urlHandlingStrategy=R(rh);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Rn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof Rn?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=$C(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:()=>R(vF),providedIn:"root"})}return n})(),vF=(()=>{class n extends sS{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof Zr?this.updateStateMemento():t instanceof Nn?this.commitTransition(r):t instanceof Nc?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Mc?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof An&&t.code!==St.SupersededByNewNavigation&&t.code!==St.Redirect?this.restoreHistory(r):t instanceof ws?this.restoreHistory(r,!0):t instanceof Zt&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let c=this.browserPageId,u=O(O({},s),this.generateNgRouterState(i,c));this.location.replaceState(t,"",u)}else{let c=O(O({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",c)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=od(n)))(i||n)}})();static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function oh(n,e){n.events.pipe(rt(t=>t instanceof Zt||t instanceof An||t instanceof ws||t instanceof Nn),Y(t=>t instanceof Zt||t instanceof Nn?0:(t instanceof An?t.code===St.Redirect||t.code===St.SupersededByNewNavigation:!1)?2:1),rt(t=>t!==2),It(1)).subscribe(()=>{e()})}var _F={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},EF={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Pn=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=R(Fm);stateManager=R(sS);options=R(Jr,{optional:!0})||{};pendingTasks=R(Tn);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=R(ih);urlSerializer=R(io);location=R(Wr);urlHandlingStrategy=R(rh);injector=R(Fe);_events=new ke;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=R(oS);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=R(so,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!R(jc,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Pe;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=Yt(this.navigationTransitions.currentNavigation);if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof An&&r.code!==St.Redirect&&r.code!==St.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Zt)this.navigated=!0;else if(r instanceof Ds){let s=r.navigationBehaviorOptions,c=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=O({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||mF(i.source)},s);this.scheduleNavigation(c,_s,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}vL(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),_s,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=O({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let c=this.parseUrl(t);this.scheduleNavigation(c,r,s,o).catch(u=>{this.disposed||this.injector.get(ft)(u)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return Yt(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(xy),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:c,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s,h=null;switch(c??this.options.defaultQueryParamsHandling){case"merge":h=O(O({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let m=i?i.snapshot:this.routerState.snapshot.root;p=VC(m)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),p=this.currentUrlTree.root}return jC(p,t,h,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=Yr(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,_s,null,r)}navigate(t,r={skipLocationChange:!1}){return IF(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=O({},_F):r===!1?i=O({},EF):i=r,Yr(t))return _C(this.currentUrlTree,t,i);let o=this.parseUrl(t);return _C(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let c,u,l;s?(c=s.resolve,u=s.reject,l=s.promise):l=new Promise((p,m)=>{c=p,u=m});let h=this.pendingTasks.add();return oh(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:c,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function IF(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new j(4008,!1)}var sh=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=$i(null);get href(){return Yt(this.reactiveHref)}set href(t){this.reactiveHref.set(t)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new ke;applicationErrorHandler=R(ft);options=R(Jr,{optional:!0});constructor(t,r,i,o,s,c){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=c,this.reactiveHref.set(R(new bd("href"),{optional:!0}));let u=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area"||!!(typeof customElements=="object"&&customElements.get(u)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let t=this.preserveFragment,r=i=>i==="merge"||i==="preserve";t||=r(this.queryParamsHandling),t||=!this.queryParamsHandling&&!r(this.options?.defaultQueryParamsHandling),t&&(this.subscription=this.router.events.subscribe(i=>{i instanceof Zt&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Yr(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let c=this.urlTree;if(c===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(c,u)?.catch(l=>{this.applicationErrorHandler(l)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.reactiveHref.set(t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t))??"":null)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:Yr(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)(st(Pn),st(Mn),ac("tabindex"),st(us),st(Ki),st(dn))};static \u0275dir=Qi({type:n,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,i){r&1&&or("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&_d("href",i.reactiveHref(),ym)("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",yc],skipLocationChange:[2,"skipLocationChange","skipLocationChange",yc],replaceUrl:[2,"replaceUrl","replaceUrl",yc],routerLink:"routerLink"},features:[cs]})}return n})();var Bc=class{};var aS=(()=>{class n{router;injector;preloadingStrategy;loader;subscription;constructor(t,r,i,o){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(rt(t=>t instanceof Zt),Rr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=ls(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,c=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(c,o.children??o._loadedRoutes))}return De(i).pipe(Wo())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(t,r):i=z(null);let o=i.pipe(Le(s=>s===null?z(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(t,r);return De([o,s]).pipe(Wo())}else return o})}static \u0275fac=function(r){return new(r||n)($(Pn),$(Fe),$(Bc),$(nh))};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),cS=new B(""),wF=(()=>{class n{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=_s;restoredId=0;store={};constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Zr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Zt?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Nn&&t.code===Is.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Ts&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>E(this,null,function*(){yield new Promise(i=>{setTimeout(i),typeof requestAnimationFrame<"u"&&requestAnimationFrame(i)}),this.zone.run(()=>{this.transitions.events.next(new Ts(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){Mm()};static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})();function Uy(n,...e){return ht([{provide:so,multi:!0,useValue:n},[],{provide:Mn,useFactory:uS,deps:[Pn]},{provide:dc,multi:!0,useFactory:lS},e.map(t=>t.\u0275providers)])}function uS(n){return n.routerState.root}function $c(n,e){return{\u0275kind:n,\u0275providers:e}}function lS(){let n=R(Re);return e=>{let t=n.get(Cn);if(e!==t.components[0])return;let r=n.get(Pn),i=n.get(dS);n.get(By)===1&&r.initialNavigation(),n.get(pS,null,{optional:!0})?.setUpPreloading(),n.get(cS,null,{optional:!0})?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var dS=new B("",{factory:()=>new ke}),By=new B("",{providedIn:"root",factory:()=>1});function hS(){let n=[{provide:pm,useValue:!0},{provide:By,useValue:0},ds(()=>{let e=R(Re);return e.get(Km,Promise.resolve()).then(()=>new Promise(r=>{let i=e.get(Pn),o=e.get(dS);oh(i,()=>{r(!0)}),e.get(ih).afterPreactivation=()=>(r(!0),o.closed?z(void 0):o),i.initialNavigation()}))})];return $c(2,n)}function fS(){let n=[ds(()=>{R(Pn).setUpLocationChangeListener()}),{provide:By,useValue:2}];return $c(3,n)}var pS=new B("");function gS(n){return $c(0,[{provide:pS,useExisting:aS},{provide:Bc,useExisting:n}])}function mS(){return $c(8,[Py,{provide:jc,useExisting:Py}])}function yS(n){bn("NgRouterViewTransitions");let e=[{provide:Ly,useValue:iS},{provide:Fy,useValue:O({skipNextTransition:!!n?.skipInitialTransition},n)}];return $c(9,e)}var vS=[Wr,{provide:io,useClass:Qr},Pn,oo,{provide:Mn,useFactory:uS,deps:[Pn]},nh,[]],$y=(()=>{class n{constructor(){}static forRoot(t,r){return{ngModule:n,providers:[vS,[],{provide:so,multi:!0,useValue:t},[],r?.errorHandler?{provide:Vy,useValue:r.errorHandler}:[],{provide:Jr,useValue:r||{}},r?.useHash?DF():bF(),TF(),r?.preloadingStrategy?gS(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?CF(r):[],r?.bindToComponentInputs?mS().\u0275providers:[],r?.enableViewTransitions?yS().\u0275providers:[],SF()]}}static forChild(t){return{ngModule:n,providers:[{provide:so,multi:!0,useValue:t}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Hr({type:n});static \u0275inj=er({})}return n})();function TF(){return{provide:cS,useFactory:()=>{let n=R(uC),e=R(de),t=R(Jr),r=R(ih),i=R(io);return t.scrollOffset&&n.setOffset(t.scrollOffset),new wF(i,r,n,e,t)}}}function DF(){return{provide:dn,useClass:Jm}}function bF(){return{provide:dn,useClass:Ad}}function CF(n){return[n.initialNavigation==="disabled"?fS().\u0275providers:[],n.initialNavigation==="enabledBlocking"?hS().\u0275providers:[]]}var jy=new B("");function SF(){return[{provide:jy,useFactory:lS},{provide:dc,multi:!0,useExisting:jy}]}var ah=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Vt({type:n,selectors:[["app-home"]],decls:2,vars:0,template:function(t,r){t&1&&(zr(0,"p"),Ce(1,"home works!"),qr())},encapsulation:2})};var ch=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Vt({type:n,selectors:[["app-contacts"]],decls:2,vars:0,template:function(t,r){t&1&&(zr(0,"p"),Ce(1,"contacts works!"),qr())},encapsulation:2})};var uh=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Vt({type:n,selectors:[["app-about"]],decls:2,vars:0,template:function(t,r){t&1&&(zr(0,"p"),Ce(1,"about works!"),qr())},encapsulation:2})};var _S=()=>{};var wS=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},RF=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],c=n[t++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},lh={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,c=s?n[i+1]:0,u=i+2<n.length,l=u?n[i+2]:0,h=o>>2,p=(o&3)<<4|c>>4,m=(c&15)<<2|l>>6,y=l&63;u||(y=64,s||(m=64)),r.push(t[h],t[p],t[m],t[y])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(wS(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):RF(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],c=i<n.length?t[n.charAt(i)]:0;++i;let l=i<n.length?t[n.charAt(i)]:64;++i;let p=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||c==null||l==null||p==null)throw new zy;let m=o<<2|c>>4;if(r.push(m),l!==64){let y=c<<4&240|l>>2;if(r.push(y),p!==64){let A=l<<6&192|p;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},zy=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},NF=function(n){let e=wS(n);return lh.encodeByteArray(e,!0)},zc=function(n){return NF(n).replace(/\./g,"")},dh=function(n){try{return lh.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Gy(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var MF=()=>Gy().__FIREBASE_DEFAULTS__,PF=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},kF=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&dh(n[1]);return e&&JSON.parse(e)},hh=()=>{try{return _S()||MF()||PF()||kF()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Wy=n=>{var e,t;return(t=(e=hh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},TS=n=>{let e=Wy(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Ky=()=>{var n;return(n=hh())===null||n===void 0?void 0:n.config},Qy=n=>{var e;return(e=hh())===null||e===void 0?void 0:e[`_${n}`]};var ao=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function Xr(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}function fh(n){return E(this,null,function*(){return(yield fetch(n,{credentials:"include"})).ok})}function DS(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[zc(JSON.stringify(t)),zc(JSON.stringify(s)),""].join(".")}var Hc={};function xF(){let n={prod:[],emulator:[]};for(let e of Object.keys(Hc))Hc[e]?n.emulator.push(e):n.prod.push(e);return n}function OF(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var ES=!1;function ph(n,e){if(typeof window>"u"||typeof document>"u"||!Xr(window.location.host)||Hc[n]===e||Hc[n]||ES)return;Hc[n]=e;function t(m){return`__firebase__banner__${m}`}let r="__firebase__banner",o=xF().prod.length>0;function s(){let m=document.getElementById(r);m&&m.remove()}function c(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function u(m,y){m.setAttribute("width","24"),m.setAttribute("id",y),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function l(){let m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{ES=!0,s()},m}function h(m,y){m.setAttribute("id",y),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function p(){let m=OF(r),y=t("text"),A=document.getElementById(y)||document.createElement("span"),P=t("learnmore"),N=document.getElementById(P)||document.createElement("a"),F=t("preprendIcon"),K=document.getElementById(F)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){let Q=m.element;c(Q),h(N,P);let we=l();u(K,F),Q.append(K,A,N,we),document.body.appendChild(Q)}o?(A.innerText="Preview backend disconnected.",K.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(K.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,A.innerText="Preview backend running in this workspace."),A.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function Je(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function bS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Je())}function LF(){var n;let e=(n=hh())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function CS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function SS(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function AS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function RS(){let n=Je();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function NS(){return!LF()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function qc(){try{return typeof indexedDB=="object"}catch{return!1}}function MS(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var FF="FirebaseError",Bt=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=FF,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fn.prototype.create)}},fn=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?VF(o,r):"Error",c=`${this.serviceName}: ${s} (${i}).`;return new Bt(i,c,r)}};function VF(n,e){return n.replace(jF,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var jF=/\{\$([^}]+)}/g;function PS(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function kn(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(IS(o)&&IS(s)){if(!kn(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function IS(n){return n!==null&&typeof n=="object"}function Rs(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function kS(n,e){let t=new qy(n,e);return t.subscribe.bind(t)}var qy=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");UF(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=Hy),i.error===void 0&&(i.error=Hy),i.complete===void 0&&(i.complete=Hy);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function UF(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Hy(){}var yee=14400*1e3;function Ue(n){return n&&n._delegate?n._delegate:n}var At=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var co="[DEFAULT]";var Yy=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new ao;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if($F(e))try{this.getOrInitializeService({instanceIdentifier:co})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=co){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return E(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=co){return this.instances.has(e)}getOptions(e=co){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(o);r===c&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:BF(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=co){return this.component?this.component.multipleInstances?e:co:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function BF(n){return n===co?void 0:n}function $F(n){return n.instantiationMode==="EAGER"}var gh=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new Yy(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var HF=[],oe=(function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n})(oe||{}),zF={debug:oe.DEBUG,verbose:oe.VERBOSE,info:oe.INFO,warn:oe.WARN,error:oe.ERROR,silent:oe.SILENT},qF=oe.INFO,GF={[oe.DEBUG]:"log",[oe.VERBOSE]:"log",[oe.INFO]:"info",[oe.WARN]:"warn",[oe.ERROR]:"error"},WF=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=GF[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},xn=class{constructor(e){this.name=e,this._logLevel=qF,this._logHandler=WF,this._userLogHandler=null,HF.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?zF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,oe.DEBUG,...e),this._logHandler(this,oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,oe.VERBOSE,...e),this._logHandler(this,oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,oe.INFO,...e),this._logHandler(this,oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,oe.WARN,...e),this._logHandler(this,oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,oe.ERROR,...e),this._logHandler(this,oe.ERROR,...e)}};var KF=(n,e)=>e.some(t=>n instanceof t),xS,OS;function QF(){return xS||(xS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function YF(){return OS||(OS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var LS=new WeakMap,Jy=new WeakMap,FS=new WeakMap,Zy=new WeakMap,ev=new WeakMap;function ZF(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(On(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&LS.set(t,n)}).catch(()=>{}),ev.set(e,n),e}function JF(n){if(Jy.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});Jy.set(n,e)}var Xy={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Jy.get(n);if(e==="objectStoreNames")return n.objectStoreNames||FS.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return On(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function VS(n){Xy=n(Xy)}function XF(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(mh(this),e,...t);return FS.set(r,e.sort?e.sort():[e]),On(r)}:YF().includes(n)?function(...e){return n.apply(mh(this),e),On(LS.get(this))}:function(...e){return On(n.apply(mh(this),e))}}function eV(n){return typeof n=="function"?XF(n):(n instanceof IDBTransaction&&JF(n),KF(n,QF())?new Proxy(n,Xy):n)}function On(n){if(n instanceof IDBRequest)return ZF(n);if(Zy.has(n))return Zy.get(n);let e=eV(n);return e!==n&&(Zy.set(n,e),ev.set(e,n)),e}var mh=n=>ev.get(n);function US(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),c=On(s);return r&&s.addEventListener("upgradeneeded",u=>{r(On(s.result),u.oldVersion,u.newVersion,On(s.transaction),u)}),t&&s.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),c.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),c}var tV=["get","getKey","getAll","getAllKeys","count"],nV=["put","add","delete","clear"],tv=new Map;function jS(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(tv.get(e))return tv.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=nV.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||tV.includes(t)))return;let o=function(s,...c){return E(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(c.shift())),(yield Promise.all([l[t](...c),i&&u.done]))[0]})};return tv.set(e,o),o}VS(n=>pe(O({},n),{get:(e,t,r)=>jS(e,t)||n.get(e,t,r),has:(e,t)=>!!jS(e,t)||n.has(e,t)}));var rv=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(rV(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function rV(n){let e=n.getComponent();return e?.type==="VERSION"}var iv="@firebase/app",BS="0.13.2";var cr=new xn("@firebase/app"),iV="@firebase/app-compat",oV="@firebase/analytics-compat",sV="@firebase/analytics",aV="@firebase/app-check-compat",cV="@firebase/app-check",uV="@firebase/auth",lV="@firebase/auth-compat",dV="@firebase/database",hV="@firebase/data-connect",fV="@firebase/database-compat",pV="@firebase/functions",gV="@firebase/functions-compat",mV="@firebase/installations",yV="@firebase/installations-compat",vV="@firebase/messaging",_V="@firebase/messaging-compat",EV="@firebase/performance",IV="@firebase/performance-compat",wV="@firebase/remote-config",TV="@firebase/remote-config-compat",DV="@firebase/storage",bV="@firebase/storage-compat",CV="@firebase/firestore",SV="@firebase/ai",AV="@firebase/firestore-compat",RV="firebase",NV="11.10.0";var ov="[DEFAULT]",MV={[iv]:"fire-core",[iV]:"fire-core-compat",[sV]:"fire-analytics",[oV]:"fire-analytics-compat",[cV]:"fire-app-check",[aV]:"fire-app-check-compat",[uV]:"fire-auth",[lV]:"fire-auth-compat",[dV]:"fire-rtdb",[hV]:"fire-data-connect",[fV]:"fire-rtdb-compat",[pV]:"fire-fn",[gV]:"fire-fn-compat",[mV]:"fire-iid",[yV]:"fire-iid-compat",[vV]:"fire-fcm",[_V]:"fire-fcm-compat",[EV]:"fire-perf",[IV]:"fire-perf-compat",[wV]:"fire-rc",[TV]:"fire-rc-compat",[DV]:"fire-gcs",[bV]:"fire-gcs-compat",[CV]:"fire-fst",[AV]:"fire-fst-compat",[SV]:"fire-vertex","fire-js":"fire-js",[RV]:"fire-js-all"};var Gc=new Map,PV=new Map,sv=new Map;function $S(n,e){try{n.container.addComponent(e)}catch(t){cr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function pn(n){let e=n.name;if(sv.has(e))return cr.debug(`There were multiple attempts to register component ${e}.`),!1;sv.set(e,n);for(let t of Gc.values())$S(t,n);for(let t of PV.values())$S(t,n);return!0}function Ns(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function $t(n){return n==null?!1:n.settings!==void 0}var kV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ei=new fn("app","Firebase",kV);var av=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new At("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ei.create("app-deleted",{appName:this._name})}};var ti=NV;function lv(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:ov,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw ei.create("bad-app-name",{appName:String(i)});if(t||(t=Ky()),!t)throw ei.create("no-options");let o=Gc.get(i);if(o){if(kn(t,o.options)&&kn(r,o.config))return o;throw ei.create("duplicate-app",{appName:i})}let s=new gh(i);for(let u of sv.values())s.addComponent(u);let c=new av(t,r,s);return Gc.set(i,c),c}function uo(n=ov){let e=Gc.get(n);if(!e&&n===ov&&Ky())return lv();if(!e)throw ei.create("no-app",{appName:n});return e}function yh(){return Array.from(Gc.values())}function xe(n,e,t){var r;let i=(r=MV[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let c=[`Unable to register library "${i}" with version "${e}":`];o&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&c.push("and"),s&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),cr.warn(c.join(" "));return}pn(new At(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var xV="firebase-heartbeat-database",OV=1,Wc="firebase-heartbeat-store",nv=null;function GS(){return nv||(nv=US(xV,OV,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Wc)}catch(t){console.warn(t)}}}}).catch(n=>{throw ei.create("idb-open",{originalErrorMessage:n.message})})),nv}function LV(n){return E(this,null,function*(){try{let t=(yield GS()).transaction(Wc),r=yield t.objectStore(Wc).get(WS(n));return yield t.done,r}catch(e){if(e instanceof Bt)cr.warn(e.message);else{let t=ei.create("idb-get",{originalErrorMessage:e?.message});cr.warn(t.message)}}})}function HS(n,e){return E(this,null,function*(){try{let r=(yield GS()).transaction(Wc,"readwrite");yield r.objectStore(Wc).put(e,WS(n)),yield r.done}catch(t){if(t instanceof Bt)cr.warn(t.message);else{let r=ei.create("idb-set",{originalErrorMessage:t?.message});cr.warn(r.message)}}})}function WS(n){return`${n.name}!${n.options.appId}`}var FV=1024,VV=30,cv=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new uv(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return E(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=zS();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>VV){let s=UV(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){cr.warn(r)}})}getHeartbeatsHeader(){return E(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=zS(),{heartbeatsToSend:r,unsentEntries:i}=jV(this._heartbeatsCache.heartbeats),o=zc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return cr.warn(t),""}})}};function zS(){return new Date().toISOString().substring(0,10)}function jV(n,e=FV){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),qS(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),qS(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var uv=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return E(this,null,function*(){return qc()?MS().then(()=>!0).catch(()=>!1):!1})}read(){return E(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield LV(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return E(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return HS(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return E(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return HS(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function qS(n){return zc(JSON.stringify({version:2,heartbeats:n})).length}function UV(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function BV(n){pn(new At("platform-logger",e=>new rv(e),"PRIVATE")),pn(new At("heartbeat",e=>new cv(e),"PRIVATE")),xe(iv,BS,n),xe(iv,BS,"esm2017"),xe("fire-js","")}BV("");var $V="firebase",HV="11.10.0";xe($V,HV,"app");function KS(n){n===void 0&&(n=R(Re));let e=n.get(rs);return t=>new G(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let c=t.subscribe({next:u=>{r.next(u),s()},complete:()=>{r.complete(),s()},error:u=>{r.error(u),s()}});return c.add(()=>{r.unsubscribe(),s()}),c})}var ni=new Ai("ANGULARFIRE2_VERSION");function Kc(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var Ps=(n,e)=>{let t=e?[e]:yh(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Ms=(function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n})(Ms||{}),QS=mc()&&typeof Zone<"u"?Ms.WARN:Ms.SILENT;var vh=class{zone;delegate;constructor(e,t=jp){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,t,r)}},ri=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=R(de);this.outsideAngular=t.runOutsideAngular(()=>new vh(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new vh(typeof Zone>"u"?void 0:Zone.current,Vp))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),YS=!1;function zV(n,e){!YS&&(QS>Ms.SILENT||mc())&&(YS=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),QS>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function qV(n){let e=R(de,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function lo(n){let e=R(de,{optional:!0});return e?e.run(()=>n()):n()}var GV=(n,e,t)=>(...r)=>(e&&setTimeout(e,0),je(t,()=>lo(()=>n.apply(void 0,r)))),pt=(n,e,t)=>(t||=e?Ms.WARN:Ms.VERBOSE,function(){let r,i=arguments,o,s,c;try{o=R(ri),s=R(rs),c=R(Fe)}catch{return zV(n,t),n.apply(this,i)}for(let l=0;l<arguments.length;l++)typeof i[l]=="function"&&(e&&(r||=lo(()=>s.add())),i[l]=GV(i[l],r,c));let u=qV(()=>n.apply(this,i));return e?u instanceof G?u.pipe(Ar(o.outsideAngular),Sr(o.insideAngular),KS(c)):u instanceof Promise?lo(()=>{let l=s.add();return new Promise((h,p)=>{u.then(m=>je(c,()=>lo(()=>h(m))),m=>je(c,()=>lo(()=>p(m)))).finally(l)})}):typeof u=="function"&&r?function(){return setTimeout(r,0),u.apply(this,arguments)}:lo(()=>u):u instanceof G?u.pipe(Ar(o.outsideAngular),Sr(o.insideAngular)):lo(()=>u)});var ur=class{constructor(e){return e}},ho=class{constructor(){return yh()}};function WV(n){return n&&n.length===1?n[0]:new ur(uo())}var dv=new B("angularfire2._apps"),KV={provide:ur,useFactory:WV,deps:[[new Ft,dv]]},QV={provide:ho,deps:[[new Ft,dv]]};function YV(n){return(e,t)=>{let r=t.get(Ur);xe("angularfire",ni.full,"core"),xe("angularfire",ni.full,"app"),xe("angular",ng.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new ur(i)}}function ZS(n,...e){return ht([KV,QV,{provide:dv,useFactory:YV(n),multi:!0,deps:[de,Re,ri,...e]}])}var JS=pt(lv,!0);var ZV=new Map,JV={activated:!1,tokenObservers:[]},XV={initialized:!1,enabled:!1};function gn(n){return ZV.get(n)||Object.assign({},JV)}function nA(){return XV}var e2="https://content-firebaseappcheck.googleapis.com/v1";var t2="exchangeDebugToken",XS={OFFSET_DURATION:300*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:960*1e3},Ete=1440*60*1e3;var pv=class{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return E(this,null,function*(){this.stop();try{this.pending=new ao,this.pending.promise.catch(t=>{}),yield n2(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new ao,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function n2(n){return new Promise(e=>{setTimeout(e,n)})}var r2={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},ii=new fn("appCheck","AppCheck",r2);function rA(n){if(!gn(n).activated)throw ii.create("use-before-activation",{appName:n.name})}function iA(r,i){return E(this,arguments,function*({url:n,body:e},t){let o={"Content-Type":"application/json"},s=t.getImmediate({optional:!0});if(s){let y=yield s.getHeartbeatsHeader();y&&(o["X-Firebase-Client"]=y)}let c={method:"POST",body:JSON.stringify(e),headers:o},u;try{u=yield fetch(n,c)}catch(y){throw ii.create("fetch-network-error",{originalErrorMessage:y?.message})}if(u.status!==200)throw ii.create("fetch-status-error",{httpStatus:u.status});let l;try{l=yield u.json()}catch(y){throw ii.create("fetch-parse-error",{originalErrorMessage:y?.message})}let h=l.ttl.match(/^([\d.]+)(s)$/);if(!h||!h[2]||isNaN(Number(h[1])))throw ii.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let p=Number(h[1])*1e3,m=Date.now();return{token:l.token,expireTimeMillis:m+p,issuedAtTimeMillis:m}})}function oA(n,e){let{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${e2}/projects/${t}/apps/${r}:${t2}?key=${i}`,body:{debug_token:e}}}var i2="firebase-app-check-database",o2=1,gv="firebase-app-check-store";var _h=null;function s2(){return _h||(_h=new Promise((n,e)=>{try{let t=indexedDB.open(i2,o2);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(ii.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(gv,{keyPath:"compositeKey"})}}}catch(t){e(ii.create("storage-open",{originalErrorMessage:t?.message}))}}),_h)}function a2(n,e){return c2(u2(n),e)}function c2(n,e){return E(this,null,function*(){let r=(yield s2()).transaction(gv,"readwrite"),o=r.objectStore(gv).put({compositeKey:n,value:e});return new Promise((s,c)=>{o.onsuccess=u=>{s()},r.onerror=u=>{var l;c(ii.create("storage-set",{originalErrorMessage:(l=u.target.error)===null||l===void 0?void 0:l.message}))}})})}function u2(n){return`${n.options.appId}-${n.name}`}var Qc=new xn("@firebase/app-check");function hv(n,e){return qc()?a2(n,e).catch(t=>{Qc.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function sA(){return nA().enabled}function aA(){return E(this,null,function*(){let n=nA();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var l2={error:"UNKNOWN_ERROR"};function d2(n){return lh.encodeString(JSON.stringify(n),!1)}function mv(n,e=!1,t=!1){return E(this,null,function*(){let r=n.app;rA(r);let i=gn(r),o=i.token,s;if(o&&!Yc(o)&&(i.token=void 0,o=void 0),!o){let l=yield i.cachedTokenPromise;l&&(Yc(l)?o=l:yield hv(r,void 0))}if(!e&&o&&Yc(o))return{token:o.token};let c=!1;if(sA())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=iA(oA(r,yield aA()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),c=!0);let l=yield i.exchangeTokenPromise;return yield hv(r,l),i.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?Qc.warn(l.message):t&&Qc.error(l),fv(l)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),c=!0),o=yield gn(r).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?Qc.warn(l.message):t&&Qc.error(l),s=l}let u;return o?s?Yc(o)?u={token:o.token,internalError:s}:u=fv(s):(u={token:o.token},i.token=o,yield hv(r,o)):u=fv(s),c&&g2(r,u),u})}function h2(n){return E(this,null,function*(){let e=n.app;rA(e);let{provider:t}=gn(e);if(sA()){let r=yield aA(),{token:i}=yield iA(oA(e,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield t.getToken();return{token:r}}})}function f2(n,e,t,r){let{app:i}=n,o=gn(i),s={next:t,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&Yc(o.token)){let c=o.token;Promise.resolve().then(()=>{t({token:c.token}),eA(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>eA(n))}function cA(n,e){let t=gn(n),r=t.tokenObservers.filter(i=>i.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function eA(n){let{app:e}=n,t=gn(e),r=t.tokenRefresher;r||(r=p2(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function p2(n){let{app:e}=n;return new pv(()=>E(null,null,function*(){let t=gn(e),r;if(t.token?r=yield mv(n,!0):r=yield mv(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let t=gn(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-300*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},XS.RETRIAL_MIN_WAIT,XS.RETRIAL_MAX_WAIT)}function g2(n,e){let t=gn(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function Yc(n){return n.expireTimeMillis-Date.now()>0}function fv(n){return{token:d2(l2),error:n}}var yv=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=gn(this.app);for(let t of e)cA(this.app,t.next);return Promise.resolve()}};function m2(n,e){return new yv(n,e)}function y2(n){return{getToken:e=>mv(n,e),getLimitedUseToken:()=>h2(n),addTokenListener:e=>f2(n,"INTERNAL",e),removeTokenListener:e=>cA(n.app,e)}}var v2="@firebase/app-check",_2="0.10.1";var E2="app-check",tA="app-check-internal";function I2(){pn(new At(E2,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return m2(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(tA).initialize()})),pn(new At(tA,n=>{let e=n.getProvider("app-check").getImmediate();return y2(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),xe(v2,_2)}I2();var w2="app-check";var ks=class{constructor(){return Ps(w2)}};var T2=["localhost","0.0.0.0","127.0.0.1"],kte=typeof window<"u"&&T2.includes(window.location.hostname);function TA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var DA=TA,bA=new fn("auth","Firebase",TA());var bh=new xn("@firebase/auth");function D2(n,...e){bh.logLevel<=oe.WARN&&bh.warn(`Auth (${ti}): ${n}`,...e)}function Ih(n,...e){bh.logLevel<=oe.ERROR&&bh.error(`Auth (${ti}): ${n}`,...e)}function Fn(n,...e){throw Ov(n,...e)}function mn(n,...e){return Ov(n,...e)}function xv(n,e,t){let r=Object.assign(Object.assign({},DA()),{[e]:t});return new fn("auth","Firebase",r).create(e,{appName:n.name})}function fo(n){return xv(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function b2(n,e,t){let r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&Fn(n,"argument-error"),xv(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ov(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return bA.create(n,...e)}function W(n,e,...t){if(!n)throw Ov(e,...t)}function lr(n){let e="INTERNAL ASSERTION FAILED: "+n;throw Ih(e),new Error(e)}function hr(n,e){n||lr(e)}function Ev(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function C2(){return uA()==="http:"||uA()==="https:"}function uA(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function S2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(C2()||SS()||"connection"in navigator)?navigator.onLine:!0}function A2(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var po=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,hr(t>e,"Short delay should be less than long delay!"),this.isMobile=bS()||AS()}get(){return S2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Lv(n,e){hr(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var Ch=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;lr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;lr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;lr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var R2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var N2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],M2=new po(3e4,6e4);function Fv(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Os(o,s,c,u){return E(this,arguments,function*(n,e,t,r,i={}){return CA(n,i,()=>E(null,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=Rs(Object.assign({key:n.config.apiKey},h)).slice(1),m=yield n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);let y=Object.assign({method:e,headers:m},l);return CS()||(y.referrerPolicy="no-referrer"),n.emulatorConfig&&Xr(n.emulatorConfig.host)&&(y.credentials="include"),Ch.fetch()(yield SA(n,n.config.apiHost,t,p),y)}))})}function CA(n,e,t){return E(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},R2),e);try{let i=new Iv(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Eh(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let c=o.ok?s.errorMessage:s.error.message,[u,l]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Eh(n,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw Eh(n,"email-already-in-use",s);if(u==="USER_DISABLED")throw Eh(n,"user-disabled",s);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw xv(n,h,l);Fn(n,h)}}catch(i){if(i instanceof Bt)throw i;Fn(n,"network-request-failed",{message:String(i)})}})}function P2(o,s,c,u){return E(this,arguments,function*(n,e,t,r,i={}){let l=yield Os(n,e,t,r,i);return"mfaPendingCredential"in l&&Fn(n,"multi-factor-auth-required",{_serverResponse:l}),l})}function SA(n,e,t,r){return E(this,null,function*(){let i=`${e}${t}?${r}`,o=n,s=o.config.emulator?Lv(n.config,i):`${n.config.apiScheme}://${i}`;return N2.includes(t)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}var Iv=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(mn(this.auth,"network-request-failed")),M2.get())})}};function Eh(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=mn(n,e,r);return i.customData._tokenResponse=t,i}function k2(n,e){return E(this,null,function*(){return Os(n,"POST","/v1/accounts:delete",e)})}function Sh(n,e){return E(this,null,function*(){return Os(n,"POST","/v1/accounts:lookup",e)})}function Zc(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Vv(n,e=!1){return E(this,null,function*(){let t=Ue(n),r=yield t.getIdToken(e),i=jv(r);W(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Zc(vv(i.auth_time)),issuedAtTime:Zc(vv(i.iat)),expirationTime:Zc(vv(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function vv(n){return Number(n)*1e3}function jv(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Ih("JWT malformed, contained fewer than 3 sections"),null;try{let i=dh(t);return i?JSON.parse(i):(Ih("Failed to decode base64 JWT payload"),null)}catch(i){return Ih("Caught error parsing JWT payload as JSON",i?.toString()),null}}function lA(n){let e=jv(n);return W(e,"internal-error"),W(typeof e.exp<"u","internal-error"),W(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Xc(n,e,t=!1){return E(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof Bt&&x2(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function x2({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var wv=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>E(this,null,function*(){yield this.iteration()}),t)}iteration(){return E(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var eu=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zc(this.lastLoginAt),this.creationTime=Zc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Ah(n){return E(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield Xc(n,Sh(t,{idToken:r}));W(i?.users.length,t,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?AA(o.providerUserInfo):[],c=O2(n.providerData,s),u=n.isAnonymous,l=!(n.email&&o.passwordHash)&&!c?.length,h=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new eu(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(n,p)})}function Uv(n){return E(this,null,function*(){let e=Ue(n);yield Ah(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function O2(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function AA(n){return n.map(e=>{var{providerId:t}=e,r=il(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function L2(n,e){return E(this,null,function*(){let t=yield CA(n,{},()=>E(null,null,function*(){let r=Rs({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=yield SA(n,i,"/v1/token",`key=${o}`),c=yield n._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";let u={method:"POST",headers:c,body:r};return n.emulatorConfig&&Xr(n.emulatorConfig.host)&&(u.credentials="include"),Ch.fetch()(s,u)}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function F2(n,e){return E(this,null,function*(){return Os(n,"POST","/v2/accounts:revokeToken",Fv(n,e))})}var Jc=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){W(e.idToken,"internal-error"),W(typeof e.idToken<"u","internal-error"),W(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):lA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){W(e.length!==0,"internal-error");let t=lA(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return E(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(W(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return E(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield L2(e,t);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(W(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(W(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(W(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return lr("not implemented")}};function oi(n,e){W(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var si=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=il(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new wv(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new eu(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return E(this,null,function*(){let t=yield Xc(this,this.stsTokenManager.getToken(this.auth,e));return W(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return Vv(this,e)}reload(){return Uv(this)}_assign(e){this!==e&&(W(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){W(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return E(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield Ah(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return E(this,null,function*(){if($t(this.auth.app))return Promise.reject(fo(this.auth));let e=yield this.getIdToken();return yield Xc(this,k2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,c,u,l,h;let p=(r=t.displayName)!==null&&r!==void 0?r:void 0,m=(i=t.email)!==null&&i!==void 0?i:void 0,y=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,A=(s=t.photoURL)!==null&&s!==void 0?s:void 0,P=(c=t.tenantId)!==null&&c!==void 0?c:void 0,N=(u=t._redirectEventId)!==null&&u!==void 0?u:void 0,F=(l=t.createdAt)!==null&&l!==void 0?l:void 0,K=(h=t.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:Q,emailVerified:we,isAnonymous:vt,providerData:ye,stsTokenManager:T}=t;W(Q&&T,e,"internal-error");let v=Jc.fromJSON(this.name,T);W(typeof Q=="string",e,"internal-error"),oi(p,e.name),oi(m,e.name),W(typeof we=="boolean",e,"internal-error"),W(typeof vt=="boolean",e,"internal-error"),oi(y,e.name),oi(A,e.name),oi(P,e.name),oi(N,e.name),oi(F,e.name),oi(K,e.name);let I=new n({uid:Q,auth:e,email:m,emailVerified:we,displayName:p,isAnonymous:vt,photoURL:A,phoneNumber:y,tenantId:P,stsTokenManager:v,createdAt:F,lastLoginAt:K});return ye&&Array.isArray(ye)&&(I.providerData=ye.map(w=>Object.assign({},w))),N&&(I._redirectEventId=N),I}static _fromIdTokenResponse(e,t,r=!1){return E(this,null,function*(){let i=new Jc;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Ah(o),o})}static _fromGetAccountInfoResponse(e,t,r){return E(this,null,function*(){let i=t.users[0];W(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?AA(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,c=new Jc;c.updateFromIdToken(r);let u=new n({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new eu(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var dA=new Map;function dr(n){hr(n instanceof Function,"Expected a class definition");let e=dA.get(n);return e?(hr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,dA.set(n,e),e)}var V2=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return E(this,null,function*(){return!0})}_set(t,r){return E(this,null,function*(){this.storage[t]=r})}_get(t){return E(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return E(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),Tv=V2;function wh(n,e,t){return`firebase:${n}:${e}:${t}`}var Rh=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=wh(this.userKey,i.apiKey,o),this.fullPersistenceKey=wh("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return E(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=yield Sh(this.auth,{idToken:e}).catch(()=>{});return t?si._fromGetAccountInfoResponse(this.auth,t,e):null}return si._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return E(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return E(this,null,function*(){if(!t.length)return new n(dr(Tv),e,r);let i=(yield Promise.all(t.map(l=>E(null,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||dr(Tv),s=wh(r,e.config.apiKey,e.name),c=null;for(let l of t)try{let h=yield l._get(s);if(h){let p;if(typeof h=="string"){let m=yield Sh(e,{idToken:h}).catch(()=>{});if(!m)break;p=yield si._fromGetAccountInfoResponse(e,m,h)}else p=si._fromJSON(e,h);l!==o&&(c=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new n(o,e,r):(o=u[0],c&&(yield o._set(s,c.toJSON())),yield Promise.all(t.map(l=>E(null,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new n(o,e,r))})}};function hA(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(PA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(RA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(xA(e))return"Blackberry";if(OA(e))return"Webos";if(NA(e))return"Safari";if((e.includes("chrome/")||MA(e))&&!e.includes("edge/"))return"Chrome";if(kA(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function RA(n=Je()){return/firefox\//i.test(n)}function NA(n=Je()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function MA(n=Je()){return/crios\//i.test(n)}function PA(n=Je()){return/iemobile/i.test(n)}function kA(n=Je()){return/android/i.test(n)}function xA(n=Je()){return/blackberry/i.test(n)}function OA(n=Je()){return/webos/i.test(n)}function Bv(n=Je()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function j2(n=Je()){var e;return Bv(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function U2(){return RS()&&document.documentMode===10}function LA(n=Je()){return Bv(n)||kA(n)||OA(n)||xA(n)||/windows phone/i.test(n)||PA(n)}function FA(n,e=[]){let t;switch(n){case"Browser":t=hA(Je());break;case"Worker":t=`${hA(Je())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ti}/${r}`}var Dv=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,c)=>{try{let u=e(o);s(u)}catch(u){c(u)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return E(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function B2(t){return E(this,arguments,function*(n,e={}){return Os(n,"GET","/v2/passwordPolicy",Fv(n,e))})}var $2=6,bv=class{constructor(e){var t,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:$2,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,c;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(t=u.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(c=u.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),u}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var Cv=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Nh(this),this.idTokenSubscription=new Nh(this),this.beforeStateQueue=new Dv(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=bA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=dr(t)),this._initializationPromise=this.queue(()=>E(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield Rh.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return E(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return E(this,null,function*(){try{let t=yield Sh(this,{idToken:e}),r=yield si._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return E(this,null,function*(){var t;if($t(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(c,c))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,c=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===c)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return W(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return E(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return E(this,null,function*(){try{yield Ah(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=A2()}_delete(){return E(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return E(this,null,function*(){if($t(this.app))return Promise.reject(fo(this));let t=e?Ue(e):null;return t&&W(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return E(this,null,function*(){if(!this._deleted)return e&&W(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>E(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return E(this,null,function*(){return $t(this.app)?Promise.reject(fo(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return $t(this.app)?Promise.reject(fo(this)):this.queue(()=>E(this,null,function*(){yield this.assertedPersistence.setPersistence(dr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return E(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return E(this,null,function*(){let e=yield B2(this),t=new bv(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new fn("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return E(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield F2(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return E(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return E(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&dr(e)||this._popupRedirectResolver;W(t,this,"argument-error"),this.redirectPersistenceManager=yield Rh.create(this,[dr(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return E(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>E(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return E(this,null,function*(){if(e===this.currentUser)return this.queue(()=>E(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if(W(c,this,"internal-error"),c.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let u=e.addObserver(t,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(t);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return E(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return W(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=FA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return E(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return E(this,null,function*(){var e;if($t(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&D2(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function Vh(n){return Ue(n)}var Nh=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=kS(t=>this.observer=t)}get next(){return W(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var $v={loadJS(){return E(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function H2(n){$v=n}function z2(n){return $v.loadJS(n)}function q2(){return $v.gapiScript}function VA(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function Hv(n,e){let t=Ns(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),o=t.getOptions();if(kn(o,e??{}))return i;Fn(i,"already-initialized")}return t.initialize({options:e})}function G2(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(dr);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function zv(n,e,t){let r=Vh(n);W(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,o=jA(e),{host:s,port:c}=W2(e),u=c===null?"":`:${c}`,l={url:`${o}//${s}${u}/`},h=Object.freeze({host:s,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){W(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),W(kn(l,r.config.emulator)&&kn(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=l,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,Xr(s)?(fh(`${o}//${s}${u}`),ph("Auth",!0)):i||K2()}function jA(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function W2(n){let e=jA(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:fA(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:fA(s)}}}function fA(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function K2(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var tu=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return lr("not implemented")}_getIdTokenResponse(e){return lr("not implemented")}_linkToIdToken(e,t){return lr("not implemented")}_getReauthenticationResolver(e){return lr("not implemented")}};function xs(n,e){return E(this,null,function*(){return P2(n,"POST","/v1/accounts:signInWithIdp",Fv(n,e))})}var Q2="http://localhost",Mh=class n extends tu{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Fn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,o=il(t,["providerId","signInMethod"]);if(!r||!i)return null;let s=new n(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){let t=this.buildRequest();return xs(e,t)}_linkToIdToken(e,t){let r=this.buildRequest();return r.idToken=t,xs(e,r)}_getReauthenticationResolver(e){let t=this.buildRequest();return t.autoCreate=!1,xs(e,t)}buildRequest(){let e={requestUri:Q2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Rs(t)}return e}};var nu=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Ph=class extends nu{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var qv=(()=>{class n extends Ph{constructor(){super("google.com"),this.addScope("profile")}static credential(t,r){return Mh._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:r})}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;let{oauthIdToken:r,oauthAccessToken:i}=t;if(!r&&!i)return null;try{return n.credential(r,i)}catch{return null}}}n.GOOGLE_SIGN_IN_METHOD="google.com",n.PROVIDER_ID="google.com";return n})();var ru=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return E(this,null,function*(){let o=yield si._fromIdTokenResponse(e,r,i),s=pA(r);return new n({user:o,providerId:s,_tokenResponse:r,operationType:t})})}static _forOperation(e,t,r){return E(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=pA(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})})}};function pA(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var Sv=class n extends Bt{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function UA(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Sv._fromErrorAndOperation(n,o,e,r):o})}function Y2(n,e,t=!1){return E(this,null,function*(){let r=yield Xc(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return ru._forOperation(n,"link",r)})}function Z2(n,e,t=!1){return E(this,null,function*(){let{auth:r}=n;if($t(r.app))return Promise.reject(fo(r));let i="reauthenticate";try{let o=yield Xc(n,UA(r,i,e,n),t);W(o.idToken,r,"internal-error");let s=jv(o.idToken);W(s,r,"internal-error");let{sub:c}=s;return W(n.uid===c,r,"user-mismatch"),ru._forOperation(n,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&Fn(r,"user-mismatch"),o}})}function J2(n,e,t=!1){return E(this,null,function*(){if($t(n.app))return Promise.reject(fo(n));let r="signIn",i=yield UA(n,r,e),o=yield ru._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(o.user)),o})}function jh(n,e,t,r){return Ue(n).onIdTokenChanged(e,t,r)}function Gv(n,e,t){return Ue(n).beforeAuthStateChanged(e,t)}function Uh(n,e,t,r){return Ue(n).onAuthStateChanged(e,t,r)}function Wv(n){return Ue(n).signOut()}var kh="__sak";var xh=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(kh,"1"),this.storage.removeItem(kh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var X2=1e3,ej=10,tj=(()=>{class n extends xh{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=LA(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&t(r,o,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((c,u,l)=>{this.notifyListeners(c,l)});return}let i=t.key;r?this.detachListener():this.stopPolling();let o=()=>{let c=this.storage.getItem(i);!r&&this.localCache[i]===c||this.notifyListeners(i,c)},s=this.storage.getItem(i);U2()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,ej):o()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},X2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,r){return E(this,null,function*(){yield br(n.prototype,this,"_set").call(this,t,r),this.localCache[t]=JSON.stringify(r)})}_get(t){return E(this,null,function*(){let r=yield br(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(r),r})}_remove(t){return E(this,null,function*(){yield br(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),BA=tj;var nj=(()=>{class n extends xh{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),Kv=nj;function rj(n){return Promise.all(n.map(e=>E(null,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var ij=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(o=>o.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){return E(this,null,function*(){let r=t,{eventId:i,eventType:o,data:s}=r.data,c=this.handlersMap[o];if(!c?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(c).map(h=>E(this,null,function*(){return h(r.origin,s)})),l=yield rj(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function Qv(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var Av=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){return E(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((c,u)=>{let l=Qv("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let m=p;if(m.data.eventId===l)switch(m.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(m.data.response);break;default:clearTimeout(h),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function Ln(){return window}function oj(n){Ln().location.href=n}function $A(){return typeof Ln().WorkerGlobalScope<"u"&&typeof Ln().importScripts=="function"}function sj(){return E(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function aj(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function cj(){return $A()?self:null}var HA="firebaseLocalStorageDb",uj=1,Oh="firebaseLocalStorage",zA="fbase_key",go=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function Bh(n,e){return n.transaction([Oh],e?"readwrite":"readonly").objectStore(Oh)}function lj(){let n=indexedDB.deleteDatabase(HA);return new go(n).toPromise()}function Rv(){let n=indexedDB.open(HA,uj);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(Oh,{keyPath:zA})}catch(i){t(i)}}),n.addEventListener("success",()=>E(null,null,function*(){let r=n.result;r.objectStoreNames.contains(Oh)?e(r):(r.close(),yield lj(),e(yield Rv()))}))})}function gA(n,e,t){return E(this,null,function*(){let r=Bh(n,!0).put({[zA]:e,value:t});return new go(r).toPromise()})}function dj(n,e){return E(this,null,function*(){let t=Bh(n,!1).get(e),r=yield new go(t).toPromise();return r===void 0?null:r.value})}function mA(n,e){let t=Bh(n,!0).delete(e);return new go(t).toPromise()}var hj=800,fj=3,pj=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return E(this,null,function*(){return this.db?this.db:(this.db=yield Rv(),this.db)})}_withRetries(t){return E(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield t(i)}catch(i){if(r++>fj)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return E(this,null,function*(){return $A()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return E(this,null,function*(){this.receiver=ij._getInstance(cj()),this.receiver._subscribe("keyChanged",(t,r)=>E(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(t,r)=>E(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return E(this,null,function*(){var t,r;if(this.activeServiceWorker=yield sj(),!this.activeServiceWorker)return;this.sender=new Av(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return E(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||aj()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return E(this,null,function*(){try{if(!indexedDB)return!1;let t=yield Rv();return yield gA(t,kh,"1"),yield mA(t,kh),!0}catch{}return!1})}_withPendingWrite(t){return E(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,r){return E(this,null,function*(){return this._withPendingWrite(()=>E(this,null,function*(){return yield this._withRetries(i=>gA(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)}))})}_get(t){return E(this,null,function*(){let r=yield this._withRetries(i=>dj(i,t));return this.localCache[t]=r,r})}_remove(t){return E(this,null,function*(){return this._withPendingWrite(()=>E(this,null,function*(){return yield this._withRetries(r=>mA(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return E(this,null,function*(){let t=yield this._withRetries(o=>{let s=Bh(o,!1).getAll();return new go(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:o,value:s}of t)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>E(this,null,function*(){return this._poll()}),hj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),qA=pj;var Hte=VA("rcb"),zte=new po(3e4,6e4);function GA(n,e){return e?dr(e):(W(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var iu=class extends tu{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return xs(e,this._buildIdpRequest())}_linkToIdToken(e,t){return xs(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return xs(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function gj(n){return J2(n.auth,new iu(n),n.bypassAuthState)}function mj(n){let{auth:e,user:t}=n;return W(t,e,"internal-error"),Z2(t,new iu(n),n.bypassAuthState)}function yj(n){return E(this,null,function*(){let{auth:e,user:t}=n;return W(t,e,"internal-error"),Y2(t,new iu(n),n.bypassAuthState)})}var Lh=class{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>E(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return E(this,null,function*(){let{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:s,type:c}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(c)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return gj;case"linkViaPopup":case"linkViaRedirect":return yj;case"reauthViaPopup":case"reauthViaRedirect":return mj;default:Fn(this.auth,"internal-error")}}resolve(e){hr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){hr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var vj=new po(2e3,1e4);function Yv(n,e,t){return E(this,null,function*(){if($t(n.app))return Promise.reject(mn(n,"operation-not-supported-in-this-environment"));let r=Vh(n);b2(n,e,nu);let i=GA(r,t);return new _j(r,"signInViaPopup",e,i).executeNotNull()})}var _j=(()=>{class n extends Lh{constructor(t,r,i,o,s){super(t,r,o,s),this.provider=i,this.authWindow=null,this.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=this}executeNotNull(){return E(this,null,function*(){let t=yield this.execute();return W(t,this.auth,"internal-error"),t})}onExecution(){return E(this,null,function*(){hr(this.filter.length===1,"Popup operations only handle one event");let t=Qv();this.authWindow=yield this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(mn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()})}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(mn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}pollUserCancellation(){let t=()=>{var r,i;if(!((i=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(mn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,vj.get())};t()}}n.currentPopupAction=null;return n})(),Ej="pendingRedirect",Th=new Map,Nv=class n extends Lh{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){return E(this,null,function*(){let e=Th.get(this.auth._key());if(!e){try{let r=(yield Ij(this.resolver,this.auth))?yield br(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Th.set(this.auth._key(),e)}return this.bypassAuthState||Th.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return E(this,null,function*(){if(e.type==="signInViaRedirect")return br(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,br(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return E(this,null,function*(){})}cleanUp(){}};function Ij(n,e){return E(this,null,function*(){let t=Dj(e),r=Tj(n);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(t))==="true";return yield r._remove(t),i})}function wj(n,e){Th.set(n._key(),e)}function Tj(n){return dr(n._redirectPersistence)}function Dj(n){return wh(Ej,n.config.apiKey,n.name)}function bj(n,e,t=!1){return E(this,null,function*(){if($t(n.app))return Promise.reject(fo(n));let r=Vh(n),i=GA(r,e),s=yield new Nv(r,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var Cj=600*1e3,Mv=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Sj(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!WA(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(mn(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Cj&&this.cachedEventUids.clear(),this.cachedEventUids.has(yA(e))}saveEventToCache(e){this.cachedEventUids.add(yA(e)),this.lastProcessedEventTime=Date.now()}};function yA(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function WA({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function Sj(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return WA(n);default:return!1}}function Aj(t){return E(this,arguments,function*(n,e={}){return Os(n,"GET","/v1/projects",e)})}var Rj=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Nj=/^https?/;function Mj(n){return E(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield Aj(n);for(let t of e)try{if(Pj(t))return}catch{}Fn(n,"unauthorized-domain")})}function Pj(n){let e=Ev(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let s=new URL(n);return s.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===r}if(!Nj.test(t))return!1;if(Rj.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var kj=new po(3e4,6e4);function vA(){let n=Ln().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function xj(n){return new Promise((e,t)=>{var r,i,o;function s(){vA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{vA(),t(mn(n,"network-request-failed"))},timeout:kj.get()})}if(!((i=(r=Ln().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Ln().gapi)===null||o===void 0)&&o.load)s();else{let c=VA("iframefcb");return Ln()[c]=()=>{gapi.load?s():t(mn(n,"network-request-failed"))},z2(`${q2()}?onload=${c}`).catch(u=>t(u))}}).catch(e=>{throw Dh=null,e})}var Dh=null;function Oj(n){return Dh=Dh||xj(n),Dh}var Lj=new po(5e3,15e3),Fj="__/auth/iframe",Vj="emulator/auth/iframe",jj={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Uj=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Bj(n){let e=n.config;W(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?Lv(e,Vj):`https://${n.config.authDomain}/${Fj}`,r={apiKey:e.apiKey,appName:n.name,v:ti},i=Uj.get(n.config.apiHost);i&&(r.eid=i);let o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${Rs(r).slice(1)}`}function $j(n){return E(this,null,function*(){let e=yield Oj(n),t=Ln().gapi;return W(t,n,"internal-error"),e.open({where:document.body,url:Bj(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:jj,dontclear:!0},r=>new Promise((i,o)=>E(null,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=mn(n,"network-request-failed"),c=Ln().setTimeout(()=>{o(s)},Lj.get());function u(){Ln().clearTimeout(c),i(r)}r.ping(u).then(u,()=>{o(s)})})))})}var Hj={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},zj=500,qj=600,Gj="_blank",Wj="http://localhost",Fh=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function Kj(n,e,t,r=zj,i=qj){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),c="",u=Object.assign(Object.assign({},Hj),{width:r.toString(),height:i.toString(),top:o,left:s}),l=Je().toLowerCase();t&&(c=MA(l)?Gj:t),RA(l)&&(e=e||Wj,u.scrollbars="yes");let h=Object.entries(u).reduce((m,[y,A])=>`${m}${y}=${A},`,"");if(j2(l)&&c!=="_self")return Qj(e||"",c),new Fh(null);let p=window.open(e||"",c,h);W(p,n,"popup-blocked");try{p.focus()}catch{}return new Fh(p)}function Qj(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var Yj="__/auth/handler",Zj="emulator/auth/handler",Jj=encodeURIComponent("fac");function _A(n,e,t,r,i,o){return E(this,null,function*(){W(n.config.authDomain,n,"auth-domain-config-required"),W(n.config.apiKey,n,"invalid-api-key");let s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:ti,eventId:i};if(e instanceof nu){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",PS(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(o||{}))s[h]=p}if(e instanceof Ph){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(s.scopes=h.join(","))}n.tenantId&&(s.tid=n.tenantId);let c=s;for(let h of Object.keys(c))c[h]===void 0&&delete c[h];let u=yield n._getAppCheckToken(),l=u?`#${Jj}=${encodeURIComponent(u)}`:"";return`${Xj(n)}?${Rs(c).slice(1)}${l}`})}function Xj({config:n}){return n.emulator?Lv(n,Zj):`https://${n.authDomain}/${Yj}`}var _v="webStorageSupport",Pv=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Kv,this._completeRedirectFn=bj,this._overrideRedirectResult=wj}_openPopup(e,t,r,i){return E(this,null,function*(){var o;hr((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield _A(e,t,r,Ev(),i);return Kj(e,s,Qv())})}_openRedirect(e,t,r,i){return E(this,null,function*(){yield this._originValidation(e);let o=yield _A(e,t,r,Ev(),i);return oj(o),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(hr(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){return E(this,null,function*(){let t=yield $j(e),r=new Mv(e);return t.register("authEvent",i=>(W(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(_v,{type:_v},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[_v];s!==void 0&&t(!!s),Fn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Mj(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return LA()||NA()||Bv()}},KA=Pv;var EA="@firebase/auth",IA="1.10.8";var kv=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return E(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){W(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function eU(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function tU(n){pn(new At("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:c}=r.options;W(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:FA(n)},l=new Cv(r,i,o,u);return G2(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),pn(new At("auth-internal",e=>{let t=Vh(e.getProvider("auth").getImmediate());return(r=>new kv(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),xe(EA,IA,eU(n)),xe(EA,IA,"esm2017")}var nU=300,rU=Qy("authIdTokenMaxAge")||nU,wA=null,iU=n=>e=>E(null,null,function*(){let t=e&&(yield e.getIdTokenResult()),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>rU)return;let i=t?.token;wA!==i&&(wA=i,yield fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function Zv(n=uo()){let e=Ns(n,"auth");if(e.isInitialized())return e.getImmediate();let t=Hv(n,{popupRedirectResolver:KA,persistence:[qA,BA,Kv]}),r=Qy("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=iU(o.toString());Gv(t,s,()=>s(t.currentUser)),jh(t,c=>s(c))}}let i=Wy("auth");return i&&zv(t,`http://${i}`),t}function oU(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}H2({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=mn("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",oU().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});tU("Browser");function YA(n){return new G(function(e){var t=Uh(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:t}})}var ZA="auth",mo=class{constructor(e){return e}},ou=class{constructor(){return Ps(ZA)}};var Jv=new B("angularfire2.auth-instances");function KU(n,e){let t=Kc(ZA,n,e);return t&&new mo(t)}function QU(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new mo(r)}}var YU={provide:ou,deps:[[new Ft,Jv]]},ZU={provide:mo,useFactory:KU,deps:[[new Ft,Jv],ur]};function JA(n,...e){return xe("angularfire",ni.full,"auth"),ht([ZU,YU,{provide:Jv,useFactory:QU(n),multi:!0,deps:[de,Re,ri,ho,[new Ft,ks],...e]}])}var XA=pt(YA,!0);var e0=pt(Zv,!0);var t0=pt(Yv,!0,2);var n0=pt(Wv,!0,2);var r0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},i0={};var fr,Xv;(function(){var n;function e(T,v){function I(){}I.prototype=v.prototype,T.D=v.prototype,T.prototype=new I,T.prototype.constructor=T,T.C=function(w,D,C){for(var _=Array(arguments.length-2),qn=2;qn<arguments.length;qn++)_[qn-2]=arguments[qn];return v.prototype[D].apply(w,_)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,v,I){I||(I=0);var w=Array(16);if(typeof v=="string")for(var D=0;16>D;++D)w[D]=v.charCodeAt(I++)|v.charCodeAt(I++)<<8|v.charCodeAt(I++)<<16|v.charCodeAt(I++)<<24;else for(D=0;16>D;++D)w[D]=v[I++]|v[I++]<<8|v[I++]<<16|v[I++]<<24;v=T.g[0],I=T.g[1],D=T.g[2];var C=T.g[3],_=v+(C^I&(D^C))+w[0]+3614090360&4294967295;v=I+(_<<7&4294967295|_>>>25),_=C+(D^v&(I^D))+w[1]+3905402710&4294967295,C=v+(_<<12&4294967295|_>>>20),_=D+(I^C&(v^I))+w[2]+606105819&4294967295,D=C+(_<<17&4294967295|_>>>15),_=I+(v^D&(C^v))+w[3]+3250441966&4294967295,I=D+(_<<22&4294967295|_>>>10),_=v+(C^I&(D^C))+w[4]+4118548399&4294967295,v=I+(_<<7&4294967295|_>>>25),_=C+(D^v&(I^D))+w[5]+1200080426&4294967295,C=v+(_<<12&4294967295|_>>>20),_=D+(I^C&(v^I))+w[6]+2821735955&4294967295,D=C+(_<<17&4294967295|_>>>15),_=I+(v^D&(C^v))+w[7]+4249261313&4294967295,I=D+(_<<22&4294967295|_>>>10),_=v+(C^I&(D^C))+w[8]+1770035416&4294967295,v=I+(_<<7&4294967295|_>>>25),_=C+(D^v&(I^D))+w[9]+2336552879&4294967295,C=v+(_<<12&4294967295|_>>>20),_=D+(I^C&(v^I))+w[10]+4294925233&4294967295,D=C+(_<<17&4294967295|_>>>15),_=I+(v^D&(C^v))+w[11]+2304563134&4294967295,I=D+(_<<22&4294967295|_>>>10),_=v+(C^I&(D^C))+w[12]+1804603682&4294967295,v=I+(_<<7&4294967295|_>>>25),_=C+(D^v&(I^D))+w[13]+4254626195&4294967295,C=v+(_<<12&4294967295|_>>>20),_=D+(I^C&(v^I))+w[14]+2792965006&4294967295,D=C+(_<<17&4294967295|_>>>15),_=I+(v^D&(C^v))+w[15]+1236535329&4294967295,I=D+(_<<22&4294967295|_>>>10),_=v+(D^C&(I^D))+w[1]+4129170786&4294967295,v=I+(_<<5&4294967295|_>>>27),_=C+(I^D&(v^I))+w[6]+3225465664&4294967295,C=v+(_<<9&4294967295|_>>>23),_=D+(v^I&(C^v))+w[11]+643717713&4294967295,D=C+(_<<14&4294967295|_>>>18),_=I+(C^v&(D^C))+w[0]+3921069994&4294967295,I=D+(_<<20&4294967295|_>>>12),_=v+(D^C&(I^D))+w[5]+3593408605&4294967295,v=I+(_<<5&4294967295|_>>>27),_=C+(I^D&(v^I))+w[10]+38016083&4294967295,C=v+(_<<9&4294967295|_>>>23),_=D+(v^I&(C^v))+w[15]+3634488961&4294967295,D=C+(_<<14&4294967295|_>>>18),_=I+(C^v&(D^C))+w[4]+3889429448&4294967295,I=D+(_<<20&4294967295|_>>>12),_=v+(D^C&(I^D))+w[9]+568446438&4294967295,v=I+(_<<5&4294967295|_>>>27),_=C+(I^D&(v^I))+w[14]+3275163606&4294967295,C=v+(_<<9&4294967295|_>>>23),_=D+(v^I&(C^v))+w[3]+4107603335&4294967295,D=C+(_<<14&4294967295|_>>>18),_=I+(C^v&(D^C))+w[8]+1163531501&4294967295,I=D+(_<<20&4294967295|_>>>12),_=v+(D^C&(I^D))+w[13]+2850285829&4294967295,v=I+(_<<5&4294967295|_>>>27),_=C+(I^D&(v^I))+w[2]+4243563512&4294967295,C=v+(_<<9&4294967295|_>>>23),_=D+(v^I&(C^v))+w[7]+1735328473&4294967295,D=C+(_<<14&4294967295|_>>>18),_=I+(C^v&(D^C))+w[12]+2368359562&4294967295,I=D+(_<<20&4294967295|_>>>12),_=v+(I^D^C)+w[5]+4294588738&4294967295,v=I+(_<<4&4294967295|_>>>28),_=C+(v^I^D)+w[8]+2272392833&4294967295,C=v+(_<<11&4294967295|_>>>21),_=D+(C^v^I)+w[11]+1839030562&4294967295,D=C+(_<<16&4294967295|_>>>16),_=I+(D^C^v)+w[14]+4259657740&4294967295,I=D+(_<<23&4294967295|_>>>9),_=v+(I^D^C)+w[1]+2763975236&4294967295,v=I+(_<<4&4294967295|_>>>28),_=C+(v^I^D)+w[4]+1272893353&4294967295,C=v+(_<<11&4294967295|_>>>21),_=D+(C^v^I)+w[7]+4139469664&4294967295,D=C+(_<<16&4294967295|_>>>16),_=I+(D^C^v)+w[10]+3200236656&4294967295,I=D+(_<<23&4294967295|_>>>9),_=v+(I^D^C)+w[13]+681279174&4294967295,v=I+(_<<4&4294967295|_>>>28),_=C+(v^I^D)+w[0]+3936430074&4294967295,C=v+(_<<11&4294967295|_>>>21),_=D+(C^v^I)+w[3]+3572445317&4294967295,D=C+(_<<16&4294967295|_>>>16),_=I+(D^C^v)+w[6]+76029189&4294967295,I=D+(_<<23&4294967295|_>>>9),_=v+(I^D^C)+w[9]+3654602809&4294967295,v=I+(_<<4&4294967295|_>>>28),_=C+(v^I^D)+w[12]+3873151461&4294967295,C=v+(_<<11&4294967295|_>>>21),_=D+(C^v^I)+w[15]+530742520&4294967295,D=C+(_<<16&4294967295|_>>>16),_=I+(D^C^v)+w[2]+3299628645&4294967295,I=D+(_<<23&4294967295|_>>>9),_=v+(D^(I|~C))+w[0]+4096336452&4294967295,v=I+(_<<6&4294967295|_>>>26),_=C+(I^(v|~D))+w[7]+1126891415&4294967295,C=v+(_<<10&4294967295|_>>>22),_=D+(v^(C|~I))+w[14]+2878612391&4294967295,D=C+(_<<15&4294967295|_>>>17),_=I+(C^(D|~v))+w[5]+4237533241&4294967295,I=D+(_<<21&4294967295|_>>>11),_=v+(D^(I|~C))+w[12]+1700485571&4294967295,v=I+(_<<6&4294967295|_>>>26),_=C+(I^(v|~D))+w[3]+2399980690&4294967295,C=v+(_<<10&4294967295|_>>>22),_=D+(v^(C|~I))+w[10]+4293915773&4294967295,D=C+(_<<15&4294967295|_>>>17),_=I+(C^(D|~v))+w[1]+2240044497&4294967295,I=D+(_<<21&4294967295|_>>>11),_=v+(D^(I|~C))+w[8]+1873313359&4294967295,v=I+(_<<6&4294967295|_>>>26),_=C+(I^(v|~D))+w[15]+4264355552&4294967295,C=v+(_<<10&4294967295|_>>>22),_=D+(v^(C|~I))+w[6]+2734768916&4294967295,D=C+(_<<15&4294967295|_>>>17),_=I+(C^(D|~v))+w[13]+1309151649&4294967295,I=D+(_<<21&4294967295|_>>>11),_=v+(D^(I|~C))+w[4]+4149444226&4294967295,v=I+(_<<6&4294967295|_>>>26),_=C+(I^(v|~D))+w[11]+3174756917&4294967295,C=v+(_<<10&4294967295|_>>>22),_=D+(v^(C|~I))+w[2]+718787259&4294967295,D=C+(_<<15&4294967295|_>>>17),_=I+(C^(D|~v))+w[9]+3951481745&4294967295,T.g[0]=T.g[0]+v&4294967295,T.g[1]=T.g[1]+(D+(_<<21&4294967295|_>>>11))&4294967295,T.g[2]=T.g[2]+D&4294967295,T.g[3]=T.g[3]+C&4294967295}r.prototype.u=function(T,v){v===void 0&&(v=T.length);for(var I=v-this.blockSize,w=this.B,D=this.h,C=0;C<v;){if(D==0)for(;C<=I;)i(this,T,C),C+=this.blockSize;if(typeof T=="string"){for(;C<v;)if(w[D++]=T.charCodeAt(C++),D==this.blockSize){i(this,w),D=0;break}}else for(;C<v;)if(w[D++]=T[C++],D==this.blockSize){i(this,w),D=0;break}}this.h=D,this.o+=v},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var v=1;v<T.length-8;++v)T[v]=0;var I=8*this.o;for(v=T.length-8;v<T.length;++v)T[v]=I&255,I/=256;for(this.u(T),T=Array(16),v=I=0;4>v;++v)for(var w=0;32>w;w+=8)T[I++]=this.g[v]>>>w&255;return T};function o(T,v){var I=c;return Object.prototype.hasOwnProperty.call(I,T)?I[T]:I[T]=v(T)}function s(T,v){this.h=v;for(var I=[],w=!0,D=T.length-1;0<=D;D--){var C=T[D]|0;w&&C==v||(I[D]=C,w=!1)}this.g=I}var c={};function u(T){return-128<=T&&128>T?o(T,function(v){return new s([v|0],0>v?-1:0)}):new s([T|0],0>T?-1:0)}function l(T){if(isNaN(T)||!isFinite(T))return p;if(0>T)return N(l(-T));for(var v=[],I=1,w=0;T>=I;w++)v[w]=T/I|0,I*=4294967296;return new s(v,0)}function h(T,v){if(T.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(T.charAt(0)=="-")return N(h(T.substring(1),v));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=l(Math.pow(v,8)),w=p,D=0;D<T.length;D+=8){var C=Math.min(8,T.length-D),_=parseInt(T.substring(D,D+C),v);8>C?(C=l(Math.pow(v,C)),w=w.j(C).add(l(_))):(w=w.j(I),w=w.add(l(_)))}return w}var p=u(0),m=u(1),y=u(16777216);n=s.prototype,n.m=function(){if(P(this))return-N(this).m();for(var T=0,v=1,I=0;I<this.g.length;I++){var w=this.i(I);T+=(0<=w?w:4294967296+w)*v,v*=4294967296}return T},n.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(A(this))return"0";if(P(this))return"-"+N(this).toString(T);for(var v=l(Math.pow(T,6)),I=this,w="";;){var D=we(I,v).g;I=F(I,D.j(v));var C=((0<I.g.length?I.g[0]:I.h)>>>0).toString(T);if(I=D,A(I))return C+w;for(;6>C.length;)C="0"+C;w=C+w}},n.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function A(T){if(T.h!=0)return!1;for(var v=0;v<T.g.length;v++)if(T.g[v]!=0)return!1;return!0}function P(T){return T.h==-1}n.l=function(T){return T=F(this,T),P(T)?-1:A(T)?0:1};function N(T){for(var v=T.g.length,I=[],w=0;w<v;w++)I[w]=~T.g[w];return new s(I,~T.h).add(m)}n.abs=function(){return P(this)?N(this):this},n.add=function(T){for(var v=Math.max(this.g.length,T.g.length),I=[],w=0,D=0;D<=v;D++){var C=w+(this.i(D)&65535)+(T.i(D)&65535),_=(C>>>16)+(this.i(D)>>>16)+(T.i(D)>>>16);w=_>>>16,C&=65535,_&=65535,I[D]=_<<16|C}return new s(I,I[I.length-1]&-2147483648?-1:0)};function F(T,v){return T.add(N(v))}n.j=function(T){if(A(this)||A(T))return p;if(P(this))return P(T)?N(this).j(N(T)):N(N(this).j(T));if(P(T))return N(this.j(N(T)));if(0>this.l(y)&&0>T.l(y))return l(this.m()*T.m());for(var v=this.g.length+T.g.length,I=[],w=0;w<2*v;w++)I[w]=0;for(w=0;w<this.g.length;w++)for(var D=0;D<T.g.length;D++){var C=this.i(w)>>>16,_=this.i(w)&65535,qn=T.i(D)>>>16,la=T.i(D)&65535;I[2*w+2*D]+=_*la,K(I,2*w+2*D),I[2*w+2*D+1]+=C*la,K(I,2*w+2*D+1),I[2*w+2*D+1]+=_*qn,K(I,2*w+2*D+1),I[2*w+2*D+2]+=C*qn,K(I,2*w+2*D+2)}for(w=0;w<v;w++)I[w]=I[2*w+1]<<16|I[2*w];for(w=v;w<2*v;w++)I[w]=0;return new s(I,0)};function K(T,v){for(;(T[v]&65535)!=T[v];)T[v+1]+=T[v]>>>16,T[v]&=65535,v++}function Q(T,v){this.g=T,this.h=v}function we(T,v){if(A(v))throw Error("division by zero");if(A(T))return new Q(p,p);if(P(T))return v=we(N(T),v),new Q(N(v.g),N(v.h));if(P(v))return v=we(T,N(v)),new Q(N(v.g),v.h);if(30<T.g.length){if(P(T)||P(v))throw Error("slowDivide_ only works with positive integers.");for(var I=m,w=v;0>=w.l(T);)I=vt(I),w=vt(w);var D=ye(I,1),C=ye(w,1);for(w=ye(w,2),I=ye(I,2);!A(w);){var _=C.add(w);0>=_.l(T)&&(D=D.add(I),C=_),w=ye(w,1),I=ye(I,1)}return v=F(T,D.j(v)),new Q(D,v)}for(D=p;0<=T.l(v);){for(I=Math.max(1,Math.floor(T.m()/v.m())),w=Math.ceil(Math.log(I)/Math.LN2),w=48>=w?1:Math.pow(2,w-48),C=l(I),_=C.j(v);P(_)||0<_.l(T);)I-=w,C=l(I),_=C.j(v);A(C)&&(C=m),D=D.add(C),T=F(T,_)}return new Q(D,T)}n.A=function(T){return we(this,T).h},n.and=function(T){for(var v=Math.max(this.g.length,T.g.length),I=[],w=0;w<v;w++)I[w]=this.i(w)&T.i(w);return new s(I,this.h&T.h)},n.or=function(T){for(var v=Math.max(this.g.length,T.g.length),I=[],w=0;w<v;w++)I[w]=this.i(w)|T.i(w);return new s(I,this.h|T.h)},n.xor=function(T){for(var v=Math.max(this.g.length,T.g.length),I=[],w=0;w<v;w++)I[w]=this.i(w)^T.i(w);return new s(I,this.h^T.h)};function vt(T){for(var v=T.g.length+1,I=[],w=0;w<v;w++)I[w]=T.i(w)<<1|T.i(w-1)>>>31;return new s(I,T.h)}function ye(T,v){var I=v>>5;v%=32;for(var w=T.g.length-I,D=[],C=0;C<w;C++)D[C]=0<v?T.i(C+I)>>>v|T.i(C+I+1)<<32-v:T.i(C+I);return new s(D,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Xv=i0.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,fr=i0.Integer=s}).apply(typeof r0<"u"?r0:typeof self<"u"?self:typeof window<"u"?window:{});var $h=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},pr={};var e_,XU,Ls,t_,su,Hh,n_,r_,i_;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,d,f){return a==Array.prototype||a==Object.prototype||(a[d]=f.value),a};function t(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof $h=="object"&&$h];for(var d=0;d<a.length;++d){var f=a[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=t(this);function i(a,d){if(d)e:{var f=r;a=a.split(".");for(var g=0;g<a.length-1;g++){var b=a[g];if(!(b in f))break e;f=f[b]}a=a[a.length-1],g=f[a],d=d(g),d!=g&&d!=null&&e(f,a,{configurable:!0,writable:!0,value:d})}}function o(a,d){a instanceof String&&(a+="");var f=0,g=!1,b={next:function(){if(!g&&f<a.length){var S=f++;return{value:d(S,a[S]),done:!1}}return g=!0,{done:!0,value:void 0}}};return b[Symbol.iterator]=function(){return b},b}i("Array.prototype.values",function(a){return a||function(){return o(this,function(d,f){return f})}});var s=s||{},c=this||self;function u(a){var d=typeof a;return d=d!="object"?d:a?Array.isArray(a)?"array":d:"null",d=="array"||d=="object"&&typeof a.length=="number"}function l(a){var d=typeof a;return d=="object"&&a!=null||d=="function"}function h(a,d,f){return a.call.apply(a.bind,arguments)}function p(a,d,f){if(!a)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var b=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(b,g),a.apply(d,b)}}return function(){return a.apply(d,arguments)}}function m(a,d,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,m.apply(null,arguments)}function y(a,d){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),a.apply(this,g)}}function A(a,d){function f(){}f.prototype=d.prototype,a.aa=d.prototype,a.prototype=new f,a.prototype.constructor=a,a.Qb=function(g,b,S){for(var x=Array(arguments.length-2),Te=2;Te<arguments.length;Te++)x[Te-2]=arguments[Te];return d.prototype[b].apply(g,x)}}function P(a){let d=a.length;if(0<d){let f=Array(d);for(let g=0;g<d;g++)f[g]=a[g];return f}return[]}function N(a,d){for(let f=1;f<arguments.length;f++){let g=arguments[f];if(u(g)){let b=a.length||0,S=g.length||0;a.length=b+S;for(let x=0;x<S;x++)a[b+x]=g[x]}else a.push(g)}}class F{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function K(a){return/^[\s\xa0]*$/.test(a)}function Q(){var a=c.navigator;return a&&(a=a.userAgent)?a:""}function we(a){return we[" "](a),a}we[" "]=function(){};var vt=Q().indexOf("Gecko")!=-1&&!(Q().toLowerCase().indexOf("webkit")!=-1&&Q().indexOf("Edge")==-1)&&!(Q().indexOf("Trident")!=-1||Q().indexOf("MSIE")!=-1)&&Q().indexOf("Edge")==-1;function ye(a,d,f){for(let g in a)d.call(f,a[g],g,a)}function T(a,d){for(let f in a)d.call(void 0,a[f],f,a)}function v(a){let d={};for(let f in a)d[f]=a[f];return d}let I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(a,d){let f,g;for(let b=1;b<arguments.length;b++){g=arguments[b];for(f in g)a[f]=g[f];for(let S=0;S<I.length;S++)f=I[S],Object.prototype.hasOwnProperty.call(g,f)&&(a[f]=g[f])}}function D(a){var d=1;a=a.split(":");let f=[];for(;0<d&&a.length;)f.push(a.shift()),d--;return a.length&&f.push(a.join(":")),f}function C(a){c.setTimeout(()=>{throw a},0)}function _(){var a=Gf;let d=null;return a.g&&(d=a.g,a.g=a.g.next,a.g||(a.h=null),d.next=null),d}class qn{constructor(){this.h=this.g=null}add(d,f){let g=la.get();g.set(d,f),this.h?this.h.next=g:this.g=g,this.h=g}}var la=new F(()=>new HN,a=>a.reset());class HN{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let da,ha=!1,Gf=new qn,EI=()=>{let a=c.Promise.resolve(void 0);da=()=>{a.then(zN)}};var zN=()=>{for(var a;a=_();){try{a.h.call(a.g)}catch(f){C(f)}var d=la;d.j(a),100>d.h&&(d.h++,a.next=d.g,d.g=a)}ha=!1};function Ir(){this.s=this.s,this.C=this.C}Ir.prototype.s=!1,Ir.prototype.ma=function(){this.s||(this.s=!0,this.N())},Ir.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function at(a,d){this.type=a,this.g=this.target=d,this.defaultPrevented=!1}at.prototype.h=function(){this.defaultPrevented=!0};var qN=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var a=!1,d=Object.defineProperty({},"passive",{get:function(){a=!0}});try{let f=()=>{};c.addEventListener("test",f,d),c.removeEventListener("test",f,d)}catch{}return a})();function fa(a,d){if(at.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var f=this.type=a.type,g=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=d,d=a.relatedTarget){if(vt){e:{try{we(d.nodeName);var b=!0;break e}catch{}b=!1}b||(d=null)}}else f=="mouseover"?d=a.fromElement:f=="mouseout"&&(d=a.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:GN[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&fa.aa.h.call(this)}}A(fa,at);var GN={2:"touch",3:"pen",4:"mouse"};fa.prototype.h=function(){fa.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var pa="closure_listenable_"+(1e6*Math.random()|0),WN=0;function KN(a,d,f,g,b){this.listener=a,this.proxy=null,this.src=d,this.type=f,this.capture=!!g,this.ha=b,this.key=++WN,this.da=this.fa=!1}function Su(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function Au(a){this.src=a,this.g={},this.h=0}Au.prototype.add=function(a,d,f,g,b){var S=a.toString();a=this.g[S],a||(a=this.g[S]=[],this.h++);var x=Kf(a,d,g,b);return-1<x?(d=a[x],f||(d.fa=!1)):(d=new KN(d,this.src,S,!!g,b),d.fa=f,a.push(d)),d};function Wf(a,d){var f=d.type;if(f in a.g){var g=a.g[f],b=Array.prototype.indexOf.call(g,d,void 0),S;(S=0<=b)&&Array.prototype.splice.call(g,b,1),S&&(Su(d),a.g[f].length==0&&(delete a.g[f],a.h--))}}function Kf(a,d,f,g){for(var b=0;b<a.length;++b){var S=a[b];if(!S.da&&S.listener==d&&S.capture==!!f&&S.ha==g)return b}return-1}var Qf="closure_lm_"+(1e6*Math.random()|0),Yf={};function II(a,d,f,g,b){if(g&&g.once)return TI(a,d,f,g,b);if(Array.isArray(d)){for(var S=0;S<d.length;S++)II(a,d[S],f,g,b);return null}return f=ep(f),a&&a[pa]?a.K(d,f,l(g)?!!g.capture:!!g,b):wI(a,d,f,!1,g,b)}function wI(a,d,f,g,b,S){if(!d)throw Error("Invalid event type");var x=l(b)?!!b.capture:!!b,Te=Jf(a);if(Te||(a[Qf]=Te=new Au(a)),f=Te.add(d,f,g,x,S),f.proxy)return f;if(g=QN(),f.proxy=g,g.src=a,g.listener=f,a.addEventListener)qN||(b=x),b===void 0&&(b=!1),a.addEventListener(d.toString(),g,b);else if(a.attachEvent)a.attachEvent(bI(d.toString()),g);else if(a.addListener&&a.removeListener)a.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function QN(){function a(f){return d.call(a.src,a.listener,f)}let d=YN;return a}function TI(a,d,f,g,b){if(Array.isArray(d)){for(var S=0;S<d.length;S++)TI(a,d[S],f,g,b);return null}return f=ep(f),a&&a[pa]?a.L(d,f,l(g)?!!g.capture:!!g,b):wI(a,d,f,!0,g,b)}function DI(a,d,f,g,b){if(Array.isArray(d))for(var S=0;S<d.length;S++)DI(a,d[S],f,g,b);else g=l(g)?!!g.capture:!!g,f=ep(f),a&&a[pa]?(a=a.i,d=String(d).toString(),d in a.g&&(S=a.g[d],f=Kf(S,f,g,b),-1<f&&(Su(S[f]),Array.prototype.splice.call(S,f,1),S.length==0&&(delete a.g[d],a.h--)))):a&&(a=Jf(a))&&(d=a.g[d.toString()],a=-1,d&&(a=Kf(d,f,g,b)),(f=-1<a?d[a]:null)&&Zf(f))}function Zf(a){if(typeof a!="number"&&a&&!a.da){var d=a.src;if(d&&d[pa])Wf(d.i,a);else{var f=a.type,g=a.proxy;d.removeEventListener?d.removeEventListener(f,g,a.capture):d.detachEvent?d.detachEvent(bI(f),g):d.addListener&&d.removeListener&&d.removeListener(g),(f=Jf(d))?(Wf(f,a),f.h==0&&(f.src=null,d[Qf]=null)):Su(a)}}}function bI(a){return a in Yf?Yf[a]:Yf[a]="on"+a}function YN(a,d){if(a.da)a=!0;else{d=new fa(d,this);var f=a.listener,g=a.ha||a.src;a.fa&&Zf(a),a=f.call(g,d)}return a}function Jf(a){return a=a[Qf],a instanceof Au?a:null}var Xf="__closure_events_fn_"+(1e9*Math.random()>>>0);function ep(a){return typeof a=="function"?a:(a[Xf]||(a[Xf]=function(d){return a.handleEvent(d)}),a[Xf])}function ct(){Ir.call(this),this.i=new Au(this),this.M=this,this.F=null}A(ct,Ir),ct.prototype[pa]=!0,ct.prototype.removeEventListener=function(a,d,f,g){DI(this,a,d,f,g)};function _t(a,d){var f,g=a.F;if(g)for(f=[];g;g=g.F)f.push(g);if(a=a.M,g=d.type||d,typeof d=="string")d=new at(d,a);else if(d instanceof at)d.target=d.target||a;else{var b=d;d=new at(g,a),w(d,b)}if(b=!0,f)for(var S=f.length-1;0<=S;S--){var x=d.g=f[S];b=Ru(x,g,!0,d)&&b}if(x=d.g=a,b=Ru(x,g,!0,d)&&b,b=Ru(x,g,!1,d)&&b,f)for(S=0;S<f.length;S++)x=d.g=f[S],b=Ru(x,g,!1,d)&&b}ct.prototype.N=function(){if(ct.aa.N.call(this),this.i){var a=this.i,d;for(d in a.g){for(var f=a.g[d],g=0;g<f.length;g++)Su(f[g]);delete a.g[d],a.h--}}this.F=null},ct.prototype.K=function(a,d,f,g){return this.i.add(String(a),d,!1,f,g)},ct.prototype.L=function(a,d,f,g){return this.i.add(String(a),d,!0,f,g)};function Ru(a,d,f,g){if(d=a.i.g[String(d)],!d)return!0;d=d.concat();for(var b=!0,S=0;S<d.length;++S){var x=d[S];if(x&&!x.da&&x.capture==f){var Te=x.listener,tt=x.ha||x.src;x.fa&&Wf(a.i,x),b=Te.call(tt,g)!==!1&&b}}return b&&!g.defaultPrevented}function CI(a,d,f){if(typeof a=="function")f&&(a=m(a,f));else if(a&&typeof a.handleEvent=="function")a=m(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:c.setTimeout(a,d||0)}function SI(a){a.g=CI(()=>{a.g=null,a.i&&(a.i=!1,SI(a))},a.l);let d=a.h;a.h=null,a.m.apply(null,d)}class ZN extends Ir{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:SI(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ga(a){Ir.call(this),this.h=a,this.g={}}A(ga,Ir);var AI=[];function RI(a){ye(a.g,function(d,f){this.g.hasOwnProperty(f)&&Zf(d)},a),a.g={}}ga.prototype.N=function(){ga.aa.N.call(this),RI(this)},ga.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var tp=c.JSON.stringify,JN=c.JSON.parse,XN=class{stringify(a){return c.JSON.stringify(a,void 0)}parse(a){return c.JSON.parse(a,void 0)}};function np(){}np.prototype.h=null;function NI(a){return a.h||(a.h=a.i())}function MI(){}var ma={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function rp(){at.call(this,"d")}A(rp,at);function ip(){at.call(this,"c")}A(ip,at);var yi={},PI=null;function Nu(){return PI=PI||new ct}yi.La="serverreachability";function kI(a){at.call(this,yi.La,a)}A(kI,at);function ya(a){let d=Nu();_t(d,new kI(d))}yi.STAT_EVENT="statevent";function xI(a,d){at.call(this,yi.STAT_EVENT,a),this.stat=d}A(xI,at);function Et(a){let d=Nu();_t(d,new xI(d,a))}yi.Ma="timingevent";function OI(a,d){at.call(this,yi.Ma,a),this.size=d}A(OI,at);function va(a,d){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){a()},d)}function _a(){this.g=!0}_a.prototype.xa=function(){this.g=!1};function eM(a,d,f,g,b,S){a.info(function(){if(a.g)if(S)for(var x="",Te=S.split("&"),tt=0;tt<Te.length;tt++){var he=Te[tt].split("=");if(1<he.length){var ut=he[0];he=he[1];var lt=ut.split("_");x=2<=lt.length&&lt[1]=="type"?x+(ut+"="+he+"&"):x+(ut+"=redacted&")}}else x=null;else x=S;return"XMLHTTP REQ ("+g+") [attempt "+b+"]: "+d+`
`+f+`
`+x})}function tM(a,d,f,g,b,S,x){a.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+b+"]: "+d+`
`+f+`
`+S+" "+x})}function Ro(a,d,f,g){a.info(function(){return"XMLHTTP TEXT ("+d+"): "+rM(a,f)+(g?" "+g:"")})}function nM(a,d){a.info(function(){return"TIMEOUT: "+d})}_a.prototype.info=function(){};function rM(a,d){if(!a.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(a=0;a<f.length;a++)if(Array.isArray(f[a])){var g=f[a];if(!(2>g.length)){var b=g[1];if(Array.isArray(b)&&!(1>b.length)){var S=b[0];if(S!="noop"&&S!="stop"&&S!="close")for(var x=1;x<b.length;x++)b[x]=""}}}}return tp(f)}catch{return d}}var Mu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},LI={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},op;function Pu(){}A(Pu,np),Pu.prototype.g=function(){return new XMLHttpRequest},Pu.prototype.i=function(){return{}},op=new Pu;function wr(a,d,f,g){this.j=a,this.i=d,this.l=f,this.R=g||1,this.U=new ga(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new FI}function FI(){this.i=null,this.g="",this.h=!1}var VI={},sp={};function ap(a,d,f){a.L=1,a.v=Lu(Gn(d)),a.m=f,a.P=!0,jI(a,null)}function jI(a,d){a.F=Date.now(),ku(a),a.A=Gn(a.v);var f=a.A,g=a.R;Array.isArray(g)||(g=[String(g)]),XI(f.i,"t",g),a.C=0,f=a.j.J,a.h=new FI,a.g=yw(a.j,f?d:null,!a.m),0<a.O&&(a.M=new ZN(m(a.Y,a,a.g),a.O)),d=a.U,f=a.g,g=a.ca;var b="readystatechange";Array.isArray(b)||(b&&(AI[0]=b.toString()),b=AI);for(var S=0;S<b.length;S++){var x=II(f,b[S],g||d.handleEvent,!1,d.h||d);if(!x)break;d.g[x.key]=x}d=a.H?v(a.H):{},a.m?(a.u||(a.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,d)):(a.u="GET",a.g.ea(a.A,a.u,null,d)),ya(),eM(a.i,a.u,a.A,a.l,a.R,a.m)}wr.prototype.ca=function(a){a=a.target;let d=this.M;d&&Wn(a)==3?d.j():this.Y(a)},wr.prototype.Y=function(a){try{if(a==this.g)e:{let lt=Wn(this.g);var d=this.g.Ba();let Po=this.g.Z();if(!(3>lt)&&(lt!=3||this.g&&(this.h.h||this.g.oa()||sw(this.g)))){this.J||lt!=4||d==7||(d==8||0>=Po?ya(3):ya(2)),cp(this);var f=this.g.Z();this.X=f;t:if(UI(this)){var g=sw(this.g);a="";var b=g.length,S=Wn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){vi(this),Ea(this);var x="";break t}this.h.i=new c.TextDecoder}for(d=0;d<b;d++)this.h.h=!0,a+=this.h.i.decode(g[d],{stream:!(S&&d==b-1)});g.length=0,this.h.g+=a,this.C=0,x=this.h.g}else x=this.g.oa();if(this.o=f==200,tM(this.i,this.u,this.A,this.l,this.R,lt,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Te,tt=this.g;if((Te=tt.g?tt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!K(Te)){var he=Te;break t}}he=null}if(f=he)Ro(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,up(this,f);else{this.o=!1,this.s=3,Et(12),vi(this),Ea(this);break e}}if(this.P){f=!0;let en;for(;!this.J&&this.C<x.length;)if(en=iM(this,x),en==sp){lt==4&&(this.s=4,Et(14),f=!1),Ro(this.i,this.l,null,"[Incomplete Response]");break}else if(en==VI){this.s=4,Et(15),Ro(this.i,this.l,x,"[Invalid Chunk]"),f=!1;break}else Ro(this.i,this.l,en,null),up(this,en);if(UI(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),lt!=4||x.length!=0||this.h.h||(this.s=1,Et(16),f=!1),this.o=this.o&&f,!f)Ro(this.i,this.l,x,"[Invalid Chunked Response]"),vi(this),Ea(this);else if(0<x.length&&!this.W){this.W=!0;var ut=this.j;ut.g==this&&ut.ba&&!ut.M&&(ut.j.info("Great, no buffering proxy detected. Bytes received: "+x.length),gp(ut),ut.M=!0,Et(11))}}else Ro(this.i,this.l,x,null),up(this,x);lt==4&&vi(this),this.o&&!this.J&&(lt==4?fw(this.j,this):(this.o=!1,ku(this)))}else IM(this.g),f==400&&0<x.indexOf("Unknown SID")?(this.s=3,Et(12)):(this.s=0,Et(13)),vi(this),Ea(this)}}}catch{}finally{}};function UI(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function iM(a,d){var f=a.C,g=d.indexOf(`
`,f);return g==-1?sp:(f=Number(d.substring(f,g)),isNaN(f)?VI:(g+=1,g+f>d.length?sp:(d=d.slice(g,g+f),a.C=g+f,d)))}wr.prototype.cancel=function(){this.J=!0,vi(this)};function ku(a){a.S=Date.now()+a.I,BI(a,a.I)}function BI(a,d){if(a.B!=null)throw Error("WatchDog timer not null");a.B=va(m(a.ba,a),d)}function cp(a){a.B&&(c.clearTimeout(a.B),a.B=null)}wr.prototype.ba=function(){this.B=null;let a=Date.now();0<=a-this.S?(nM(this.i,this.A),this.L!=2&&(ya(),Et(17)),vi(this),this.s=2,Ea(this)):BI(this,this.S-a)};function Ea(a){a.j.G==0||a.J||fw(a.j,a)}function vi(a){cp(a);var d=a.M;d&&typeof d.ma=="function"&&d.ma(),a.M=null,RI(a.U),a.g&&(d=a.g,a.g=null,d.abort(),d.ma())}function up(a,d){try{var f=a.j;if(f.G!=0&&(f.g==a||lp(f.h,a))){if(!a.K&&lp(f.h,a)&&f.G==3){try{var g=f.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var b=g;if(b[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<a.F)Bu(f),ju(f);else break e;pp(f),Et(18)}}else f.za=b[1],0<f.za-f.T&&37500>b[2]&&f.F&&f.v==0&&!f.C&&(f.C=va(m(f.Za,f),6e3));if(1>=zI(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Ei(f,11)}else if((a.K||f.g==a)&&Bu(f),!K(d))for(b=f.Da.g.parse(d),d=0;d<b.length;d++){let he=b[d];if(f.T=he[0],he=he[1],f.G==2)if(he[0]=="c"){f.K=he[1],f.ia=he[2];let ut=he[3];ut!=null&&(f.la=ut,f.j.info("VER="+f.la));let lt=he[4];lt!=null&&(f.Aa=lt,f.j.info("SVER="+f.Aa));let Po=he[5];Po!=null&&typeof Po=="number"&&0<Po&&(g=1.5*Po,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;let en=a.g;if(en){let Hu=en.g?en.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Hu){var S=g.h;S.g||Hu.indexOf("spdy")==-1&&Hu.indexOf("quic")==-1&&Hu.indexOf("h2")==-1||(S.j=S.l,S.g=new Set,S.h&&(dp(S,S.h),S.h=null))}if(g.D){let mp=en.g?en.g.getResponseHeader("X-HTTP-Session-Id"):null;mp&&(g.ya=mp,be(g.I,g.D,mp))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-a.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var x=a;if(g.qa=mw(g,g.J?g.ia:null,g.W),x.K){qI(g.h,x);var Te=x,tt=g.L;tt&&(Te.I=tt),Te.B&&(cp(Te),ku(Te)),g.g=x}else dw(g);0<f.i.length&&Uu(f)}else he[0]!="stop"&&he[0]!="close"||Ei(f,7);else f.G==3&&(he[0]=="stop"||he[0]=="close"?he[0]=="stop"?Ei(f,7):fp(f):he[0]!="noop"&&f.l&&f.l.ta(he),f.v=0)}}ya(4)}catch{}}var oM=class{constructor(a,d){this.g=a,this.map=d}};function $I(a){this.l=a||10,c.PerformanceNavigationTiming?(a=c.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function HI(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function zI(a){return a.h?1:a.g?a.g.size:0}function lp(a,d){return a.h?a.h==d:a.g?a.g.has(d):!1}function dp(a,d){a.g?a.g.add(d):a.h=d}function qI(a,d){a.h&&a.h==d?a.h=null:a.g&&a.g.has(d)&&a.g.delete(d)}$I.prototype.cancel=function(){if(this.i=GI(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let a of this.g.values())a.cancel();this.g.clear()}};function GI(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let d=a.i;for(let f of a.g.values())d=d.concat(f.D);return d}return P(a.i)}function sM(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var d=[],f=a.length,g=0;g<f;g++)d.push(a[g]);return d}d=[],f=0;for(g in a)d[f++]=a[g];return d}function aM(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var d=[];a=a.length;for(var f=0;f<a;f++)d.push(f);return d}d=[],f=0;for(let g in a)d[f++]=g;return d}}}function WI(a,d){if(a.forEach&&typeof a.forEach=="function")a.forEach(d,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,d,void 0);else for(var f=aM(a),g=sM(a),b=g.length,S=0;S<b;S++)d.call(void 0,g[S],f&&f[S],a)}var KI=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function cM(a,d){if(a){a=a.split("&");for(var f=0;f<a.length;f++){var g=a[f].indexOf("="),b=null;if(0<=g){var S=a[f].substring(0,g);b=a[f].substring(g+1)}else S=a[f];d(S,b?decodeURIComponent(b.replace(/\+/g," ")):"")}}}function _i(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof _i){this.h=a.h,xu(this,a.j),this.o=a.o,this.g=a.g,Ou(this,a.s),this.l=a.l;var d=a.i,f=new Ta;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),QI(this,f),this.m=a.m}else a&&(d=String(a).match(KI))?(this.h=!1,xu(this,d[1]||"",!0),this.o=Ia(d[2]||""),this.g=Ia(d[3]||"",!0),Ou(this,d[4]),this.l=Ia(d[5]||"",!0),QI(this,d[6]||"",!0),this.m=Ia(d[7]||"")):(this.h=!1,this.i=new Ta(null,this.h))}_i.prototype.toString=function(){var a=[],d=this.j;d&&a.push(wa(d,YI,!0),":");var f=this.g;return(f||d=="file")&&(a.push("//"),(d=this.o)&&a.push(wa(d,YI,!0),"@"),a.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&a.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&a.push("/"),a.push(wa(f,f.charAt(0)=="/"?dM:lM,!0))),(f=this.i.toString())&&a.push("?",f),(f=this.m)&&a.push("#",wa(f,fM)),a.join("")};function Gn(a){return new _i(a)}function xu(a,d,f){a.j=f?Ia(d,!0):d,a.j&&(a.j=a.j.replace(/:$/,""))}function Ou(a,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);a.s=d}else a.s=null}function QI(a,d,f){d instanceof Ta?(a.i=d,pM(a.i,a.h)):(f||(d=wa(d,hM)),a.i=new Ta(d,a.h))}function be(a,d,f){a.i.set(d,f)}function Lu(a){return be(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function Ia(a,d){return a?d?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function wa(a,d,f){return typeof a=="string"?(a=encodeURI(a).replace(d,uM),f&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function uM(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var YI=/[#\/\?@]/g,lM=/[#\?:]/g,dM=/[#\?]/g,hM=/[#\?@]/g,fM=/#/g;function Ta(a,d){this.h=this.g=null,this.i=a||null,this.j=!!d}function Tr(a){a.g||(a.g=new Map,a.h=0,a.i&&cM(a.i,function(d,f){a.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}n=Ta.prototype,n.add=function(a,d){Tr(this),this.i=null,a=No(this,a);var f=this.g.get(a);return f||this.g.set(a,f=[]),f.push(d),this.h+=1,this};function ZI(a,d){Tr(a),d=No(a,d),a.g.has(d)&&(a.i=null,a.h-=a.g.get(d).length,a.g.delete(d))}function JI(a,d){return Tr(a),d=No(a,d),a.g.has(d)}n.forEach=function(a,d){Tr(this),this.g.forEach(function(f,g){f.forEach(function(b){a.call(d,b,g,this)},this)},this)},n.na=function(){Tr(this);let a=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let g=0;g<d.length;g++){let b=a[g];for(let S=0;S<b.length;S++)f.push(d[g])}return f},n.V=function(a){Tr(this);let d=[];if(typeof a=="string")JI(this,a)&&(d=d.concat(this.g.get(No(this,a))));else{a=Array.from(this.g.values());for(let f=0;f<a.length;f++)d=d.concat(a[f])}return d},n.set=function(a,d){return Tr(this),this.i=null,a=No(this,a),JI(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[d]),this.h+=1,this},n.get=function(a,d){return a?(a=this.V(a),0<a.length?String(a[0]):d):d};function XI(a,d,f){ZI(a,d),0<f.length&&(a.i=null,a.g.set(No(a,d),P(f)),a.h+=f.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let a=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var g=d[f];let S=encodeURIComponent(String(g)),x=this.V(g);for(g=0;g<x.length;g++){var b=S;x[g]!==""&&(b+="="+encodeURIComponent(String(x[g]))),a.push(b)}}return this.i=a.join("&")};function No(a,d){return d=String(d),a.j&&(d=d.toLowerCase()),d}function pM(a,d){d&&!a.j&&(Tr(a),a.i=null,a.g.forEach(function(f,g){var b=g.toLowerCase();g!=b&&(ZI(this,g),XI(this,b,f))},a)),a.j=d}function gM(a,d){let f=new _a;if(c.Image){let g=new Image;g.onload=y(Dr,f,"TestLoadImage: loaded",!0,d,g),g.onerror=y(Dr,f,"TestLoadImage: error",!1,d,g),g.onabort=y(Dr,f,"TestLoadImage: abort",!1,d,g),g.ontimeout=y(Dr,f,"TestLoadImage: timeout",!1,d,g),c.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=a}else d(!1)}function mM(a,d){let f=new _a,g=new AbortController,b=setTimeout(()=>{g.abort(),Dr(f,"TestPingServer: timeout",!1,d)},1e4);fetch(a,{signal:g.signal}).then(S=>{clearTimeout(b),S.ok?Dr(f,"TestPingServer: ok",!0,d):Dr(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(b),Dr(f,"TestPingServer: error",!1,d)})}function Dr(a,d,f,g,b){try{b&&(b.onload=null,b.onerror=null,b.onabort=null,b.ontimeout=null),g(f)}catch{}}function yM(){this.g=new XN}function vM(a,d,f){let g=f||"";try{WI(a,function(b,S){let x=b;l(b)&&(x=tp(b)),d.push(g+S+"="+encodeURIComponent(x))})}catch(b){throw d.push(g+"type="+encodeURIComponent("_badmap")),b}}function Da(a){this.l=a.Ub||null,this.j=a.eb||!1}A(Da,np),Da.prototype.g=function(){return new Fu(this.l,this.j)},Da.prototype.i=(function(a){return function(){return a}})({});function Fu(a,d){ct.call(this),this.D=a,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(Fu,ct),n=Fu.prototype,n.open=function(a,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=d,this.readyState=1,Ca(this)},n.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(d.body=a),(this.D||c).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ba(this)),this.readyState=0},n.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,Ca(this)),this.g&&(this.readyState=3,Ca(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ew(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function ew(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}n.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var d=a.value?a.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!a.done}))&&(this.response=this.responseText+=d)}a.done?ba(this):Ca(this),this.readyState==3&&ew(this)}},n.Ra=function(a){this.g&&(this.response=this.responseText=a,ba(this))},n.Qa=function(a){this.g&&(this.response=a,ba(this))},n.ga=function(){this.g&&ba(this)};function ba(a){a.readyState=4,a.l=null,a.j=null,a.v=null,Ca(a)}n.setRequestHeader=function(a,d){this.u.append(a,d)},n.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let a=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,a.push(f[0]+": "+f[1]),f=d.next();return a.join(`\r
`)};function Ca(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(Fu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function tw(a){let d="";return ye(a,function(f,g){d+=g,d+=":",d+=f,d+=`\r
`}),d}function hp(a,d,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=tw(f),typeof a=="string"?f!=null&&encodeURIComponent(String(f)):be(a,d,f))}function Me(a){ct.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(Me,ct);var _M=/^https?$/i,EM=["POST","PUT"];n=Me.prototype,n.Ha=function(a){this.J=a},n.ea=function(a,d,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);d=d?d.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():op.g(),this.v=this.o?NI(this.o):NI(op),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(a),!0),this.B=!1}catch(S){nw(this,S);return}if(a=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var b in g)f.set(b,g[b]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let S of g.keys())f.set(S,g.get(S));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(S=>S.toLowerCase()=="content-type"),b=c.FormData&&a instanceof c.FormData,!(0<=Array.prototype.indexOf.call(EM,d,void 0))||g||b||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[S,x]of f)this.g.setRequestHeader(S,x);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ow(this),this.u=!0,this.g.send(a),this.u=!1}catch(S){nw(this,S)}};function nw(a,d){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=d,a.m=5,rw(a),Vu(a)}function rw(a){a.A||(a.A=!0,_t(a,"complete"),_t(a,"error"))}n.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,_t(this,"complete"),_t(this,"abort"),Vu(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Vu(this,!0)),Me.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?iw(this):this.bb())},n.bb=function(){iw(this)};function iw(a){if(a.h&&typeof s<"u"&&(!a.v[1]||Wn(a)!=4||a.Z()!=2)){if(a.u&&Wn(a)==4)CI(a.Ea,0,a);else if(_t(a,"readystatechange"),Wn(a)==4){a.h=!1;try{let x=a.Z();e:switch(x){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var g;if(g=x===0){var b=String(a.D).match(KI)[1]||null;!b&&c.self&&c.self.location&&(b=c.self.location.protocol.slice(0,-1)),g=!_M.test(b?b.toLowerCase():"")}f=g}if(f)_t(a,"complete"),_t(a,"success");else{a.m=6;try{var S=2<Wn(a)?a.g.statusText:""}catch{S=""}a.l=S+" ["+a.Z()+"]",rw(a)}}finally{Vu(a)}}}}function Vu(a,d){if(a.g){ow(a);let f=a.g,g=a.v[0]?()=>{}:null;a.g=null,a.v=null,d||_t(a,"ready");try{f.onreadystatechange=g}catch{}}}function ow(a){a.I&&(c.clearTimeout(a.I),a.I=null)}n.isActive=function(){return!!this.g};function Wn(a){return a.g?a.g.readyState:0}n.Z=function(){try{return 2<Wn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(a){if(this.g){var d=this.g.responseText;return a&&d.indexOf(a)==0&&(d=d.substring(a.length)),JN(d)}};function sw(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function IM(a){let d={};a=(a.g&&2<=Wn(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<a.length;g++){if(K(a[g]))continue;var f=D(a[g]);let b=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let S=d[b]||[];d[b]=S,S.push(f)}T(d,function(g){return g.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Sa(a,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[a]||d}function aw(a){this.Aa=0,this.i=[],this.j=new _a,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Sa("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Sa("baseRetryDelayMs",5e3,a),this.cb=Sa("retryDelaySeedMs",1e4,a),this.Wa=Sa("forwardChannelMaxRetries",2,a),this.wa=Sa("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new $I(a&&a.concurrentRequestLimit),this.Da=new yM,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=aw.prototype,n.la=8,n.G=1,n.connect=function(a,d,f,g){Et(0),this.W=a,this.H=d||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=mw(this,null,this.W),Uu(this)};function fp(a){if(cw(a),a.G==3){var d=a.U++,f=Gn(a.I);if(be(f,"SID",a.K),be(f,"RID",d),be(f,"TYPE","terminate"),Aa(a,f),d=new wr(a,a.j,d),d.L=2,d.v=Lu(Gn(f)),f=!1,c.navigator&&c.navigator.sendBeacon)try{f=c.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&c.Image&&(new Image().src=d.v,f=!0),f||(d.g=yw(d.j,null),d.g.ea(d.v)),d.F=Date.now(),ku(d)}gw(a)}function ju(a){a.g&&(gp(a),a.g.cancel(),a.g=null)}function cw(a){ju(a),a.u&&(c.clearTimeout(a.u),a.u=null),Bu(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&c.clearTimeout(a.s),a.s=null)}function Uu(a){if(!HI(a.h)&&!a.s){a.s=!0;var d=a.Ga;da||EI(),ha||(da(),ha=!0),Gf.add(d,a),a.B=0}}function wM(a,d){return zI(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=d.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=va(m(a.Ga,a,d),pw(a,a.B)),a.B++,!0)}n.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;let b=new wr(this,this.j,a),S=this.o;if(this.S&&(S?(S=v(S),w(S,this.S)):S=this.S),this.m!==null||this.O||(b.H=S,S=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=lw(this,b,d),f=Gn(this.I),be(f,"RID",a),be(f,"CVER",22),this.D&&be(f,"X-HTTP-Session-Id",this.D),Aa(this,f),S&&(this.O?d="headers="+encodeURIComponent(String(tw(S)))+"&"+d:this.m&&hp(f,this.m,S)),dp(this.h,b),this.Ua&&be(f,"TYPE","init"),this.P?(be(f,"$req",d),be(f,"SID","null"),b.T=!0,ap(b,f,null)):ap(b,f,d),this.G=2}}else this.G==3&&(a?uw(this,a):this.i.length==0||HI(this.h)||uw(this))};function uw(a,d){var f;d?f=d.l:f=a.U++;let g=Gn(a.I);be(g,"SID",a.K),be(g,"RID",f),be(g,"AID",a.T),Aa(a,g),a.m&&a.o&&hp(g,a.m,a.o),f=new wr(a,a.j,f,a.B+1),a.m===null&&(f.H=a.o),d&&(a.i=d.D.concat(a.i)),d=lw(a,f,1e3),f.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),dp(a.h,f),ap(f,g,d)}function Aa(a,d){a.H&&ye(a.H,function(f,g){be(d,g,f)}),a.l&&WI({},function(f,g){be(d,g,f)})}function lw(a,d,f){f=Math.min(a.i.length,f);var g=a.l?m(a.l.Na,a.l,a):null;e:{var b=a.i;let S=-1;for(;;){let x=["count="+f];S==-1?0<f?(S=b[0].g,x.push("ofs="+S)):S=0:x.push("ofs="+S);let Te=!0;for(let tt=0;tt<f;tt++){let he=b[tt].g,ut=b[tt].map;if(he-=S,0>he)S=Math.max(0,b[tt].g-100),Te=!1;else try{vM(ut,x,"req"+he+"_")}catch{g&&g(ut)}}if(Te){g=x.join("&");break e}}}return a=a.i.splice(0,f),d.D=a,g}function dw(a){if(!a.g&&!a.u){a.Y=1;var d=a.Fa;da||EI(),ha||(da(),ha=!0),Gf.add(d,a),a.v=0}}function pp(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=va(m(a.Fa,a),pw(a,a.v)),a.v++,!0)}n.Fa=function(){if(this.u=null,hw(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=va(m(this.ab,this),a)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Et(10),ju(this),hw(this))};function gp(a){a.A!=null&&(c.clearTimeout(a.A),a.A=null)}function hw(a){a.g=new wr(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var d=Gn(a.qa);be(d,"RID","rpc"),be(d,"SID",a.K),be(d,"AID",a.T),be(d,"CI",a.F?"0":"1"),!a.F&&a.ja&&be(d,"TO",a.ja),be(d,"TYPE","xmlhttp"),Aa(a,d),a.m&&a.o&&hp(d,a.m,a.o),a.L&&(a.g.I=a.L);var f=a.g;a=a.ia,f.L=1,f.v=Lu(Gn(d)),f.m=null,f.P=!0,jI(f,a)}n.Za=function(){this.C!=null&&(this.C=null,ju(this),pp(this),Et(19))};function Bu(a){a.C!=null&&(c.clearTimeout(a.C),a.C=null)}function fw(a,d){var f=null;if(a.g==d){Bu(a),gp(a),a.g=null;var g=2}else if(lp(a.h,d))f=d.D,qI(a.h,d),g=1;else return;if(a.G!=0){if(d.o)if(g==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var b=a.B;g=Nu(),_t(g,new OI(g,f)),Uu(a)}else dw(a);else if(b=d.s,b==3||b==0&&0<d.X||!(g==1&&wM(a,d)||g==2&&pp(a)))switch(f&&0<f.length&&(d=a.h,d.i=d.i.concat(f)),b){case 1:Ei(a,5);break;case 4:Ei(a,10);break;case 3:Ei(a,6);break;default:Ei(a,2)}}}function pw(a,d){let f=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(f*=2),f*d}function Ei(a,d){if(a.j.info("Error code "+d),d==2){var f=m(a.fb,a),g=a.Xa;let b=!g;g=new _i(g||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||xu(g,"https"),Lu(g),b?gM(g.toString(),f):mM(g.toString(),f)}else Et(2);a.G=0,a.l&&a.l.sa(d),gw(a),cw(a)}n.fb=function(a){a?(this.j.info("Successfully pinged google.com"),Et(2)):(this.j.info("Failed to ping google.com"),Et(1))};function gw(a){if(a.G=0,a.ka=[],a.l){let d=GI(a.h);(d.length!=0||a.i.length!=0)&&(N(a.ka,d),N(a.ka,a.i),a.h.i.length=0,P(a.i),a.i.length=0),a.l.ra()}}function mw(a,d,f){var g=f instanceof _i?Gn(f):new _i(f);if(g.g!="")d&&(g.g=d+"."+g.g),Ou(g,g.s);else{var b=c.location;g=b.protocol,d=d?d+"."+b.hostname:b.hostname,b=+b.port;var S=new _i(null);g&&xu(S,g),d&&(S.g=d),b&&Ou(S,b),f&&(S.l=f),g=S}return f=a.D,d=a.ya,f&&d&&be(g,f,d),be(g,"VER",a.la),Aa(a,g),g}function yw(a,d,f){if(d&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=a.Ca&&!a.pa?new Me(new Da({eb:f})):new Me(a.pa),d.Ha(a.J),d}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function vw(){}n=vw.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function $u(){}$u.prototype.g=function(a,d){return new xt(a,d)};function xt(a,d){ct.call(this),this.g=new aw(d),this.l=a,this.h=d&&d.messageUrlParams||null,a=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(a?a["X-WebChannel-Content-Type"]=d.messageContentType:a={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(a?a["X-WebChannel-Client-Profile"]=d.va:a={"X-WebChannel-Client-Profile":d.va}),this.g.S=a,(a=d&&d.Sb)&&!K(a)&&(this.g.m=a),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!K(d)&&(this.g.D=d,a=this.h,a!==null&&d in a&&(a=this.h,d in a&&delete a[d])),this.j=new Mo(this)}A(xt,ct),xt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},xt.prototype.close=function(){fp(this.g)},xt.prototype.o=function(a){var d=this.g;if(typeof a=="string"){var f={};f.__data__=a,a=f}else this.u&&(f={},f.__data__=tp(a),a=f);d.i.push(new oM(d.Ya++,a)),d.G==3&&Uu(d)},xt.prototype.N=function(){this.g.l=null,delete this.j,fp(this.g),delete this.g,xt.aa.N.call(this)};function _w(a){rp.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var d=a.__sm__;if(d){e:{for(let f in d){a=f;break e}a=void 0}(this.i=a)&&(a=this.i,d=d!==null&&a in d?d[a]:void 0),this.data=d}else this.data=a}A(_w,rp);function Ew(){ip.call(this),this.status=1}A(Ew,ip);function Mo(a){this.g=a}A(Mo,vw),Mo.prototype.ua=function(){_t(this.g,"a")},Mo.prototype.ta=function(a){_t(this.g,new _w(a))},Mo.prototype.sa=function(a){_t(this.g,new Ew)},Mo.prototype.ra=function(){_t(this.g,"b")},$u.prototype.createWebChannel=$u.prototype.g,xt.prototype.send=xt.prototype.o,xt.prototype.open=xt.prototype.m,xt.prototype.close=xt.prototype.close,i_=pr.createWebChannelTransport=function(){return new $u},r_=pr.getStatEventTarget=function(){return Nu()},n_=pr.Event=yi,Hh=pr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Mu.NO_ERROR=0,Mu.TIMEOUT=8,Mu.HTTP_ERROR=6,su=pr.ErrorCode=Mu,LI.COMPLETE="complete",t_=pr.EventType=LI,MI.EventType=ma,ma.OPEN="a",ma.CLOSE="b",ma.ERROR="c",ma.MESSAGE="d",ct.prototype.listen=ct.prototype.K,Ls=pr.WebChannel=MI,XU=pr.FetchXmlHttpFactory=Da,Me.prototype.listenOnce=Me.prototype.L,Me.prototype.getLastError=Me.prototype.Ka,Me.prototype.getLastErrorCode=Me.prototype.Ba,Me.prototype.getStatus=Me.prototype.Z,Me.prototype.getResponseJson=Me.prototype.Oa,Me.prototype.getResponseText=Me.prototype.oa,Me.prototype.send=Me.prototype.ea,Me.prototype.setWithCredentials=Me.prototype.Ha,e_=pr.XhrIo=Me}).apply(typeof $h<"u"?$h:typeof self<"u"?self:typeof window<"u"?window:{});var o0="@firebase/firestore",s0="4.8.0";var Xe=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Xe.UNAUTHENTICATED=new Xe(null),Xe.GOOGLE_CREDENTIALS=new Xe("google-credentials-uid"),Xe.FIRST_PARTY=new Xe("first-party-uid"),Xe.MOCK_USER=new Xe("mock-user");var oa="11.10.0";var Io=new xn("@firebase/firestore");function Fs(){return Io.logLevel}function L(n,...e){if(Io.logLevel<=oe.DEBUG){let t=e.map(qE);Io.debug(`Firestore (${oa}): ${n}`,...t)}}function gr(n,...e){if(Io.logLevel<=oe.ERROR){let t=e.map(qE);Io.error(`Firestore (${oa}): ${n}`,...t)}}function di(n,...e){if(Io.logLevel<=oe.WARN){let t=e.map(qE);Io.warn(`Firestore (${oa}): ${n}`,...t)}}function qE(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function q(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,K0(n,r,t)}function K0(n,e,t){let r=`FIRESTORE (${oa}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw gr(r),new Error(r)}function me(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||K0(e,i,r)}function X(n,e){return n}var M={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},V=class extends Bt{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var yn=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var Yh=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},l_=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Xe.UNAUTHENTICATED))}shutdown(){}},d_=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},h_=class{constructor(e){this.t=e,this.currentUser=Xe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){me(this.o===void 0,42304);let r=this.i,i=u=>this.i!==r?(r=this.i,t(u)):Promise.resolve(),o=new yn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new yn,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>E(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},c=u=>{L("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?c(u):(L("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new yn)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(L("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(me(typeof r.accessToken=="string",31837,{l:r}),new Yh(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return me(e===null||typeof e=="string",2055,{h:e}),new Xe(e)}},f_=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Xe.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},p_=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new f_(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Xe.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Zh=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},g_=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,$t(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){me(this.o===void 0,3512);let r=o=>{o.error!=null&&L("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,L("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{L("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):L("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Zh(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(me(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Zh(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function eB(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}function Q0(){return new TextEncoder}var hu=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=eB(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}};function ie(n,e){return n<e?-1:n>e?1:0}function m_(n,e){let t=0;for(;t<n.length&&t<e.length;){let r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return ie(r,i);{let o=Q0(),s=tB(o.encode(a0(n,t)),o.encode(a0(e,t)));return s!==0?s:ie(r,i)}}t+=r>65535?2:1}return ie(n.length,e.length)}function a0(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function tB(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return ie(n[t],e[t]);return ie(n.length,e.length)}function qs(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var c0="__name__",Jh=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&q(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&q(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=n.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return ie(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):m_(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return fr.fromString(e.substring(4,e.length-2))}},Ne=class n extends Jh{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new V(M.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},nB=/^[_a-zA-Z][_a-zA-Z0-9]*$/,zt=class n extends Jh{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return nB.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===c0}static keyField(){return new n([c0])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new V(M.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let c=e[i];if(c==="\\"){if(i+1===e.length)throw new V(M.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new V(M.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else c==="`"?(s=!s,i++):c!=="."||s?(r+=c,i++):(o(),i++)}if(o(),s)throw new V(M.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var H=class n{constructor(e){this.path=e}static fromPath(e){return new n(Ne.fromString(e))}static fromName(e){return new n(Ne.fromString(e).popFirst(5))}static empty(){return new n(Ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ne.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ne.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new Ne(e.slice()))}};function Y0(n,e,t){if(!t)throw new V(M.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function rB(n,e,t,r){if(e===!0&&r===!0)throw new V(M.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function u0(n){if(!H.isDocumentKey(n))throw new V(M.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function l0(n){if(H.isDocumentKey(n))throw new V(M.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Z0(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function GE(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":q(12329,{type:typeof n})}function hi(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new V(M.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=GE(n);throw new V(M.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function He(n,e){let t={typeString:n};return e&&(t.value=e),t}function Tu(n,e){if(!Z0(n))throw new V(M.INVALID_ARGUMENT,"JSON must be an object");let t;for(let r in e)if(e[r]){let i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}let s=n[r];if(i&&typeof s!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){t=`Expected '${r}' field to equal '${o.value}'`;break}}if(t)throw new V(M.INVALID_ARGUMENT,t);return!0}var d0=-62135596800,h0=1e6,ze=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*h0);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new V(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new V(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<d0)throw new V(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new V(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/h0}_compareTo(e){return this.seconds===e.seconds?ie(this.nanoseconds,e.nanoseconds):ie(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:n._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Tu(e,n._jsonSchema))return new n(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-d0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};ze._jsonSchemaVersion="firestore/timestamp/1.0",ze._jsonSchema={type:He("string",ze._jsonSchemaVersion),seconds:He("number"),nanoseconds:He("number")};var te=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new ze(0,0))}static max(){return new n(new ze(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var fu=-1,y_=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};y_.UNKNOWN_ID=-1;function iB(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=te.fromTimestamp(r===1e9?new ze(t+1,0):new ze(t,r));return new wo(i,H.empty(),e)}function oB(n){return new wo(n.readTime,n.key,fu)}var wo=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(te.min(),H.empty(),fu)}static max(){return new n(te.max(),H.empty(),fu)}};function sB(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=H.comparator(n.documentKey,e.documentKey),t!==0?t:ie(n.largestBatchId,e.largestBatchId))}var aB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",v_=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function sa(n){return E(this,null,function*(){if(n.code!==M.FAILED_PRECONDITION||n.message!==aB)throw n;L("LocalStore","Unexpectedly lost primary lease")})}var k=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&q(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(c=>{++i,c.next(()=>{++o,s&&o===i&&t()},u=>r(u))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),c=0;for(let u=0;u<o;u++){let l=u;t(e[l]).next(h=>{s[l]=h,++c,c===o&&r(s)},h=>i(h))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function cB(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function aa(n){return n.name==="IndexedDbTransactionError"}var WE=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this._e(i),this.ae=i=>r.writeSequenceNumber(i))}_e(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.ae&&this.ae(t),t}}n.ue=-1;return n})(),KE=-1;function Pf(n){return n==null}function pu(n){return n===0&&1/n==-1/0}function uB(n){return typeof n=="number"&&Number.isInteger(n)&&!pu(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var J0="";function lB(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=f0(e)),e=dB(n.get(t),e);return f0(e)}function dB(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let o=n.charAt(i);switch(o){case"\0":t+="";break;case J0:t+="";break;default:t+=o}}return t}function f0(n){return n+J0+""}var hB="remoteDocuments",X0="owner";var eR="mutationQueues";var tR="mutations";var nR="documentMutations",fB="remoteDocumentsV14";var rR="remoteDocumentGlobal";var iR="targets";var oR="targetDocuments";var sR="targetGlobal",aR="collectionParents";var cR="clientMetadata";var uR="bundles";var lR="namedQueries";var pB="indexConfiguration";var gB="indexState";var mB="indexEntries";var dR="documentOverlays";var yB="globals";var vB=[eR,tR,nR,hB,iR,X0,sR,oR,cR,rR,aR,uR,lR],Yne=[...vB,dR],_B=[eR,tR,nR,fB,iR,X0,sR,oR,cR,rR,aR,uR,lR,dR],EB=_B,IB=[...EB,pB,gB,mB];var Zne=[...IB,yB];function p0(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function mi(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function hR(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var Oe=class n{constructor(e,t){this.comparator=e,this.root=t||Vn.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Vn.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Vn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Bs(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Bs(this.root,e,this.comparator,!1)}getReverseIterator(){return new Bs(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Bs(this.root,e,this.comparator,!0)}},Bs=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Vn=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw q(43730,{key:this.key,value:this.value});if(this.right.isRed())throw q(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw q(27949);return e+(this.isRed()?0:1)}};Vn.EMPTY=null,Vn.RED=!0,Vn.BLACK=!1;Vn.EMPTY=new class{constructor(){this.size=0}get key(){throw q(57766)}get value(){throw q(16141)}get color(){throw q(16727)}get left(){throw q(29726)}get right(){throw q(36894)}copy(e,t,r,i,o){return this}insert(e,t,r){return new Vn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var et=class n{constructor(e){this.comparator=e,this.data=new Oe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Xh(this.data.getIterator())}getIteratorFrom(e){return new Xh(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},Xh=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Xt=class n{constructor(e){this.fields=e,e.sort(zt.comparator)}static empty(){return new n([])}unionWith(e){let t=new et(zt.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return qs(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var ef=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var yt=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new ef("Invalid base64 string: "+o):o}})(e);return new n(t)}static fromUint8Array(e){let t=(function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o})(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ie(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};yt.EMPTY_BYTE_STRING=new yt("");var wB=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function mr(n){if(me(!!n,39018),typeof n=="string"){let e=0,t=wB.exec(n);if(me(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ae(n.seconds),nanos:Ae(n.nanos)}}function Ae(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function yr(n){return typeof n=="string"?yt.fromBase64String(n):yt.fromUint8Array(n)}var fR="server_timestamp",pR="__type__",gR="__previous_value__",mR="__local_write_time__";function QE(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[pR])===null||t===void 0?void 0:t.stringValue)===fR}function kf(n){let e=n.mapValue.fields[gR];return QE(e)?kf(e):e}function gu(n){let e=mr(n.mapValue.fields[mR].timestampValue);return new ze(e.seconds,e.nanos)}var __=class{constructor(e,t,r,i,o,s,c,u,l,h){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=l,this.isUsingEmulator=h}},tf="(default)",nf=class n{constructor(e,t){this.projectId=e,this.database=t||tf}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===tf}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var YE="__type__",yR="__max__",zh={mapValue:{fields:{__type__:{stringValue:yR}}}},ZE="__vector__",Gs="value";function fi(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?QE(n)?4:_R(n)?9007199254740991:vR(n)?10:11:q(28295,{value:n})}function $n(n,e){if(n===e)return!0;let t=fi(n);if(t!==fi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return gu(n).isEqual(gu(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=mr(i.timestampValue),c=mr(o.timestampValue);return s.seconds===c.seconds&&s.nanos===c.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(i,o){return yr(i.bytesValue).isEqual(yr(o.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(i,o){return Ae(i.geoPointValue.latitude)===Ae(o.geoPointValue.latitude)&&Ae(i.geoPointValue.longitude)===Ae(o.geoPointValue.longitude)})(n,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return Ae(i.integerValue)===Ae(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Ae(i.doubleValue),c=Ae(o.doubleValue);return s===c?pu(s)===pu(c):isNaN(s)&&isNaN(c)}return!1})(n,e);case 9:return qs(n.arrayValue.values||[],e.arrayValue.values||[],$n);case 10:case 11:return(function(i,o){let s=i.mapValue.fields||{},c=o.mapValue.fields||{};if(p0(s)!==p0(c))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(c[u]===void 0||!$n(s[u],c[u])))return!1;return!0})(n,e);default:return q(52216,{left:n})}}function mu(n,e){return(n.values||[]).find(t=>$n(t,e))!==void 0}function Ws(n,e){if(n===e)return 0;let t=fi(n),r=fi(e);if(t!==r)return ie(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return ie(n.booleanValue,e.booleanValue);case 2:return(function(o,s){let c=Ae(o.integerValue||o.doubleValue),u=Ae(s.integerValue||s.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1})(n,e);case 3:return g0(n.timestampValue,e.timestampValue);case 4:return g0(gu(n),gu(e));case 5:return m_(n.stringValue,e.stringValue);case 6:return(function(o,s){let c=yr(o),u=yr(s);return c.compareTo(u)})(n.bytesValue,e.bytesValue);case 7:return(function(o,s){let c=o.split("/"),u=s.split("/");for(let l=0;l<c.length&&l<u.length;l++){let h=ie(c[l],u[l]);if(h!==0)return h}return ie(c.length,u.length)})(n.referenceValue,e.referenceValue);case 8:return(function(o,s){let c=ie(Ae(o.latitude),Ae(s.latitude));return c!==0?c:ie(Ae(o.longitude),Ae(s.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return m0(n.arrayValue,e.arrayValue);case 10:return(function(o,s){var c,u,l,h;let p=o.fields||{},m=s.fields||{},y=(c=p[Gs])===null||c===void 0?void 0:c.arrayValue,A=(u=m[Gs])===null||u===void 0?void 0:u.arrayValue,P=ie(((l=y?.values)===null||l===void 0?void 0:l.length)||0,((h=A?.values)===null||h===void 0?void 0:h.length)||0);return P!==0?P:m0(y,A)})(n.mapValue,e.mapValue);case 11:return(function(o,s){if(o===zh.mapValue&&s===zh.mapValue)return 0;if(o===zh.mapValue)return 1;if(s===zh.mapValue)return-1;let c=o.fields||{},u=Object.keys(c),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let m=m_(u[p],h[p]);if(m!==0)return m;let y=Ws(c[u[p]],l[h[p]]);if(y!==0)return y}return ie(u.length,h.length)})(n.mapValue,e.mapValue);default:throw q(23264,{le:t})}}function g0(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return ie(n,e);let t=mr(n),r=mr(e),i=ie(t.seconds,r.seconds);return i!==0?i:ie(t.nanos,r.nanos)}function m0(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=Ws(t[i],r[i]);if(o)return o}return ie(t.length,r.length)}function Ks(n){return E_(n)}function E_(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){let r=mr(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return yr(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return H.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=E_(o);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${E_(t.fields[s])}`;return i+"}"})(n.mapValue):q(61005,{value:n})}function Wh(n){switch(fi(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=kf(n);return e?16+Wh(e):16;case 5:return 2*n.stringValue.length;case 6:return yr(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce((i,o)=>i+Wh(o),0)})(n.arrayValue);case 10:case 11:return(function(r){let i=0;return mi(r.fields,(o,s)=>{i+=o.length+Wh(s)}),i})(n.mapValue);default:throw q(13486,{value:n})}}function I_(n){return!!n&&"integerValue"in n}function JE(n){return!!n&&"arrayValue"in n}function y0(n){return!!n&&"nullValue"in n}function v0(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Kh(n){return!!n&&"mapValue"in n}function vR(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[YE])===null||t===void 0?void 0:t.stringValue)===ZE}function cu(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return mi(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=cu(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=cu(n.arrayValue.values[t]);return e}return Object.assign({},n)}function _R(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===yR}var Xne={mapValue:{fields:{[YE]:{stringValue:ZE},[Gs]:{arrayValue:{}}}}};var Ht=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Kh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=cu(t)}setAll(e){let t=zt.emptyPath(),r={},i=[];e.forEach((s,c)=>{if(!t.isImmediateParentOf(c)){let u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=c.popLast()}s?r[c.lastSegment()]=cu(s):i.push(c.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());Kh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return $n(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Kh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){mi(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(cu(this.value))}};function ER(n){let e=[];return mi(n.fields,(t,r)=>{let i=new zt([t]);if(Kh(r)){let o=ER(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new Xt(e)}var vn=class n{constructor(e,t,r,i,o,s,c){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=c}static newInvalidDocument(e){return new n(e,0,te.min(),te.min(),te.min(),Ht.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,te.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,te.min(),te.min(),Ht.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,te.min(),te.min(),Ht.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ht.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ht.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Qs=class{constructor(e,t){this.position=e,this.inclusive=t}};function _0(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=H.comparator(H.fromName(s.referenceValue),t.key):r=Ws(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function E0(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!$n(n.position[t],e.position[t]))return!1;return!0}var Ys=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function TB(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var rf=class{},We=class n extends rf{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new T_(e,t,r):t==="array-contains"?new C_(e,r):t==="in"?new S_(e,r):t==="not-in"?new A_(e,r):t==="array-contains-any"?new R_(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new D_(e,r):new b_(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Ws(t,this.value)):t!==null&&fi(this.value)===fi(t)&&this.matchesComparison(Ws(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return q(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Hn=class n extends rf{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new n(e,t)}matches(e){return IR(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}};function IR(n){return n.op==="and"}function wR(n){return DB(n)&&IR(n)}function DB(n){for(let e of n.filters)if(e instanceof Hn)return!1;return!0}function w_(n){if(n instanceof We)return n.field.canonicalString()+n.op.toString()+Ks(n.value);if(wR(n))return n.filters.map(e=>w_(e)).join(",");{let e=n.filters.map(t=>w_(t)).join(",");return`${n.op}(${e})`}}function TR(n,e){return n instanceof We?(function(r,i){return i instanceof We&&r.op===i.op&&r.field.isEqual(i.field)&&$n(r.value,i.value)})(n,e):n instanceof Hn?(function(r,i){return i instanceof Hn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,c)=>o&&TR(s,i.filters[c]),!0):!1})(n,e):void q(19439)}function DR(n){return n instanceof We?(function(t){return`${t.field.canonicalString()} ${t.op} ${Ks(t.value)}`})(n):n instanceof Hn?(function(t){return t.op.toString()+" {"+t.getFilters().map(DR).join(" ,")+"}"})(n):"Filter"}var T_=class extends We{constructor(e,t,r){super(e,t,r),this.key=H.fromName(r.referenceValue)}matches(e){let t=H.comparator(e.key,this.key);return this.matchesComparison(t)}},D_=class extends We{constructor(e,t){super(e,"in",t),this.keys=bR("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},b_=class extends We{constructor(e,t){super(e,"not-in",t),this.keys=bR("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function bR(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>H.fromName(r.referenceValue))}var C_=class extends We{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return JE(t)&&mu(t.arrayValue,this.value)}},S_=class extends We{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&mu(this.value.arrayValue,t)}},A_=class extends We{constructor(e,t){super(e,"not-in",t)}matches(e){if(mu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!mu(this.value.arrayValue,t)}},R_=class extends We{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!JE(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>mu(this.value.arrayValue,r))}};var N_=class{constructor(e,t=null,r=[],i=[],o=null,s=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=c,this.Pe=null}};function I0(n,e=null,t=[],r=[],i=null,o=null,s=null){return new N_(n,e,t,r,i,o,s)}function XE(n){let e=X(n);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>w_(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>(function(o){return o.field.canonicalString()+o.dir})(r)).join(","),Pf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Ks(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Ks(r)).join(",")),e.Pe=t}return e.Pe}function eI(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!TB(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!TR(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!E0(n.startAt,e.startAt)&&E0(n.endAt,e.endAt)}function M_(n){return H.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var Zs=class{constructor(e,t=null,r=[],i=[],o=null,s="F",c=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=c,this.endAt=u,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function bB(n,e,t,r,i,o,s,c){return new Zs(n,e,t,r,i,o,s,c)}function tI(n){return new Zs(n)}function w0(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function CB(n){return n.collectionGroup!==null}function uu(n){let e=X(n);if(e.Te===null){e.Te=[];let t=new Set;for(let o of e.explicitOrderBy)e.Te.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let c=new et(zt.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(c=c.add(l.field))})}),c})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Te.push(new Ys(o,r))}),t.has(zt.keyField().canonicalString())||e.Te.push(new Ys(zt.keyField(),r))}return e.Te}function jn(n){let e=X(n);return e.Ie||(e.Ie=SB(e,uu(n))),e.Ie}function SB(n,e){if(n.limitType==="F")return I0(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Ys(i.field,o)});let t=n.endAt?new Qs(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Qs(n.startAt.position,n.startAt.inclusive):null;return I0(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function P_(n,e,t){return new Zs(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function xf(n,e){return eI(jn(n),jn(e))&&n.limitType===e.limitType}function CR(n){return`${XE(jn(n))}|lt:${n.limitType}`}function Vs(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>DR(i)).join(", ")}]`),Pf(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Ks(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Ks(i)).join(",")),`Target(${r})`})(jn(n))}; limitType=${n.limitType})`}function Of(n,e){return e.isFoundDocument()&&(function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):H.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(n,e)&&(function(r,i){for(let o of uu(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(n,e)&&(function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0})(n,e)&&(function(r,i){return!(r.startAt&&!(function(s,c,u){let l=_0(s,c,u);return s.inclusive?l<=0:l<0})(r.startAt,uu(r),i)||r.endAt&&!(function(s,c,u){let l=_0(s,c,u);return s.inclusive?l>=0:l>0})(r.endAt,uu(r),i))})(n,e)}function AB(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function SR(n){return(e,t)=>{let r=!1;for(let i of uu(n)){let o=RB(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function RB(n,e,t){let r=n.field.isKeyField()?H.comparator(e.key,t.key):(function(o,s,c){let u=s.data.field(o),l=c.data.field(o);return u!==null&&l!==null?Ws(u,l):q(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return q(19790,{direction:n.dir})}}var vr=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){mi(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return hR(this.inner)}size(){return this.innerSize}};var NB=new Oe(H.comparator);function _r(){return NB}var AR=new Oe(H.comparator);function au(...n){let e=AR;for(let t of n)e=e.insert(t.key,t);return e}function RR(n){let e=AR;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function yo(){return lu()}function NR(){return lu()}function lu(){return new vr(n=>n.toString(),(n,e)=>n.isEqual(e))}var MB=new Oe(H.comparator),PB=new et(H.comparator);function se(...n){let e=PB;for(let t of n)e=e.add(t);return e}var kB=new et(ie);function xB(){return kB}function nI(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:pu(e)?"-0":e}}function MR(n){return{integerValue:""+n}}function OB(n,e){return uB(e)?MR(e):nI(n,e)}var Js=class{constructor(){this._=void 0}};function LB(n,e,t){return n instanceof Xs?(function(i,o){let s={fields:{[pR]:{stringValue:fR},[mR]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&QE(o)&&(o=kf(o)),o&&(s.fields[gR]=o),{mapValue:s}})(t,e):n instanceof To?kR(n,e):n instanceof Do?xR(n,e):(function(i,o){let s=PR(i,o),c=T0(s)+T0(i.Ee);return I_(s)&&I_(i.Ee)?MR(c):nI(i.serializer,c)})(n,e)}function FB(n,e,t){return n instanceof To?kR(n,e):n instanceof Do?xR(n,e):t}function PR(n,e){return n instanceof ea?(function(r){return I_(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}var Xs=class extends Js{},To=class extends Js{constructor(e){super(),this.elements=e}};function kR(n,e){let t=OR(e);for(let r of n.elements)t.some(i=>$n(i,r))||t.push(r);return{arrayValue:{values:t}}}var Do=class extends Js{constructor(e){super(),this.elements=e}};function xR(n,e){let t=OR(e);for(let r of n.elements)t=t.filter(i=>!$n(i,r));return{arrayValue:{values:t}}}var ea=class extends Js{constructor(e,t){super(),this.serializer=e,this.Ee=t}};function T0(n){return Ae(n.integerValue||n.doubleValue)}function OR(n){return JE(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function VB(n,e){return n.field.isEqual(e.field)&&(function(r,i){return r instanceof To&&i instanceof To||r instanceof Do&&i instanceof Do?qs(r.elements,i.elements,$n):r instanceof ea&&i instanceof ea?$n(r.Ee,i.Ee):r instanceof Xs&&i instanceof Xs})(n.transform,e.transform)}var k_=class{constructor(e,t){this.version=e,this.transformResults=t}},Un=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Qh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var ta=class{};function LR(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new yu(n.key,Un.none()):new bo(n.key,n.data,Un.none());{let t=n.data,r=Ht.empty(),i=new et(zt.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new zn(n.key,r,new Xt(i.toArray()),Un.none())}}function jB(n,e,t){n instanceof bo?(function(i,o,s){let c=i.value.clone(),u=b0(i.fieldTransforms,o,s.transformResults);c.setAll(u),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()})(n,e,t):n instanceof zn?(function(i,o,s){if(!Qh(i.precondition,o))return void o.convertToUnknownDocument(s.version);let c=b0(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(FR(i)),u.setAll(c),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()})(n,e,t):(function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()})(0,e,t)}function du(n,e,t,r){return n instanceof bo?(function(o,s,c,u){if(!Qh(o.precondition,s))return c;let l=o.value.clone(),h=C0(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null})(n,e,t,r):n instanceof zn?(function(o,s,c,u){if(!Qh(o.precondition,s))return c;let l=C0(o.fieldTransforms,u,s),h=s.data;return h.setAll(FR(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))})(n,e,t,r):(function(o,s,c){return Qh(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):c})(n,e,t)}function UB(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),o=PR(r.transform,i||null);o!=null&&(t===null&&(t=Ht.empty()),t.set(r.field,o))}return t||null}function D0(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&qs(r,i,(o,s)=>VB(o,s))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var bo=class extends ta{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},zn=class extends ta{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function FR(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function b0(n,e,t){let r=new Map;me(n.length===t.length,32656,{Ae:t.length,Re:n.length});for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,c=e.data.field(o.field);r.set(o.field,FB(s,c,t[i]))}return r}function C0(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,LB(o,s,e))}return r}var yu=class extends ta{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},x_=class extends ta{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var O_=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&jB(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=du(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=du(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=NR();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,c=this.applyToLocalView(s,o.mutatedFields);c=t.has(i.key)?null:c;let u=LR(s,c);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(te.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),se())}isEqual(e){return this.batchId===e.batchId&&qs(this.mutations,e.mutations,(t,r)=>D0(t,r))&&qs(this.baseMutations,e.baseMutations,(t,r)=>D0(t,r))}},L_=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){me(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=(function(){return MB})(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new n(e,t,r,i)}};var F_=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var V_=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var Be,le;function BB(n){switch(n){case M.OK:return q(64938);case M.CANCELLED:case M.UNKNOWN:case M.DEADLINE_EXCEEDED:case M.RESOURCE_EXHAUSTED:case M.INTERNAL:case M.UNAVAILABLE:case M.UNAUTHENTICATED:return!1;case M.INVALID_ARGUMENT:case M.NOT_FOUND:case M.ALREADY_EXISTS:case M.PERMISSION_DENIED:case M.FAILED_PRECONDITION:case M.ABORTED:case M.OUT_OF_RANGE:case M.UNIMPLEMENTED:case M.DATA_LOSS:return!0;default:return q(15467,{code:n})}}function VR(n){if(n===void 0)return gr("GRPC error has no .code"),M.UNKNOWN;switch(n){case Be.OK:return M.OK;case Be.CANCELLED:return M.CANCELLED;case Be.UNKNOWN:return M.UNKNOWN;case Be.DEADLINE_EXCEEDED:return M.DEADLINE_EXCEEDED;case Be.RESOURCE_EXHAUSTED:return M.RESOURCE_EXHAUSTED;case Be.INTERNAL:return M.INTERNAL;case Be.UNAVAILABLE:return M.UNAVAILABLE;case Be.UNAUTHENTICATED:return M.UNAUTHENTICATED;case Be.INVALID_ARGUMENT:return M.INVALID_ARGUMENT;case Be.NOT_FOUND:return M.NOT_FOUND;case Be.ALREADY_EXISTS:return M.ALREADY_EXISTS;case Be.PERMISSION_DENIED:return M.PERMISSION_DENIED;case Be.FAILED_PRECONDITION:return M.FAILED_PRECONDITION;case Be.ABORTED:return M.ABORTED;case Be.OUT_OF_RANGE:return M.OUT_OF_RANGE;case Be.UNIMPLEMENTED:return M.UNIMPLEMENTED;case Be.DATA_LOSS:return M.DATA_LOSS;default:return q(39323,{code:n})}}(le=Be||(Be={}))[le.OK=0]="OK",le[le.CANCELLED=1]="CANCELLED",le[le.UNKNOWN=2]="UNKNOWN",le[le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",le[le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",le[le.NOT_FOUND=5]="NOT_FOUND",le[le.ALREADY_EXISTS=6]="ALREADY_EXISTS",le[le.PERMISSION_DENIED=7]="PERMISSION_DENIED",le[le.UNAUTHENTICATED=16]="UNAUTHENTICATED",le[le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",le[le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",le[le.ABORTED=10]="ABORTED",le[le.OUT_OF_RANGE=11]="OUT_OF_RANGE",le[le.UNIMPLEMENTED=12]="UNIMPLEMENTED",le[le.INTERNAL=13]="INTERNAL",le[le.UNAVAILABLE=14]="UNAVAILABLE",le[le.DATA_LOSS=15]="DATA_LOSS";var S0=null;var $B=new fr([4294967295,4294967295],0);function A0(n){let e=Q0().encode(n),t=new Xv;return t.update(e),new Uint8Array(t.digest())}function R0(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new fr([t,r],0),new fr([i,o],0)]}var j_=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new vo(`Invalid padding: ${t}`);if(r<0)throw new vo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new vo(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new vo(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=fr.fromNumber(this.fe)}pe(e,t,r){let i=e.add(t.multiply(fr.fromNumber(r)));return i.compare($B)===1&&(i=new fr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;let t=A0(e),[r,i]=R0(t);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);if(!this.ye(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(c=>s.insert(c)),s}insert(e){if(this.fe===0)return;let t=A0(e),[r,i]=R0(t);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);this.we(s)}}we(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},vo=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var of=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,vu.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(te.min(),i,new Oe(ie),_r(),se())}},vu=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,se(),se(),se())}};var $s=class{constructor(e,t,r,i){this.Se=e,this.removedTargetIds=t,this.key=r,this.be=i}},sf=class{constructor(e,t){this.targetId=e,this.De=t}},af=class{constructor(e,t,r=yt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},cf=class{constructor(){this.ve=0,this.Ce=N0(),this.Fe=yt.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=se(),t=se(),r=se();return this.Ce.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:q(38017,{changeType:o})}}),new vu(this.Fe,this.Me,e,t,r)}ke(){this.xe=!1,this.Ce=N0()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,me(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}},U_=class{constructor(e){this.We=e,this.Ge=new Map,this.ze=_r(),this.je=qh(),this.Je=qh(),this.He=new Oe(ie)}Ye(e){for(let t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(let t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{let r=this.tt(t);switch(e.state){case 0:this.nt(t)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),r.Be(e.resumeToken));break;default:q(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((r,i)=>{this.nt(i)&&t(i)})}it(e){let t=e.targetId,r=e.De.count,i=this.st(t);if(i){let o=i.target;if(M_(o))if(r===0){let s=new H(o.path);this.Xe(t,s,vn.newNoDocument(s,te.min()))}else me(r===1,20013,{expectedCount:r});else{let s=this.ot(t);if(s!==r){let c=this._t(e),u=c?this.ut(c,e,s):1;if(u!==0){this.rt(t);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,l)}S0?.ct((function(h,p,m,y,A){var P,N,F,K,Q,we;let vt={localCacheCount:h,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},ye=p.unchangedNames;return ye&&(vt.bloomFilter={applied:A===0,hashCount:(P=ye?.hashCount)!==null&&P!==void 0?P:0,bitmapLength:(K=(F=(N=ye?.bits)===null||N===void 0?void 0:N.bitmap)===null||F===void 0?void 0:F.length)!==null&&K!==void 0?K:0,padding:(we=(Q=ye?.bits)===null||Q===void 0?void 0:Q.padding)!==null&&we!==void 0?we:0,mightContain:T=>{var v;return(v=y?.mightContain(T))!==null&&v!==void 0&&v}}),vt})(s,e.De,this.We.lt(),c,u))}}}}_t(e){let t=e.De.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,c;try{s=yr(r).toUint8Array()}catch(u){if(u instanceof ef)return di("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{c=new j_(s,i,o)}catch(u){return di(u instanceof vo?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return c.fe===0?null:c}ut(e,t,r){return t.De.count===r-this.ht(e,t.targetId)?0:2}ht(e,t){let r=this.We.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.We.lt(),c=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.Xe(t,o,null),i++)}),i}Pt(e){let t=new Map;this.Ge.forEach((o,s)=>{let c=this.st(s);if(c){if(o.current&&M_(c.target)){let u=new H(c.target.path);this.Tt(u).has(s)||this.It(s,u)||this.Xe(s,u,vn.newNoDocument(u,e))}o.Ne&&(t.set(s,o.Le()),o.ke())}});let r=se();this.Je.forEach((o,s)=>{let c=!0;s.forEachWhile(u=>{let l=this.st(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(o))}),this.ze.forEach((o,s)=>s.setReadTime(e));let i=new of(e,t,this.He,this.ze,r);return this.ze=_r(),this.je=qh(),this.Je=qh(),this.He=new Oe(ie),i}Ze(e,t){if(!this.nt(e))return;let r=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,r),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,r){if(!this.nt(e))return;let i=this.tt(e);this.It(e,t)?i.qe(t,1):i.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),r&&(this.ze=this.ze.insert(t,r))}removeTarget(e){this.Ge.delete(e)}ot(e){let t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new cf,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new et(ie),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new et(ie),this.je=this.je.insert(e,t)),t}nt(e){let t=this.st(e)!==null;return t||L("WatchChangeAggregator","Detected inactive target",e),t}st(e){let t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new cf),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}};function qh(){return new Oe(H.comparator)}function N0(){return new Oe(H.comparator)}var HB={asc:"ASCENDING",desc:"DESCENDING"},zB={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},qB={and:"AND",or:"OR"},B_=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function $_(n,e){return n.useProto3Json||Pf(e)?e:{value:e}}function uf(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function jR(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function GB(n,e){return uf(n,e.toTimestamp())}function Bn(n){return me(!!n,49232),te.fromTimestamp((function(t){let r=mr(t);return new ze(r.seconds,r.nanos)})(n))}function rI(n,e){return H_(n,e).canonicalString()}function H_(n,e){let t=(function(i){return new Ne(["projects",i.projectId,"databases",i.database])})(n).child("documents");return e===void 0?t:t.child(e)}function UR(n){let e=Ne.fromString(n);return me(qR(e),10190,{key:e.toString()}),e}function z_(n,e){return rI(n.databaseId,e.path)}function o_(n,e){let t=UR(e);if(t.get(1)!==n.databaseId.projectId)throw new V(M.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new V(M.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new H($R(t))}function BR(n,e){return rI(n.databaseId,e)}function WB(n){let e=UR(n);return e.length===4?Ne.emptyPath():$R(e)}function q_(n){return new Ne(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function $R(n){return me(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function M0(n,e,t){return{name:z_(n,e),fields:t.value.mapValue.fields}}function KB(n,e){let t;if("targetChange"in e){e.targetChange;let r=(function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:q(39313,{state:l})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(l,h){return l.useProto3Json?(me(h===void 0||typeof h=="string",58123),yt.fromBase64String(h||"")):(me(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),yt.fromUint8Array(h||new Uint8Array))})(n,e.targetChange.resumeToken),s=e.targetChange.cause,c=s&&(function(l){let h=l.code===void 0?M.UNKNOWN:VR(l.code);return new V(h,l.message||"")})(s);t=new af(r,i,o,c||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=o_(n,r.document.name),o=Bn(r.document.updateTime),s=r.document.createTime?Bn(r.document.createTime):te.min(),c=new Ht({mapValue:{fields:r.document.fields}}),u=vn.newFoundDocument(i,o,s,c),l=r.targetIds||[],h=r.removedTargetIds||[];t=new $s(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=o_(n,r.document),o=r.readTime?Bn(r.readTime):te.min(),s=vn.newNoDocument(i,o),c=r.removedTargetIds||[];t=new $s([],c,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=o_(n,r.document),o=r.removedTargetIds||[];t=new $s([],o,i,null)}else{if(!("filter"in e))return q(11601,{At:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new V_(i,o),c=r.targetId;t=new sf(c,s)}}return t}function QB(n,e){let t;if(e instanceof bo)t={update:M0(n,e.key,e.value)};else if(e instanceof yu)t={delete:z_(n,e.key)};else if(e instanceof zn)t={update:M0(n,e.key,e.data),updateMask:i$(e.fieldMask)};else{if(!(e instanceof x_))return q(16599,{Rt:e.type});t={verify:z_(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>(function(o,s){let c=s.transform;if(c instanceof Xs)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof To)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Do)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof ea)return{fieldPath:s.field.canonicalString(),increment:c.Ee};throw q(20930,{transform:s.transform})})(0,r))),e.precondition.isNone||(t.currentDocument=(function(i,o){return o.updateTime!==void 0?{updateTime:GB(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:q(27497)})(n,e.precondition)),t}function YB(n,e){return n&&n.length>0?(me(e!==void 0,14353),n.map(t=>(function(i,o){let s=i.updateTime?Bn(i.updateTime):Bn(o);return s.isEqual(te.min())&&(s=Bn(o)),new k_(s,i.transformResults||[])})(t,e))):[]}function ZB(n,e){return{documents:[BR(n,e.path)]}}function JB(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=BR(n,i);let o=(function(l){if(l.length!==0)return zR(Hn.create(l,"and"))})(e.filters);o&&(t.structuredQuery.where=o);let s=(function(l){if(l.length!==0)return l.map(h=>(function(m){return{field:js(m.field),direction:t$(m.dir)}})(h))})(e.orderBy);s&&(t.structuredQuery.orderBy=s);let c=$_(n,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=(function(l){return{before:l.inclusive,values:l.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(l){return{before:!l.inclusive,values:l.position}})(e.endAt)),{Vt:t,parent:i}}function XB(n){let e=WB(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){me(r===1,65062);let h=t.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];t.where&&(o=(function(p){let m=HR(p);return m instanceof Hn&&wR(m)?m.getFilters():[m]})(t.where));let s=[];t.orderBy&&(s=(function(p){return p.map(m=>(function(A){return new Ys(Us(A.field),(function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(A.direction))})(m))})(t.orderBy));let c=null;t.limit&&(c=(function(p){let m;return m=typeof p=="object"?p.value:p,Pf(m)?null:m})(t.limit));let u=null;t.startAt&&(u=(function(p){let m=!!p.before,y=p.values||[];return new Qs(y,m)})(t.startAt));let l=null;return t.endAt&&(l=(function(p){let m=!p.before,y=p.values||[];return new Qs(y,m)})(t.endAt)),bB(e,i,s,o,c,"F",u,l)}function e$(n,e){let t=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return q(28987,{purpose:i})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function HR(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=Us(t.unaryFilter.field);return We.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Us(t.unaryFilter.field);return We.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Us(t.unaryFilter.field);return We.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Us(t.unaryFilter.field);return We.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return q(61313);default:return q(60726)}})(n):n.fieldFilter!==void 0?(function(t){return We.create(Us(t.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return q(58110);default:return q(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return Hn.create(t.compositeFilter.filters.map(r=>HR(r)),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return q(1026)}})(t.compositeFilter.op))})(n):q(30097,{filter:n})}function t$(n){return HB[n]}function n$(n){return zB[n]}function r$(n){return qB[n]}function js(n){return{fieldPath:n.canonicalString()}}function Us(n){return zt.fromServerFormat(n.fieldPath)}function zR(n){return n instanceof We?(function(t){if(t.op==="=="){if(v0(t.value))return{unaryFilter:{field:js(t.field),op:"IS_NAN"}};if(y0(t.value))return{unaryFilter:{field:js(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(v0(t.value))return{unaryFilter:{field:js(t.field),op:"IS_NOT_NAN"}};if(y0(t.value))return{unaryFilter:{field:js(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:js(t.field),op:n$(t.op),value:t.value}}})(n):n instanceof Hn?(function(t){let r=t.getFilters().map(i=>zR(i));return r.length===1?r[0]:{compositeFilter:{op:r$(t.op),filters:r}}})(n):q(54877,{filter:n})}function i$(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function qR(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var _u=class n{constructor(e,t,r,i,o=te.min(),s=te.min(),c=yt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=c,this.expectedCount=u}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var G_=class{constructor(e){this.gt=e}};function o$(n){let e=XB({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?P_(e,e.limit,"L"):e}var lf=class{constructor(){}bt(e,t){this.Dt(e,t),t.vt()}Dt(e,t){if("nullValue"in e)this.Ct(t,5);else if("booleanValue"in e)this.Ct(t,10),t.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(t,15),t.Ft(Ae(e.integerValue));else if("doubleValue"in e){let r=Ae(e.doubleValue);isNaN(r)?this.Ct(t,13):(this.Ct(t,15),pu(r)?t.Ft(0):t.Ft(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ct(t,20),typeof r=="string"&&(r=mr(r)),t.Mt(`${r.seconds||""}`),t.Ft(r.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,t),this.Ot(t);else if("bytesValue"in e)this.Ct(t,30),t.Nt(yr(e.bytesValue)),this.Ot(t);else if("referenceValue"in e)this.Bt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ct(t,45),t.Ft(r.latitude||0),t.Ft(r.longitude||0)}else"mapValue"in e?_R(e)?this.Ct(t,Number.MAX_SAFE_INTEGER):vR(e)?this.Lt(e.mapValue,t):(this.kt(e.mapValue,t),this.Ot(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Ot(t)):q(19022,{Qt:e})}xt(e,t){this.Ct(t,25),this.$t(e,t)}$t(e,t){t.Mt(e)}kt(e,t){let r=e.fields||{};this.Ct(t,55);for(let i of Object.keys(r))this.xt(i,t),this.Dt(r[i],t)}Lt(e,t){var r,i;let o=e.fields||{};this.Ct(t,53);let s=Gs,c=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Ct(t,15),t.Ft(Ae(c)),this.xt(s,t),this.Dt(o[s],t)}qt(e,t){let r=e.values||[];this.Ct(t,50);for(let i of r)this.Dt(i,t)}Bt(e,t){this.Ct(t,37),H.fromName(e).path.forEach(r=>{this.Ct(t,60),this.$t(r,t)})}Ct(e,t){e.Ft(t)}Ot(e){e.Ft(2)}};lf.Ut=new lf;var W_=class{constructor(){this.Dn=new K_}addToCollectionParentIndex(e,t){return this.Dn.add(t),k.resolve()}getCollectionParents(e,t){return k.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return k.resolve()}deleteFieldIndex(e,t){return k.resolve()}deleteAllFieldIndexes(e){return k.resolve()}createTargetIndexes(e,t){return k.resolve()}getDocumentsMatchingTarget(e,t){return k.resolve(null)}getIndexType(e,t){return k.resolve(0)}getFieldIndexes(e,t){return k.resolve([])}getNextCollectionGroupToUpdate(e){return k.resolve(null)}getMinOffset(e,t){return k.resolve(wo.min())}getMinOffsetFromCollectionGroup(e,t){return k.resolve(wo.min())}updateCollectionGroup(e,t,r){return k.resolve()}updateIndexEntries(e,t){return k.resolve()}},K_=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new et(Ne.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new et(Ne.comparator)).toArray()}};var ere=new Uint8Array(0);var P0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},GR=41943040,Jt=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};Jt.DEFAULT_COLLECTION_PERCENTILE=10,Jt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Jt.DEFAULT=new Jt(GR,Jt.DEFAULT_COLLECTION_PERCENTILE,Jt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Jt.DISABLED=new Jt(-1,0,0);var Eu=class n{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new n(0)}static ur(){return new n(-1)}};var k0="LruGarbageCollector",s$=1048576;function x0([n,e],[t,r]){let i=ie(n,t);return i===0?ie(e,r):i}var Q_=class{constructor(e){this.Tr=e,this.buffer=new et(x0),this.Ir=0}dr(){return++this.Ir}Er(e){let t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();x0(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},Y_=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){L(k0,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>E(this,null,function*(){this.Ar=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(t){aa(t)?L(k0,"Ignoring IndexedDB error during garbage collection: ",t):yield sa(t)}yield this.Rr(3e5)}))}},Z_=class{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return k.resolve(WE.ue);let r=new Q_(t);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(L("LruGarbageCollector","Garbage collection skipped; disabled"),k.resolve(P0)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(L("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),P0):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let r,i,o,s,c,u,l,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(L("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,c=Date.now(),this.removeTargets(e,r,t))).next(p=>(o=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(l=Date.now(),Fs()<=oe.DEBUG&&L("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(c-s)+`ms
	Removed ${o} targets in `+(u-c)+`ms
	Removed ${p} documents in `+(l-u)+`ms
Total Duration: ${l-h}ms`),k.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function a$(n,e){return new Z_(n,e)}var J_=class{constructor(){this.changes=new vr(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,vn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?k.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var X_=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var eE=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&du(r.mutation,i,Xt.empty(),ze.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,se()).next(()=>r))}getLocalViewOfDocuments(e,t,r=se()){let i=yo();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=au();return o.forEach((c,u)=>{s=s.insert(c,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=yo();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,se()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,c)=>{t.set(s,c)})})}computeViews(e,t,r,i){let o=_r(),s=lu(),c=(function(){return lu()})();return t.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof zn)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),du(h.mutation,l,h.mutation.getFieldMask(),ze.now())):s.set(l.key,Xt.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),t.forEach((l,h)=>{var p;return c.set(l,new X_(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),c))}recalculateAndSaveOverlays(e,t){let r=lu(),i=new Oe((s,c)=>s-c),o=se();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let c of s)c.keys().forEach(u=>{let l=t.get(u);if(l===null)return;let h=r.get(u)||Xt.empty();h=c.applyToLocalView(l,h),r.set(u,h);let p=(i.get(c.batchId)||se()).add(u);i=i.insert(c.batchId,p)})}).next(()=>{let s=[],c=i.getReverseIterator();for(;c.hasNext();){let u=c.getNext(),l=u.key,h=u.value,p=NR();h.forEach(m=>{if(!o.has(m)){let y=LR(t.get(m),r.get(m));y!==null&&p.set(m,y),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return k.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return(function(s){return H.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):CB(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):k.resolve(yo()),c=fu,u=o;return s.next(l=>k.forEach(l,(h,p)=>(c<p.largestBatchId&&(c=p.largestBatchId),o.get(h)?k.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,se())).next(h=>({batchId:c,changes:RR(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new H(t)).next(r=>{let i=au();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=au();return this.indexManager.getCollectionParents(e,o).next(c=>k.forEach(c,u=>{let l=(function(p,m){return new Zs(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(t,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,m)=>{s=s.insert(p,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,vn.newInvalidDocument(h)))});let c=au();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&du(h.mutation,l,Xt.empty(),ze.now()),Of(t,l)&&(c=c.insert(u,l))}),c})}};var tE=class{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return k.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,(function(i){return{id:i.id,version:i.version,createTime:Bn(i.createTime)}})(t)),k.resolve()}getNamedQuery(e,t){return k.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,(function(i){return{name:i.name,query:o$(i.bundledQuery),readTime:Bn(i.readTime)}})(t)),k.resolve()}};var nE=class{constructor(){this.overlays=new Oe(H.comparator),this.kr=new Map}getOverlay(e,t){return k.resolve(this.overlays.get(t))}getOverlays(e,t){let r=yo();return k.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.wt(e,t,o)}),k.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.kr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.kr.delete(r)),k.resolve()}getOverlaysForCollection(e,t,r){let i=yo(),o=t.length+1,s=new H(t.child("")),c=this.overlays.getIteratorFrom(s);for(;c.hasNext();){let u=c.getNext().value,l=u.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return k.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new Oe((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=yo(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let c=yo(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>c.set(l,h)),!(c.size()>=i)););return k.resolve(c)}wt(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new F_(t,r));let o=this.kr.get(t);o===void 0&&(o=se(),this.kr.set(t,o)),this.kr.set(t,o.add(r.key))}};var rE=class{constructor(){this.sessionToken=yt.EMPTY_BYTE_STRING}getSessionToken(e){return k.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,k.resolve()}};var Iu=class{constructor(){this.qr=new et($e.Qr),this.$r=new et($e.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){let r=new $e(e,t);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Wr(new $e(e,t))}Gr(e,t){e.forEach(r=>this.removeReference(r,t))}zr(e){let t=new H(new Ne([])),r=new $e(t,e),i=new $e(t,e+1),o=[];return this.$r.forEachInRange([r,i],s=>{this.Wr(s),o.push(s.key)}),o}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){let t=new H(new Ne([])),r=new $e(t,e),i=new $e(t,e+1),o=se();return this.$r.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new $e(e,0),r=this.qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},$e=class{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return H.comparator(e.key,t.key)||ie(e.Hr,t.Hr)}static Ur(e,t){return ie(e.Hr,t.Hr)||H.comparator(e.key,t.key)}};var iE=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new et($e.Qr)}checkEmpty(e){return k.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new O_(o,t,r,i);this.mutationQueue.push(s);for(let c of i)this.Yr=this.Yr.add(new $e(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return k.resolve(s)}lookupMutationBatch(e,t){return k.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.Xr(r),o=i<0?0:i;return k.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return k.resolve(this.mutationQueue.length===0?KE:this.er-1)}getAllMutationBatches(e){return k.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new $e(t,0),i=new $e(t,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([r,i],s=>{let c=this.Zr(s.Hr);o.push(c)}),k.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new et(ie);return t.forEach(i=>{let o=new $e(i,0),s=new $e(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,s],c=>{r=r.add(c.Hr)})}),k.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;H.isDocumentKey(o)||(o=o.child(""));let s=new $e(new H(o),0),c=new et(ie);return this.Yr.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(c=c.add(u.Hr)),!0)},s),k.resolve(this.ei(c))}ei(e){let t=[];return e.forEach(r=>{let i=this.Zr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){me(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return k.forEach(t.mutations,i=>{let o=new $e(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,t){let r=new $e(t,0),i=this.Yr.firstAfterOrEqual(r);return k.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,k.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){let t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var oE=class{constructor(e){this.ni=e,this.docs=(function(){return new Oe(H.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.ni(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return k.resolve(r?r.document.mutableCopy():vn.newInvalidDocument(t))}getEntries(e,t){let r=_r();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():vn.newInvalidDocument(i))}),k.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=_r(),s=t.path,c=new H(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||sB(oB(h),r)<=0||(i.has(h.key)||Of(t,h))&&(o=o.insert(h.key,h.mutableCopy()))}return k.resolve(o)}getAllFromCollectionGroup(e,t,r,i){q(9500)}ri(e,t){return k.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new sE(this)}getSize(e){return k.resolve(this.size)}},sE=class extends J_{constructor(e){super(),this.Or=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),k.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}};var aE=class{constructor(e){this.persistence=e,this.ii=new vr(t=>XE(t),eI),this.lastRemoteSnapshotVersion=te.min(),this.highestTargetId=0,this.si=0,this.oi=new Iu,this.targetCount=0,this._i=Eu.ar()}forEachTarget(e,t){return this.ii.forEach((r,i)=>t(i)),k.resolve()}getLastRemoteSnapshotVersion(e){return k.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return k.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),k.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.si&&(this.si=t),k.resolve()}hr(e){this.ii.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this._i=new Eu(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,k.resolve()}updateTargetData(e,t){return this.hr(t),k.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,k.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.ii.forEach((s,c)=>{c.sequenceNumber<=t&&r.get(c.targetId)===null&&(this.ii.delete(s),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),k.waitFor(o).next(()=>i)}getTargetCount(e){return k.resolve(this.targetCount)}getTargetData(e,t){let r=this.ii.get(t)||null;return k.resolve(r)}addMatchingKeys(e,t,r){return this.oi.Kr(t,r),k.resolve()}removeMatchingKeys(e,t,r){this.oi.Gr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),k.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),k.resolve()}getMatchingKeysForTargetId(e,t){let r=this.oi.Jr(t);return k.resolve(r)}containsKey(e,t){return k.resolve(this.oi.containsKey(t))}};var df=class{constructor(e,t){this.ai={},this.overlays={},this.ui=new WE(0),this.ci=!1,this.ci=!0,this.li=new rE,this.referenceDelegate=e(this),this.hi=new aE(this),this.indexManager=new W_,this.remoteDocumentCache=(function(i){return new oE(i)})(r=>this.referenceDelegate.Pi(r)),this.serializer=new G_(t),this.Ti=new tE(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new nE,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ai[e.toKey()];return r||(r=new iE(t,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,r){L("MemoryPersistence","Starting transaction:",e);let i=new cE(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ei(e,t){return k.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,t)))}},cE=class extends v_{constructor(e){super(),this.currentSequenceNumber=e}},uE=class n{constructor(e){this.persistence=e,this.Ai=new Iu,this.Ri=null}static Vi(e){return new n(e)}get mi(){if(this.Ri)return this.Ri;throw q(60996)}addReference(e,t,r){return this.Ai.addReference(r,t),this.mi.delete(r.toString()),k.resolve()}removeReference(e,t,r){return this.Ai.removeReference(r,t),this.mi.add(r.toString()),k.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),k.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(i=>this.mi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.mi.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return k.forEach(this.mi,r=>{let i=H.fromPath(r);return this.fi(e,i).next(o=>{o||t.removeEntry(i,te.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(r=>{r?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return k.or([()=>k.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}},hf=class n{constructor(e,t){this.persistence=e,this.gi=new vr(r=>lB(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=a$(this,t)}static Vi(e,t){return new n(e,t)}Ii(){}di(e){return k.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){let t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}yr(e){let t=0;return this.gr(e,r=>{t++}).next(()=>t)}gr(e,t){return k.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(o=>o?k.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ri(e,s=>this.Sr(e,s,t).next(c=>{c||(r++,o.removeEntry(s,te.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),k.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),k.resolve()}removeReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),k.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),k.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Wh(e.data.value)),t}Sr(e,t,r){return k.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.gi.get(t);return k.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var lE=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Is=r,this.ds=i}static Es(e,t){let r=se(),i=se();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var dE=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var hE=class{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return NS()?8:cB(Je())>0?6:4})()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.ps(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ys(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new dE;return this.ws(e,t,s).next(c=>{if(o.result=c,this.Rs)return this.Ss(e,t,s,c.size)})}).next(()=>o.result)}Ss(e,t,r,i){return r.documentReadCount<this.Vs?(Fs()<=oe.DEBUG&&L("QueryEngine","SDK will not create cache indexes for query:",Vs(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),k.resolve()):(Fs()<=oe.DEBUG&&L("QueryEngine","Query:",Vs(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(Fs()<=oe.DEBUG&&L("QueryEngine","The SDK decides to create cache indexes for query:",Vs(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,jn(t))):k.resolve())}ps(e,t){if(w0(t))return k.resolve(null);let r=jn(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=P_(t,null,"F"),r=jn(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=se(...o);return this.gs.getDocuments(e,s).next(c=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.bs(t,c);return this.Ds(t,l,s,u.readTime)?this.ps(e,P_(t,null,"F")):this.vs(e,l,t,u)}))})))}ys(e,t,r,i){return w0(t)||i.isEqual(te.min())?k.resolve(null):this.gs.getDocuments(e,r).next(o=>{let s=this.bs(t,o);return this.Ds(t,s,r,i)?k.resolve(null):(Fs()<=oe.DEBUG&&L("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Vs(t)),this.vs(e,s,t,iB(i,fu)).next(c=>c))})}bs(e,t){let r=new et(SR(e));return t.forEach((i,o)=>{Of(e,o)&&(r=r.add(o))}),r}Ds(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ws(e,t,r){return Fs()<=oe.DEBUG&&L("QueryEngine","Using full collection scan to execute query:",Vs(t)),this.gs.getDocumentsMatchingQuery(e,t,wo.min(),r)}vs(e,t,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var iI="LocalStore",c$=3e8,fE=class{constructor(e,t,r,i){this.persistence=e,this.Cs=t,this.serializer=i,this.Fs=new Oe(ie),this.Ms=new vr(o=>XE(o),eI),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new eE(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}};function u$(n,e,t,r){return new fE(n,e,t,r)}function WR(n,e){return E(this,null,function*(){let t=X(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Ns(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],c=[],u=se();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){c.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return t.localDocuments.getDocuments(r,u).next(l=>({Bs:l,removedBatchIds:s,addedBatchIds:c}))})})})}function l$(n,e){let t=X(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=t.Os.newChangeBuffer({trackRemovals:!0});return(function(c,u,l,h){let p=l.batch,m=p.keys(),y=k.resolve();return m.forEach(A=>{y=y.next(()=>h.getEntry(u,A)).next(P=>{let N=l.docVersions.get(A);me(N!==null,48541),P.version.compareTo(N)<0&&(p.applyToRemoteDocument(P,l),P.isValidDocument()&&(P.setReadTime(l.commitVersion),h.addEntry(P)))})}),y.next(()=>c.mutationQueue.removeMutationBatch(u,p))})(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(c){let u=se();for(let l=0;l<c.mutationResults.length;++l)c.mutationResults[l].transformResults.length>0&&(u=u.add(c.batch.mutations[l].key));return u})(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function KR(n){let e=X(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function d$(n,e){let t=X(n),r=e.snapshotVersion,i=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.Os.newChangeBuffer({trackRemovals:!0});i=t.Fs;let c=[];e.targetChanges.forEach((h,p)=>{let m=i.get(p);if(!m)return;c.push(t.hi.removeMatchingKeys(o,h.removedDocuments,p).next(()=>t.hi.addMatchingKeys(o,h.addedDocuments,p)));let y=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(yt.EMPTY_BYTE_STRING,te.min()).withLastLimboFreeSnapshotVersion(te.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(p,y),(function(P,N,F){return P.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=c$?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0})(m,y,h)&&c.push(t.hi.updateTargetData(o,y))});let u=_r(),l=se();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(o,h))}),c.push(h$(o,s,e.documentUpdates).next(h=>{u=h.Ls,l=h.ks})),!r.isEqual(te.min())){let h=t.hi.getLastRemoteSnapshotVersion(o).next(p=>t.hi.setTargetsMetadata(o,o.currentSequenceNumber,r));c.push(h)}return k.waitFor(c).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(t.Fs=i,o))}function h$(n,e,t){let r=se(),i=se();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=_r();return t.forEach((c,u)=>{let l=o.get(c);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(c)),u.isNoDocument()&&u.version.isEqual(te.min())?(e.removeEntry(c,u.readTime),s=s.insert(c,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(c,u)):L(iI,"Ignoring outdated watch update for ",c,". Current version:",l.version," Watch version:",u.version)}),{Ls:s,ks:i}})}function f$(n,e){let t=X(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=KE),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function p$(n,e){let t=X(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.hi.getTargetData(r,e).next(o=>o?(i=o,k.resolve(i)):t.hi.allocateTargetId(r).next(s=>(i=new _u(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(r.targetId,r),t.Ms.set(e,r.targetId)),r})}function pE(n,e,t){return E(this,null,function*(){let r=X(n),i=r.Fs.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!aa(s))throw s;L(iI,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)})}function O0(n,e,t){let r=X(n),i=te.min(),o=se();return r.persistence.runTransaction("Execute query","readwrite",s=>(function(u,l,h){let p=X(u),m=p.Ms.get(h);return m!==void 0?k.resolve(p.Fs.get(m)):p.hi.getTargetData(l,h)})(r,s,jn(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(s,c.targetId).next(u=>{o=u})}).next(()=>r.Cs.getDocumentsMatchingQuery(s,e,t?i:te.min(),t?o:se())).next(c=>(g$(r,AB(e),c),{documents:c,qs:o})))}function g$(n,e,t){let r=n.xs.get(e)||te.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.xs.set(e,r)}var ff=class{constructor(){this.activeTargetIds=xB()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var gE=class{constructor(){this.Fo=new ff,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,r){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new ff,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var mE=class{xo(e){}shutdown(){}};var L0="ConnectivityMonitor",pf=class{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){L(L0,"Network connectivity changed: AVAILABLE");for(let e of this.ko)e(0)}Lo(){L(L0,"Network connectivity changed: UNAVAILABLE");for(let e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Gh=null;function yE(){return Gh===null?Gh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Gh++,"0x"+Gh.toString(16)}var s_="RestConnection",m$={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},vE=class{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===tf?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,t,r,i,o){let s=yE(),c=this.Go(e,t.toUriEncodedString());L(s_,`Sending RPC '${e}' ${s}:`,c,r);let u={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(u,i,o);let{host:l}=new URL(c),h=Xr(l);return this.jo(e,c,u,r,h).then(p=>(L(s_,`Received RPC '${e}' ${s}: `,p),p),p=>{throw di(s_,`RPC '${e}' ${s} failed with error: `,p,"url: ",c,"request:",r),p})}Jo(e,t,r,i,o,s){return this.Wo(e,t,r,i,o)}zo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+oa})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}Go(e,t){let r=m$[e];return`${this.$o}/v1/${t}:${r}`}terminate(){}};var _E=class{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}};var gt="WebChannelConnection",EE=class extends vE{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,r,i,o){let s=yE();return new Promise((c,u)=>{let l=new e_;l.setWithCredentials(!0),l.listenOnce(t_.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case su.NO_ERROR:let p=l.getResponseJson();L(gt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),c(p);break;case su.TIMEOUT:L(gt,`RPC '${e}' ${s} timed out`),u(new V(M.DEADLINE_EXCEEDED,"Request time out"));break;case su.HTTP_ERROR:let m=l.getStatus();if(L(gt,`RPC '${e}' ${s} failed with status:`,m,"response text:",l.getResponseText()),m>0){let y=l.getResponseJson();Array.isArray(y)&&(y=y[0]);let A=y?.error;if(A&&A.status&&A.message){let P=(function(F){let K=F.toLowerCase().replace(/_/g,"-");return Object.values(M).indexOf(K)>=0?K:M.UNKNOWN})(A.status);u(new V(P,A.message))}else u(new V(M.UNKNOWN,"Server responded with status "+l.getStatus()))}else u(new V(M.UNAVAILABLE,"Connection failed."));break;default:q(9055,{c_:e,streamId:s,l_:l.getLastErrorCode(),h_:l.getLastError()})}}finally{L(gt,`RPC '${e}' ${s} completed.`)}});let h=JSON.stringify(i);L(gt,`RPC '${e}' ${s} sending request:`,i),l.send(t,"POST",h,r,15)})}P_(e,t,r){let i=yE(),o=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=i_(),c=r_(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.zo(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;let h=o.join("");L(gt,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=s.createWebChannel(h,u);this.T_(p);let m=!1,y=!1,A=new _E({Ho:N=>{y?L(gt,`Not sending because RPC '${e}' stream ${i} is closed:`,N):(m||(L(gt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),L(gt,`RPC '${e}' stream ${i} sending:`,N),p.send(N))},Yo:()=>p.close()}),P=(N,F,K)=>{N.listen(F,Q=>{try{K(Q)}catch(we){setTimeout(()=>{throw we},0)}})};return P(p,Ls.EventType.OPEN,()=>{y||(L(gt,`RPC '${e}' stream ${i} transport opened.`),A.s_())}),P(p,Ls.EventType.CLOSE,()=>{y||(y=!0,L(gt,`RPC '${e}' stream ${i} transport closed`),A.__(),this.I_(p))}),P(p,Ls.EventType.ERROR,N=>{y||(y=!0,di(gt,`RPC '${e}' stream ${i} transport errored. Name:`,N.name,"Message:",N.message),A.__(new V(M.UNAVAILABLE,"The operation could not be completed")))}),P(p,Ls.EventType.MESSAGE,N=>{var F;if(!y){let K=N.data[0];me(!!K,16349);let Q=K,we=Q?.error||((F=Q[0])===null||F===void 0?void 0:F.error);if(we){L(gt,`RPC '${e}' stream ${i} received error:`,we);let vt=we.status,ye=(function(I){let w=Be[I];if(w!==void 0)return VR(w)})(vt),T=we.message;ye===void 0&&(ye=M.INTERNAL,T="Unknown error status: "+vt+" with message "+we.message),y=!0,A.__(new V(ye,T)),p.close()}else L(gt,`RPC '${e}' stream ${i} received:`,K),A.a_(K)}}),P(c,n_.STAT_EVENT,N=>{N.stat===Hh.PROXY?L(gt,`RPC '${e}' stream ${i} detected buffering proxy`):N.stat===Hh.NOPROXY&&L(gt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{A.o_()},0),A}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}};function a_(){return typeof document<"u"?document:null}function Lf(n){return new B_(n,!0)}var gf=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.Fi=e,this.timerId=t,this.d_=r,this.E_=i,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();let t=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,t-r);i>0&&L("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var F0="PersistentStream",mf=class{constructor(e,t,r,i,o,s,c,u){this.Fi=e,this.w_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new gf(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}stop(){return E(this,null,function*(){this.M_()&&(yield this.close(0))})}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}L_(){return E(this,null,function*(){if(this.x_())return this.close(0)})}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}close(e,t){return E(this,null,function*(){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===M.RESOURCE_EXHAUSTED?(gr(t.toString()),gr("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===M.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.n_(t)})}U_(){}auth(){this.state=1;let e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===t&&this.W_(r,i)},r=>{e(()=>{let i=new V(M.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,t){let r=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(()=>E(this,null,function*(){this.state=0,this.start()}))}G_(e){return L(F0,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(L(F0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},IE=class extends mf{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();let t=KB(this.serializer,e),r=(function(o){if(!("targetChange"in o))return te.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?te.min():s.readTime?Bn(s.readTime):te.min()})(e);return this.listener.J_(t,r)}H_(e){let t={};t.database=q_(this.serializer),t.addTarget=(function(o,s){let c,u=s.target;if(c=M_(u)?{documents:ZB(o,u)}:{query:JB(o,u).Vt},c.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){c.resumeToken=jR(o,s.resumeToken);let l=$_(o,s.expectedCount);l!==null&&(c.expectedCount=l)}else if(s.snapshotVersion.compareTo(te.min())>0){c.readTime=uf(o,s.snapshotVersion.toTimestamp());let l=$_(o,s.expectedCount);l!==null&&(c.expectedCount=l)}return c})(this.serializer,e);let r=e$(this.serializer,e);r&&(t.labels=r),this.k_(t)}Y_(e){let t={};t.database=q_(this.serializer),t.removeTarget=e,this.k_(t)}},wE=class extends mf{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return me(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,me(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){me(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();let t=YB(e.writeResults,e.commitTime),r=Bn(e.commitTime);return this.listener.ta(r,t)}na(){let e={};e.database=q_(this.serializer),this.k_(e)}X_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>QB(this.serializer,r))};this.k_(t)}};var TE=class{},DE=class extends TE{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new V(M.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Wo(e,H_(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new V(M.UNKNOWN,o.toString())})}Jo(e,t,r,i,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,c])=>this.connection.Jo(e,H_(t,r),i,s,c,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new V(M.UNKNOWN,s.toString())})}terminate(){this.ra=!0,this.connection.terminate()}},bE=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(gr(t),this._a=!1):L("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}};var Co="RemoteStore",CE=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo(s=>{r.enqueueAndForget(()=>E(this,null,function*(){Ao(this)&&(L(Co,"Restarting streams for network reachability change."),yield(function(u){return E(this,null,function*(){let l=X(u);l.Ia.add(4),yield Du(l),l.Aa.set("Unknown"),l.Ia.delete(4),yield Ff(l)})})(this))}))}),this.Aa=new bE(r,i)}};function Ff(n){return E(this,null,function*(){if(Ao(n))for(let e of n.da)yield e(!0)})}function Du(n){return E(this,null,function*(){for(let e of n.da)yield e(!1)})}function QR(n,e){let t=X(n);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),cI(t)?aI(t):ca(t).x_()&&sI(t,e))}function oI(n,e){let t=X(n),r=ca(t);t.Ta.delete(e),r.x_()&&YR(t,e),t.Ta.size===0&&(r.x_()?r.B_():Ao(t)&&t.Aa.set("Unknown"))}function sI(n,e){if(n.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(te.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ca(n).H_(e)}function YR(n,e){n.Ra.$e(e),ca(n).Y_(e)}function aI(n){n.Ra=new U_({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Ta.get(e)||null,lt:()=>n.datastore.serializer.databaseId}),ca(n).start(),n.Aa.aa()}function cI(n){return Ao(n)&&!ca(n).M_()&&n.Ta.size>0}function Ao(n){return X(n).Ia.size===0}function ZR(n){n.Ra=void 0}function y$(n){return E(this,null,function*(){n.Aa.set("Online")})}function v$(n){return E(this,null,function*(){n.Ta.forEach((e,t)=>{sI(n,e)})})}function _$(n,e){return E(this,null,function*(){ZR(n),cI(n)?(n.Aa.la(e),aI(n)):n.Aa.set("Unknown")})}function E$(n,e,t){return E(this,null,function*(){if(n.Aa.set("Online"),e instanceof af&&e.state===2&&e.cause)try{yield(function(i,o){return E(this,null,function*(){let s=o.cause;for(let c of o.targetIds)i.Ta.has(c)&&(yield i.remoteSyncer.rejectListen(c,s),i.Ta.delete(c),i.Ra.removeTarget(c))})})(n,e)}catch(r){L(Co,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield yf(n,r)}else if(e instanceof $s?n.Ra.Ye(e):e instanceof sf?n.Ra.it(e):n.Ra.et(e),!t.isEqual(te.min()))try{let r=yield KR(n.localStore);t.compareTo(r)>=0&&(yield(function(o,s){let c=o.Ra.Pt(s);return c.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o.Ta.get(l);h&&o.Ta.set(l,h.withResumeToken(u.resumeToken,s))}}),c.targetMismatches.forEach((u,l)=>{let h=o.Ta.get(u);if(!h)return;o.Ta.set(u,h.withResumeToken(yt.EMPTY_BYTE_STRING,h.snapshotVersion)),YR(o,u);let p=new _u(h.target,u,l,h.sequenceNumber);sI(o,p)}),o.remoteSyncer.applyRemoteEvent(c)})(n,t))}catch(r){L(Co,"Failed to raise snapshot:",r),yield yf(n,r)}})}function yf(n,e,t){return E(this,null,function*(){if(!aa(e))throw e;n.Ia.add(1),yield Du(n),n.Aa.set("Offline"),t||(t=()=>KR(n.localStore)),n.asyncQueue.enqueueRetryable(()=>E(null,null,function*(){L(Co,"Retrying IndexedDB access"),yield t(),n.Ia.delete(1),yield Ff(n)}))})}function JR(n,e){return e().catch(t=>yf(n,t,e))}function Vf(n){return E(this,null,function*(){let e=X(n),t=pi(e),r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:KE;for(;I$(e);)try{let i=yield f$(e.localStore,r);if(i===null){e.Pa.length===0&&t.B_();break}r=i.batchId,w$(e,i)}catch(i){yield yf(e,i)}XR(e)&&eN(e)})}function I$(n){return Ao(n)&&n.Pa.length<10}function w$(n,e){n.Pa.push(e);let t=pi(n);t.x_()&&t.Z_&&t.X_(e.mutations)}function XR(n){return Ao(n)&&!pi(n).M_()&&n.Pa.length>0}function eN(n){pi(n).start()}function T$(n){return E(this,null,function*(){pi(n).na()})}function D$(n){return E(this,null,function*(){let e=pi(n);for(let t of n.Pa)e.X_(t.mutations)})}function b$(n,e,t){return E(this,null,function*(){let r=n.Pa.shift(),i=L_.from(r,e,t);yield JR(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Vf(n)})}function C$(n,e){return E(this,null,function*(){e&&pi(n).Z_&&(yield(function(r,i){return E(this,null,function*(){if((function(s){return BB(s)&&s!==M.ABORTED})(i.code)){let o=r.Pa.shift();pi(r).N_(),yield JR(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Vf(r)}})})(n,e)),XR(n)&&eN(n)})}function V0(n,e){return E(this,null,function*(){let t=X(n);t.asyncQueue.verifyOperationInProgress(),L(Co,"RemoteStore received new credentials");let r=Ao(t);t.Ia.add(3),yield Du(t),r&&t.Aa.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),yield Ff(t)})}function S$(n,e){return E(this,null,function*(){let t=X(n);e?(t.Ia.delete(2),yield Ff(t)):e||(t.Ia.add(2),yield Du(t),t.Aa.set("Unknown"))})}function ca(n){return n.Va||(n.Va=(function(t,r,i){let o=X(t);return o.ia(),new IE(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(n.datastore,n.asyncQueue,{Zo:y$.bind(null,n),e_:v$.bind(null,n),n_:_$.bind(null,n),J_:E$.bind(null,n)}),n.da.push(e=>E(null,null,function*(){e?(n.Va.N_(),cI(n)?aI(n):n.Aa.set("Unknown")):(yield n.Va.stop(),ZR(n))}))),n.Va}function pi(n){return n.ma||(n.ma=(function(t,r,i){let o=X(t);return o.ia(),new wE(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),e_:T$.bind(null,n),n_:C$.bind(null,n),ea:D$.bind(null,n),ta:b$.bind(null,n)}),n.da.push(e=>E(null,null,function*(){e?(n.ma.N_(),yield Vf(n)):(yield n.ma.stop(),n.Pa.length>0&&(L(Co,`Stopping write stream with ${n.Pa.length} pending writes`),n.Pa=[]))}))),n.ma}var SE=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new yn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,c=new n(e,t,s,i,o);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new V(M.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function uI(n,e){if(gr("AsyncQueue",`${e}: ${n}`),aa(n))return new V(M.UNAVAILABLE,`${e}: ${n}`);throw n}var vf=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||H.comparator(t.key,r.key):(t,r)=>H.comparator(t.key,r.key),this.keyedMap=au(),this.sortedSet=new Oe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var _f=class{constructor(){this.fa=new Oe(H.comparator)}track(e){let t=e.doc.key,r=this.fa.get(t);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(t,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(t):e.type===1&&r.type===2?this.fa=this.fa.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):q(63341,{At:e,ga:r}):this.fa=this.fa.insert(t,e)}pa(){let e=[];return this.fa.inorderTraversal((t,r)=>{e.push(r)}),e}},na=class n{constructor(e,t,r,i,o,s,c,u,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=c,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(c=>{s.push({type:0,doc:c})}),new n(e,t,vf.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var AE=class{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}},RE=class{constructor(){this.queries=j0(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,r){let i=X(t),o=i.queries;i.queries=j0(),o.forEach((s,c)=>{for(let u of c.wa)u.onError(r)})})(this,new V(M.ABORTED,"Firestore shutting down"))}};function j0(){return new vr(n=>CR(n),xf)}function tN(n,e){return E(this,null,function*(){let t=X(n),r=3,i=e.query,o=t.queries.get(i);o?!o.Sa()&&e.ba()&&(r=2):(o=new AE,r=e.ba()?0:1);try{switch(r){case 0:o.ya=yield t.onListen(i,!0);break;case 1:o.ya=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){let c=uI(s,`Initialization of query '${Vs(e.query)}' failed`);return void e.onError(c)}t.queries.set(i,o),o.wa.push(e),e.va(t.onlineState),o.ya&&e.Ca(o.ya)&&lI(t)})}function nN(n,e){return E(this,null,function*(){let t=X(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.wa.indexOf(e);s>=0&&(o.wa.splice(s,1),o.wa.length===0?i=e.ba()?0:1:!o.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function A$(n,e){let t=X(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let c of s.wa)c.Ca(i)&&(r=!0);s.ya=i}}r&&lI(t)}function R$(n,e,t){let r=X(n),i=r.queries.get(e);if(i)for(let o of i.wa)o.onError(t);r.queries.delete(e)}function lI(n){n.Da.forEach(e=>{e.next()})}var NE,U0;(U0=NE||(NE={})).Fa="default",U0.Cache="cache";var Ef=class{constructor(e,t,r){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new na(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;let r=t!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;let t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=na.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==NE.Cache}};var If=class{constructor(e){this.key=e}},wf=class{constructor(e){this.key=e}},ME=class{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=se(),this.mutatedKeys=se(),this.Xa=SR(e),this.eu=new vf(this.Xa)}get tu(){return this.Ha}nu(e,t){let r=t?t.ru:new _f,i=t?t.eu:this.eu,o=t?t.mutatedKeys:this.mutatedKeys,s=i,c=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let m=i.get(h),y=Of(this.query,p)?p:null,A=!!m&&this.mutatedKeys.has(m.key),P=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),N=!1;m&&y?m.data.isEqual(y.data)?A!==P&&(r.track({type:3,doc:y}),N=!0):this.iu(m,y)||(r.track({type:2,doc:y}),N=!0,(u&&this.Xa(y,u)>0||l&&this.Xa(y,l)<0)&&(c=!0)):!m&&y?(r.track({type:0,doc:y}),N=!0):m&&!y&&(r.track({type:1,doc:m}),N=!0,(u||l)&&(c=!0)),N&&(y?(s=s.add(y),o=P?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{eu:s,ru:r,Ds:c,mutatedKeys:o}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;let s=e.ru.pa();s.sort((h,p)=>(function(y,A){let P=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return q(20277,{At:N})}};return P(y)-P(A)})(h.type,p.type)||this.Xa(h.doc,p.doc)),this.su(r),i=i!=null&&i;let c=t&&!i?this.ou():[],u=this.Za.size===0&&this.current&&!i?1:0,l=u!==this.Ya;return this.Ya=u,s.length!==0||l?{snapshot:new na(this.query,e.eu,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:c}:{_u:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new _f,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];let e=this.Za;this.Za=se(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});let t=[];return e.forEach(r=>{this.Za.has(r)||t.push(new wf(r))}),this.Za.forEach(r=>{e.has(r)||t.push(new If(r))}),t}uu(e){this.Ha=e.qs,this.Za=se();let t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return na.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}},dI="SyncEngine",PE=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},kE=class{constructor(e){this.key=e,this.lu=!1}},xE=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.hu={},this.Pu=new vr(c=>CR(c),xf),this.Tu=new Map,this.Iu=new Set,this.du=new Oe(H.comparator),this.Eu=new Map,this.Au=new Iu,this.Ru={},this.Vu=new Map,this.mu=Eu.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}};function N$(n,e,t=!0){return E(this,null,function*(){let r=cN(n),i,o=r.Pu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.cu()):i=yield rN(r,e,t,!0),i})}function M$(n,e){return E(this,null,function*(){let t=cN(n);yield rN(t,e,!0,!1)})}function rN(n,e,t,r){return E(this,null,function*(){let i=yield p$(n.localStore,jn(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),c;return r&&(c=yield P$(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&QR(n.remoteStore,i),c})}function P$(n,e,t,r,i){return E(this,null,function*(){n.gu=(p,m,y)=>(function(P,N,F,K){return E(this,null,function*(){let Q=N.view.nu(F);Q.Ds&&(Q=yield O0(P.localStore,N.query,!1).then(({documents:T})=>N.view.nu(T,Q)));let we=K&&K.targetChanges.get(N.targetId),vt=K&&K.targetMismatches.get(N.targetId)!=null,ye=N.view.applyChanges(Q,P.isPrimaryClient,we,vt);return $0(P,N.targetId,ye._u),ye.snapshot})})(n,p,m,y);let o=yield O0(n.localStore,e,!0),s=new ME(e,o.qs),c=s.nu(o.documents),u=vu.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),l=s.applyChanges(c,n.isPrimaryClient,u);$0(n,t,l._u);let h=new PE(e,t,s);return n.Pu.set(e,h),n.Tu.has(t)?n.Tu.get(t).push(e):n.Tu.set(t,[e]),l.snapshot})}function k$(n,e,t){return E(this,null,function*(){let r=X(n),i=r.Pu.get(e),o=r.Tu.get(i.targetId);if(o.length>1)return r.Tu.set(i.targetId,o.filter(s=>!xf(s,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield pE(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&oI(r.remoteStore,i.targetId),OE(r,i.targetId)}).catch(sa))):(OE(r,i.targetId),yield pE(r.localStore,i.targetId,!0))})}function x$(n,e){return E(this,null,function*(){let t=X(n),r=t.Pu.get(e),i=t.Tu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),oI(t.remoteStore,r.targetId))})}function O$(n,e,t){return E(this,null,function*(){let r=$$(n);try{let i=yield(function(s,c){let u=X(s),l=ze.now(),h=c.reduce((y,A)=>y.add(A.key),se()),p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let A=_r(),P=se();return u.Os.getEntries(y,h).next(N=>{A=N,A.forEach((F,K)=>{K.isValidDocument()||(P=P.add(F))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,A)).next(N=>{p=N;let F=[];for(let K of c){let Q=UB(K,p.get(K.key).overlayedDocument);Q!=null&&F.push(new zn(K.key,Q,ER(Q.value.mapValue),Un.exists(!0)))}return u.mutationQueue.addMutationBatch(y,l,F,c)}).next(N=>{m=N;let F=N.applyToLocalDocumentSet(p,P);return u.documentOverlayCache.saveOverlays(y,N.batchId,F)})}).then(()=>({batchId:m.batchId,changes:RR(p)}))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(s,c,u){let l=s.Ru[s.currentUser.toKey()];l||(l=new Oe(ie)),l=l.insert(c,u),s.Ru[s.currentUser.toKey()]=l})(r,i.batchId,t),yield bu(r,i.changes),yield Vf(r.remoteStore)}catch(i){let o=uI(i,"Failed to persist write");t.reject(o)}})}function iN(n,e){return E(this,null,function*(){let t=X(n);try{let r=yield d$(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Eu.get(o);s&&(me(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.lu=!0:i.modifiedDocuments.size>0?me(s.lu,14607):i.removedDocuments.size>0&&(me(s.lu,42227),s.lu=!1))}),yield bu(t,r,e)}catch(r){yield sa(r)}})}function B0(n,e,t){let r=X(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Pu.forEach((o,s)=>{let c=s.view.va(e);c.snapshot&&i.push(c.snapshot)}),(function(s,c){let u=X(s);u.onlineState=c;let l=!1;u.queries.forEach((h,p)=>{for(let m of p.wa)m.va(c)&&(l=!0)}),l&&lI(u)})(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function L$(n,e,t){return E(this,null,function*(){let r=X(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Eu.get(e),o=i&&i.key;if(o){let s=new Oe(H.comparator);s=s.insert(o,vn.newNoDocument(o,te.min()));let c=se().add(o),u=new of(te.min(),new Map,new Oe(ie),s,c);yield iN(r,u),r.du=r.du.remove(o),r.Eu.delete(e),hI(r)}else yield pE(r.localStore,e,!1).then(()=>OE(r,e,t)).catch(sa)})}function F$(n,e){return E(this,null,function*(){let t=X(n),r=e.batch.batchId;try{let i=yield l$(t.localStore,e);sN(t,r,null),oN(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield bu(t,i)}catch(i){yield sa(i)}})}function V$(n,e,t){return E(this,null,function*(){let r=X(n);try{let i=yield(function(s,c){let u=X(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,c).next(p=>(me(p!==null,37113),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,c)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})})(r.localStore,e);sN(r,e,t),oN(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield bu(r,i)}catch(i){yield sa(i)}})}function oN(n,e){(n.Vu.get(e)||[]).forEach(t=>{t.resolve()}),n.Vu.delete(e)}function sN(n,e,t){let r=X(n),i=r.Ru[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function OE(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Tu.get(e))n.Pu.delete(r),t&&n.hu.pu(r,t);n.Tu.delete(e),n.isPrimaryClient&&n.Au.zr(e).forEach(r=>{n.Au.containsKey(r)||aN(n,r)})}function aN(n,e){n.Iu.delete(e.path.canonicalString());let t=n.du.get(e);t!==null&&(oI(n.remoteStore,t),n.du=n.du.remove(e),n.Eu.delete(t),hI(n))}function $0(n,e,t){for(let r of t)r instanceof If?(n.Au.addReference(r.key,e),j$(n,r)):r instanceof wf?(L(dI,"Document no longer in limbo: "+r.key),n.Au.removeReference(r.key,e),n.Au.containsKey(r.key)||aN(n,r.key)):q(19791,{yu:r})}function j$(n,e){let t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Iu.has(r)||(L(dI,"New document in limbo: "+t),n.Iu.add(r),hI(n))}function hI(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){let e=n.Iu.values().next().value;n.Iu.delete(e);let t=new H(Ne.fromString(e)),r=n.mu.next();n.Eu.set(r,new kE(t)),n.du=n.du.insert(t,r),QR(n.remoteStore,new _u(jn(tI(t.path)),r,"TargetPurposeLimboResolution",WE.ue))}}function bu(n,e,t){return E(this,null,function*(){let r=X(n),i=[],o=[],s=[];r.Pu.isEmpty()||(r.Pu.forEach((c,u)=>{s.push(r.gu(u,e,t).then(l=>{var h;if((l||t)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=t?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=lE.Es(u.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.hu.J_(i),yield(function(u,l){return E(this,null,function*(){let h=X(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>k.forEach(l,m=>k.forEach(m.Is,y=>h.persistence.referenceDelegate.addReference(p,m.targetId,y)).next(()=>k.forEach(m.ds,y=>h.persistence.referenceDelegate.removeReference(p,m.targetId,y)))))}catch(p){if(!aa(p))throw p;L(iI,"Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let y=h.Fs.get(m),A=y.snapshotVersion,P=y.withLastLimboFreeSnapshotVersion(A);h.Fs=h.Fs.insert(m,P)}}})})(r.localStore,o))})}function U$(n,e){return E(this,null,function*(){let t=X(n);if(!t.currentUser.isEqual(e)){L(dI,"User change. New user:",e.toKey());let r=yield WR(t.localStore,e);t.currentUser=e,(function(o,s){o.Vu.forEach(c=>{c.forEach(u=>{u.reject(new V(M.CANCELLED,s))})}),o.Vu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield bu(t,r.Bs)}})}function B$(n,e){let t=X(n),r=t.Eu.get(e);if(r&&r.lu)return se().add(r.key);{let i=se(),o=t.Tu.get(e);if(!o)return i;for(let s of o){let c=t.Pu.get(s);i=i.unionWith(c.view.tu)}return i}}function cN(n){let e=X(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=iN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=B$.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=L$.bind(null,e),e.hu.J_=A$.bind(null,e.eventManager),e.hu.pu=R$.bind(null,e.eventManager),e}function $$(n){let e=X(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=F$.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=V$.bind(null,e),e}var uN=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return E(this,null,function*(){this.serializer=Lf(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Du(t),yield this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Cu(t,this.localStore),this.indexBackfillerScheduler=this.Fu(t,this.localStore)})}Cu(t,r){return null}Fu(t,r){return null}vu(t){return u$(this.persistence,new hE,t.initialUser,this.serializer)}Du(t){return new df(uE.Vi,this.serializer)}bu(t){return new gE}terminate(){return E(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})(),LE=class extends uN{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){me(this.persistence.referenceDelegate instanceof hf,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new Y_(r,e.asyncQueue,t)}Du(e){let t=this.cacheSizeBytes!==void 0?Jt.withCacheSize(this.cacheSizeBytes):Jt.DEFAULT;return new df(r=>hf.Vi(r,t),this.serializer)}};var H$=(()=>{class n{initialize(t,r){return E(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>B0(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=U$.bind(null,this.syncEngine),yield S$(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return(function(){return new RE})()}createDatastore(t){let r=Lf(t.databaseInfo.databaseId),i=(function(s){return new EE(s)})(t.databaseInfo);return(function(s,c,u,l){return new DE(s,c,u,l)})(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return(function(i,o,s,c,u){return new CE(i,o,s,c,u)})(this.localStore,this.datastore,t.asyncQueue,r=>B0(this.syncEngine,r,0),(function(){return pf.C()?new pf:new mE})())}createSyncEngine(t,r){return(function(o,s,c,u,l,h,p){let m=new xE(o,s,c,u,l,h);return p&&(m.fu=!0),m})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return E(this,null,function*(){var t,r;yield(function(o){return E(this,null,function*(){let s=X(o);L(Co,"RemoteStore shutting down."),s.Ia.add(5),yield Du(s),s.Ea.shutdown(),s.Aa.set("Unknown")})})(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var Tf=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):gr("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var gi="FirestoreClient",FE=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Xe.UNAUTHENTICATED,this.clientId=hu.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>E(this,null,function*(){L(gi,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(L(gi,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new yn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>E(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=uI(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function c_(n,e){return E(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),L(gi,"Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>E(null,null,function*(){r.isEqual(i)||(yield WR(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>{di("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then(()=>{L("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{di("Terminating Firestore due to IndexedDb database deletion failed",i)})}),n._offlineComponents=e})}function H0(n,e){return E(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield z$(n);L(gi,"Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>V0(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>V0(e.remoteStore,i)),n._onlineComponents=e})}function z$(n){return E(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){L(gi,"Using user provided OfflineComponentProvider");try{yield c_(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!(function(i){return i.name==="FirebaseError"?i.code===M.FAILED_PRECONDITION||i.code===M.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(t))throw t;di("Error using user provided cache. Falling back to memory cache: "+t),yield c_(n,new uN)}}else L(gi,"Using default OfflineComponentProvider"),yield c_(n,new LE(void 0));return n._offlineComponents})}function lN(n){return E(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(L(gi,"Using user provided OnlineComponentProvider"),yield H0(n,n._uninitializedComponentsProvider._online)):(L(gi,"Using default OnlineComponentProvider"),yield H0(n,new H$))),n._onlineComponents})}function q$(n){return lN(n).then(e=>e.syncEngine)}function dN(n){return E(this,null,function*(){let e=yield lN(n),t=e.eventManager;return t.onListen=N$.bind(null,e.syncEngine),t.onUnlisten=k$.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=M$.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=x$.bind(null,e.syncEngine),t})}function G$(n,e,t={}){let r=new yn;return n.asyncQueue.enqueueAndForget(()=>E(null,null,function*(){return(function(o,s,c,u,l){let h=new Tf({next:m=>{h.Ou(),s.enqueueAndForget(()=>nN(o,p));let y=m.docs.has(c);!y&&m.fromCache?l.reject(new V(M.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&m.fromCache&&u&&u.source==="server"?l.reject(new V(M.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(m)},error:m=>l.reject(m)}),p=new Ef(tI(c.path),h,{includeMetadataChanges:!0,ka:!0});return tN(o,p)})(yield dN(n),n.asyncQueue,e,t,r)})),r.promise}function W$(n,e,t={}){let r=new yn;return n.asyncQueue.enqueueAndForget(()=>E(null,null,function*(){return(function(o,s,c,u,l){let h=new Tf({next:m=>{h.Ou(),s.enqueueAndForget(()=>nN(o,p)),m.fromCache&&u.source==="server"?l.reject(new V(M.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(m)},error:m=>l.reject(m)}),p=new Ef(c,h,{includeMetadataChanges:!0,ka:!0});return tN(o,p)})(yield dN(n),n.asyncQueue,e,t,r)})),r.promise}function hN(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var z0=new Map;var fN="firestore.googleapis.com",q0=!0,Df=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new V(M.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=fN,this.ssl=q0}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:q0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=GR;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<s$)throw new V(M.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}rB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=hN((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new V(M.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new V(M.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new V(M.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},ra=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Df({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new V(M.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new V(M.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Df(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new l_;switch(r.type){case"firstParty":return new p_(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new V(M.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return E(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){let r=z0.get(t);r&&(L("ComponentProvider","Removing Datastore"),z0.delete(t),r.terminate())})(this),Promise.resolve()}};function pN(n,e,t,r={}){var i;n=hi(n,ra);let o=Xr(e),s=n._getSettings(),c=Object.assign(Object.assign({},s),{emulatorOptions:n._getEmulatorOptions()}),u=`${e}:${t}`;o&&(fh(`https://${u}`),ph("Firestore",!0)),s.host!==fN&&s.host!==u&&di("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let l=Object.assign(Object.assign({},s),{host:u,ssl:o,emulatorOptions:r});if(!kn(l,c)&&(n._setSettings(l),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=Xe.MOCK_USER;else{h=DS(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new V(M.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Xe(m)}n._authCredentials=new d_(new Yh(h,p))}}var bf=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},mt=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ai(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}toJSON(){return{type:n._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Tu(t,n._jsonSchema))return new n(e,r||null,new H(Ne.fromString(t.referencePath)))}};mt._jsonSchemaVersion="firestore/documentReference/1.0",mt._jsonSchema={type:He("string",mt._jsonSchemaVersion),referencePath:He("string")};var ai=class n extends bf{constructor(e,t,r){super(e,t,tI(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new mt(this.firestore,null,new H(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function gN(n,e,...t){if(n=Ue(n),Y0("collection","path",e),n instanceof ra){let r=Ne.fromString(e,...t);return l0(r),new ai(n,null,r)}{if(!(n instanceof mt||n instanceof ai))throw new V(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Ne.fromString(e,...t));return l0(r),new ai(n.firestore,null,r)}}function mN(n,e,...t){if(n=Ue(n),arguments.length===1&&(e=hu.newId()),Y0("doc","path",e),n instanceof ra){let r=Ne.fromString(e,...t);return u0(r),new mt(n,null,new H(r))}{if(!(n instanceof mt||n instanceof ai))throw new V(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Ne.fromString(e,...t));return u0(r),new mt(n.firestore,n instanceof ai?n.converter:null,new H(r))}}var G0="AsyncQueue",Cf=class{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new gf(this,"async_queue_retry"),this.oc=()=>{let r=a_();r&&L(G0,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;let t=a_();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;let t=a_();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});let t=new yn;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}cc(){return E(this,null,function*(){if(this.Zu.length!==0){try{yield this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!aa(e))throw e;L(G0,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}})}uc(e){let t=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,gr("INTERNAL UNHANDLED ERROR: ",W0(r)),r}).then(r=>(this.nc=!1,r))));return this._c=t,t}enqueueAfterDelay(e,t,r){this.ac(),this.sc.indexOf(e)>-1&&(t=0);let i=SE.createAndSchedule(this,e,t,r,o=>this.lc(o));return this.ec.push(i),i}ac(){this.tc&&q(47125,{hc:W0(this.tc)})}verifyOperationInProgress(){}Pc(){return E(this,null,function*(){let e;do e=this._c,yield e;while(e!==this._c)})}Tc(e){for(let t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){let t=this.ec.indexOf(e);this.ec.splice(t,1)}};function W0(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}var So=class extends ra{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Cf,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return E(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Cf(e),this._firestoreClient=void 0,yield e}})}};function yN(n,e){let t=typeof n=="object"?n:uo(),r=typeof n=="string"?n:e||tf,i=Ns(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=TS("firestore");o&&pN(i,...o)}return i}function jf(n){if(n._terminated)throw new V(M.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||K$(n),n._firestoreClient}function K$(n){var e,t,r;let i=n._freezeSettings(),o=(function(c,u,l,h){return new __(c,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,hN(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new FE(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&(function(c){let u=c?._online.build();return{_offline:c?._offline.build(u),_online:u}})(n._componentsProvider))}var ci=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(yt.fromBase64String(e))}catch(t){throw new V(M.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Tu(e,n._jsonSchema))return n.fromBase64String(e.bytes)}};ci._jsonSchemaVersion="firestore/bytes/1.0",ci._jsonSchema={type:He("string",ci._jsonSchemaVersion),bytes:He("string")};var ia=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new V(M.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var wu=class{constructor(e){this._methodName=e}};var ui=class n{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new V(M.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new V(M.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ie(this._lat,e._lat)||ie(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:n._jsonSchemaVersion}}static fromJSON(e){if(Tu(e,n._jsonSchema))return new n(e.latitude,e.longitude)}};ui._jsonSchemaVersion="firestore/geoPoint/1.0",ui._jsonSchema={type:He("string",ui._jsonSchemaVersion),latitude:He("number"),longitude:He("number")};var li=class n{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:n._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Tu(e,n._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new n(e.vectorValues);throw new V(M.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};li._jsonSchemaVersion="firestore/vectorValue/1.0",li._jsonSchema={type:He("string",li._jsonSchemaVersion),vectorValues:He("object")};var Q$=/^__.*__$/,VE=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new zn(e,this.data,this.fieldMask,t,this.fieldTransforms):new bo(e,this.data,t,this.fieldTransforms)}},Sf=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new zn(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function vN(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw q(40011,{Ec:n})}}var jE=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ac(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Rf(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(vN(this.Ec)&&Q$.test(e))throw this.wc('Document fields cannot begin and end with "__"')}},UE=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Lf(e)}Dc(e,t,r,i=!1){return new jE({Ec:e,methodName:t,bc:r,path:zt.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function _N(n){let e=n._freezeSettings(),t=Lf(n._databaseId);return new UE(n._databaseId,!!e.ignoreUndefinedProperties,t)}function EN(n,e,t,r,i,o={}){let s=n.Dc(o.merge||o.mergeFields?2:0,e,t,i);fI("Data must be an object, but it was:",s,r);let c=IN(r,s),u,l;if(o.merge)u=new Xt(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let m=BE(e,p,t);if(!s.contains(m))throw new V(M.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);TN(h,m)||h.push(m)}u=new Xt(h),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new VE(new Ht(c),u,l)}var Af=class n extends wu{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};function Y$(n,e,t,r){let i=n.Dc(1,e,t);fI("Data must be an object, but it was:",i,r);let o=[],s=Ht.empty();mi(r,(u,l)=>{let h=pI(e,u,t);l=Ue(l);let p=i.gc(h);if(l instanceof Af)o.push(h);else{let m=Uf(l,p);m!=null&&(o.push(h),s.set(h,m))}});let c=new Xt(o);return new Sf(s,c,i.fieldTransforms)}function Z$(n,e,t,r,i,o){let s=n.Dc(1,e,t),c=[BE(e,r,t)],u=[i];if(o.length%2!=0)throw new V(M.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<o.length;m+=2)c.push(BE(e,o[m])),u.push(o[m+1]);let l=[],h=Ht.empty();for(let m=c.length-1;m>=0;--m)if(!TN(l,c[m])){let y=c[m],A=u[m];A=Ue(A);let P=s.gc(y);if(A instanceof Af)l.push(y);else{let N=Uf(A,P);N!=null&&(l.push(y),h.set(y,N))}}let p=new Xt(l);return new Sf(h,p,s.fieldTransforms)}function Uf(n,e){if(wN(n=Ue(n)))return fI("Unsupported field value:",e,n),IN(n,e);if(n instanceof wu)return(function(r,i){if(!vN(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return(function(r,i){let o=[],s=0;for(let c of r){let u=Uf(c,i.yc(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}})(n,e)}return(function(r,i){if((r=Ue(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return OB(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=ze.fromDate(r);return{timestampValue:uf(i.serializer,o)}}if(r instanceof ze){let o=new ze(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:uf(i.serializer,o)}}if(r instanceof ui)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ci)return{bytesValue:jR(i.serializer,r._byteString)};if(r instanceof mt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.wc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:rI(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof li)return(function(s,c){return{mapValue:{fields:{[YE]:{stringValue:ZE},[Gs]:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw c.wc("VectorValues must only contain numeric values.");return nI(c.serializer,l)})}}}}}})(r,i);throw i.wc(`Unsupported field value: ${GE(r)}`)})(n,e)}function IN(n,e){let t={};return hR(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):mi(n,(r,i)=>{let o=Uf(i,e.Vc(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function wN(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof ze||n instanceof ui||n instanceof ci||n instanceof mt||n instanceof wu||n instanceof li)}function fI(n,e,t){if(!wN(t)||!Z0(t)){let r=GE(t);throw r==="an object"?e.wc(n+" a custom object"):e.wc(n+" "+r)}}function BE(n,e,t){if((e=Ue(e))instanceof ia)return e._internalPath;if(typeof e=="string")return pI(n,e);throw Rf("Field path arguments must be of type string or ",n,!1,void 0,t)}var J$=new RegExp("[~\\*/\\[\\]]");function pI(n,e,t){if(e.search(J$)>=0)throw Rf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new ia(...e.split("."))._internalPath}catch{throw Rf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Rf(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new V(M.INVALID_ARGUMENT,c+n+u)}function TN(n,e){return n.some(t=>t.isEqual(e))}var Nf=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new mt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new $E(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(DN("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},$E=class extends Nf{data(){return super.data()}};function DN(n,e){return typeof e=="string"?pI(n,e):e instanceof ia?e._internalPath:e._delegate._internalPath}function X$(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new V(M.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var HE=class{convertValue(e,t="none"){switch(fi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ae(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(yr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw q(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return mi(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[Gs].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Ae(s.doubleValue));return new li(o)}convertGeoPoint(e){return new ui(Ae(e.latitude),Ae(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=kf(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(gu(e));default:return null}}convertTimestamp(e){let t=mr(e);return new ze(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=Ne.fromString(e);me(qR(r),9688,{name:e});let i=new nf(r.get(1),r.get(3)),o=new H(r.popFirst(5));return i.isEqual(t)||gr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function bN(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var _o=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Eo=class n extends Nf{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new Hs(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(DN("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new V(M.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,t={};return t.type=n._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}};Eo._jsonSchemaVersion="firestore/documentSnapshot/1.0",Eo._jsonSchema={type:He("string",Eo._jsonSchemaVersion),bundleSource:He("string","DocumentSnapshot"),bundleName:He("string"),bundle:He("string")};var Hs=class extends Eo{data(e={}){return super.data(e)}},zs=class n{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new _o(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Hs(this._firestore,this._userDataWriter,r.key,r,new _o(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new V(M.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(c=>{let u=new Hs(i._firestore,i._userDataWriter,c.doc.key,c.doc,new _o(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>o||c.type!==3).map(c=>{let u=new Hs(i._firestore,i._userDataWriter,c.doc.key,c.doc,new _o(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return c.type!==0&&(l=s.indexOf(c.doc.key),s=s.delete(c.doc.key)),c.type!==1&&(s=s.add(c.doc),h=s.indexOf(c.doc.key)),{type:eH(c.type),doc:u,oldIndex:l,newIndex:h}})}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new V(M.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=n._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=hu.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let t=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(t.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function eH(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return q(61501,{type:n})}}function CN(n){n=hi(n,mt);let e=hi(n.firestore,So);return G$(jf(e),n._key).then(t=>tH(e,n,t))}zs._jsonSchemaVersion="firestore/querySnapshot/1.0",zs._jsonSchema={type:He("string",zs._jsonSchemaVersion),bundleSource:He("string","QuerySnapshot"),bundleName:He("string"),bundle:He("string")};var Mf=class extends HE{constructor(e){super(),this.firestore=e}convertBytes(e){return new ci(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new mt(this.firestore,null,t)}};function SN(n){n=hi(n,bf);let e=hi(n.firestore,So),t=jf(e),r=new Mf(e);return X$(n._query),W$(t,n._query).then(i=>new zs(e,r,n,i))}function AN(n,e,t){n=hi(n,mt);let r=hi(n.firestore,So),i=bN(n.converter,e,t);return RN(r,[EN(_N(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,Un.none())])}function RN(n,e){return(function(r,i){let o=new yn;return r.asyncQueue.enqueueAndForget(()=>E(null,null,function*(){return O$(yield q$(r),i,o)})),o.promise})(jf(n),e)}function tH(n,e,t){let r=t.docs.get(e._key),i=new Mf(n);return new Eo(n,i,e._key,r,new _o(t.hasPendingWrites,t.fromCache),e.converter)}var zE=class{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=_N(e)}set(e,t,r){this._verifyNotCommitted();let i=u_(e,this._firestore),o=bN(i.converter,t,r),s=EN(this._dataReader,"WriteBatch.set",i._key,o,i.converter!==null,r);return this._mutations.push(s.toMutation(i._key,Un.none())),this}update(e,t,r,...i){this._verifyNotCommitted();let o=u_(e,this._firestore),s;return s=typeof(t=Ue(t))=="string"||t instanceof ia?Z$(this._dataReader,"WriteBatch.update",o._key,t,r,i):Y$(this._dataReader,"WriteBatch.update",o._key,t),this._mutations.push(s.toMutation(o._key,Un.exists(!0))),this}delete(e){this._verifyNotCommitted();let t=u_(e,this._firestore);return this._mutations=this._mutations.concat(new yu(t._key,Un.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new V(M.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function u_(n,e){if((n=Ue(n)).firestore!==e)throw new V(M.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}function NN(n){return jf(n=hi(n,So)),new zE(n,e=>RN(n,e))}(function(e,t=!0){(function(i){oa=i})(ti),pn(new At("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),c=new So(new h_(r.getProvider("auth-internal")),new g_(s,r.getProvider("app-check-internal")),(function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new V(M.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nf(l.options.projectId,h)})(s,i),s);return o=Object.assign({useFetchStreams:t},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),xe(o0,s0,e),xe(o0,s0,"esm2017")})();var Er=class{constructor(e){return e}},MN="firestore",gI=class{constructor(){return Ps(MN)}};var mI=new B("angularfire2.firestore-instances");function nH(n,e){let t=Kc(MN,n,e);return t&&new Er(t)}function rH(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Er(r)}}var iH={provide:gI,deps:[[new Ft,mI]]},oH={provide:Er,useFactory:nH,deps:[[new Ft,mI],ur]};function PN(n,...e){return xe("angularfire",ni.full,"fst"),ht([oH,iH,{provide:mI,useFactory:rH(n),multi:!0,deps:[de,Re,ri,ho,[new Ft,ou],[new Ft,ks],...e]}])}var yI=pt(gN,!0,2);var Bf=pt(mN,!0,2);var kN=pt(CN,!0);var xN=pt(SN,!0);var ON=pt(yN,!0);var vI=pt(AN,!0,2);var LN=pt(NN,!0,2);var sH=(n,e,t)=>({"alert-success":n,"alert-info":e,"alert-danger":t});function aH(n,e){n&1&&(Ee(0,"div",3)(1,"span",5),Ce(2,"Loading..."),Ie()())}function cH(n,e){if(n&1&&(Ee(0,"div",4),Ce(1),Ie()),n&2){let t=Gr();eo("ngClass",Bm(2,sH,t.feedbackMessage.includes("sucesso"),t.feedbackMessage.includes("j\xE1 existe"),t.feedbackMessage.includes("erro"))),un(),fc(" ",t.feedbackMessage," ")}}var $f=class n{constructor(e){this.firestore=e;this.checkAndSeedData()}feedbackMessage=null;isLoading=!0;owners=["4j2oIn4DlqbS91MDgHr5l0HRwTf2","t3CQISBwVWP0CAFrNMnVfFSXRaK2"];checkAndSeedData(){return E(this,null,function*(){try{let e=yI(this.firestore,"Things");(yield xN(e)).empty?(yield this.seedData(),this.feedbackMessage='Cole\xE7\xE3o "Things" criada e populada com 15 itens!'):this.feedbackMessage='A cole\xE7\xE3o "Things" j\xE1 existe. Nenhuma a\xE7\xE3o foi necess\xE1ria.'}catch(e){console.error("Erro ao verificar ou criar dados:",e),this.feedbackMessage="Ocorreu um erro ao processar a solicita\xE7\xE3o."}finally{this.isLoading=!1}})}seedData(){return E(this,null,function*(){let e=LN(this.firestore),t=yI(this.firestore,"Things");for(let r=1;r<=15;r++){let i=this.getRandomDate(),o=this.owners[Math.floor(Math.random()*this.owners.length)],s={name:`Coisa N\xBA ${r}`,description:`Descri\xE7\xE3o completa e sem embara\xE7os da coisa n\xFAmero ${r}.`,location:`Localiza\xE7\xE3o secreta e bem escondida da coisa ${r}`,photoURL:`https://picsum.photos/400/300?random=${r}`,createdAt:i,owner:o,status:"ON",metadata:{}},c=Bf(t);e.set(c,s)}yield e.commit()})}getRandomDate(){let e=new Date,t=new Date;t.setMonth(e.getMonth()-6);let r=t.getTime()+Math.random()*(e.getTime()-t.getTime());return new Date(r).toISOString()}static \u0275fac=function(t){return new(t||n)(st(Er))};static \u0275cmp=Vt({type:n,selectors:[["app-seed-data"]],decls:7,vars:2,consts:[[1,"container","mt-5"],[1,"row","justify-content-center"],[1,"col-md-8","text-center"],["role","status",1,"spinner-border","text-primary","mt-4"],[1,"alert","mt-4",3,"ngClass"],[1,"visually-hidden"]],template:function(t,r){t&1&&(Ee(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),Ce(4,"Popula\xE7\xE3o de Dados"),Ie(),Ji(5,aH,3,0,"div",3),Ji(6,cH,2,6,"div",4),Ie()()()),t&2&&(un(5),Xi(r.isLoading?5:-1),un(),Xi(r.feedbackMessage?6:-1))},dependencies:[gs,Xm],encapsulation:2})};var Hf="NgCRUD",VN=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:ah,title:Hf},{path:"contacts",component:ch,title:`${Hf} - Fa\xE7a Contato`},{path:"about",component:uh,title:`${Hf} - Sobre`},{path:"seed-data",component:$f,title:`${Hf} - Cadastro de Coisas`},{path:"**",redirectTo:"/home"}];var _I="Service workers are disabled or not supported by this browser",ua=class{serviceWorker;worker;registration;events;constructor(e,t){if(this.serviceWorker=e,!e)this.worker=this.events=this.registration=new G(r=>r.error(new j(5601,!1)));else{let r=null,i=new ke;this.worker=new G(l=>(r!==null&&l.next(r),i.subscribe(h=>l.next(h))));let o=()=>{let{controller:l}=e;l!==null&&(r=l,i.next(r))};e.addEventListener("controllerchange",o),o(),this.registration=this.worker.pipe(Se(()=>e.getRegistration().then(l=>{if(!l)throw new j(5601,!1);return l})));let s=new ke;this.events=s.asObservable();let c=l=>{let{data:h}=l;h?.type&&s.next(h)};e.addEventListener("message",c),t?.get(Cn,null,{optional:!0})?.onDestroy(()=>{e.removeEventListener("controllerchange",o),e.removeEventListener("message",c)})}}postMessage(e,t){return new Promise(r=>{this.worker.pipe(It(1)).subscribe(i=>{i.postMessage(O({action:e},t)),r()})})}postMessageWithOperation(e,t,r){let i=this.waitForOperationCompleted(r),o=this.postMessage(e,t);return Promise.all([o,i]).then(([,s])=>s)}generateNonce(){return Math.round(Math.random()*1e7)}eventsOfType(e){let t;return typeof e=="string"?t=r=>r.type===e:t=r=>e.includes(r.type),this.events.pipe(rt(t))}nextEventOfType(e){return this.eventsOfType(e).pipe(It(1))}waitForOperationCompleted(e){return new Promise((t,r)=>{this.eventsOfType("OPERATION_COMPLETED").pipe(rt(i=>i.nonce===e),It(1),Y(i=>{if(i.result!==void 0)return i.result;throw new Error(i.error)})).subscribe({next:t,error:r})})}get isEnabled(){return!!this.serviceWorker}},uH=(()=>{class n{sw;messages;notificationClicks;notificationCloses;pushSubscriptionChanges;subscription;get isEnabled(){return this.sw.isEnabled}pushManager=null;subscriptionChanges=new ke;constructor(t){if(this.sw=t,!t.isEnabled){this.messages=Qn,this.notificationClicks=Qn,this.notificationCloses=Qn,this.pushSubscriptionChanges=Qn,this.subscription=Qn;return}this.messages=this.sw.eventsOfType("PUSH").pipe(Y(i=>i.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(Y(i=>i.data)),this.notificationCloses=this.sw.eventsOfType("NOTIFICATION_CLOSE").pipe(Y(i=>i.data)),this.pushSubscriptionChanges=this.sw.eventsOfType("PUSH_SUBSCRIPTION_CHANGE").pipe(Y(i=>i.data)),this.pushManager=this.sw.registration.pipe(Y(i=>i.pushManager));let r=this.pushManager.pipe(Se(i=>i.getSubscription()));this.subscription=new G(i=>{let o=r.subscribe(i),s=this.subscriptionChanges.subscribe(i);return()=>{o.unsubscribe(),s.unsubscribe()}})}requestSubscription(t){if(!this.sw.isEnabled||this.pushManager===null)return Promise.reject(new Error(_I));let r={userVisibleOnly:!0},i=this.decodeBase64(t.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),o=new Uint8Array(new ArrayBuffer(i.length));for(let s=0;s<i.length;s++)o[s]=i.charCodeAt(s);return r.applicationServerKey=o,new Promise((s,c)=>{this.pushManager.pipe(Se(u=>u.subscribe(r)),It(1)).subscribe({next:u=>{this.subscriptionChanges.next(u),s(u)},error:c})})}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error(_I));let t=r=>{if(r===null)throw new j(5602,!1);return r.unsubscribe().then(i=>{if(!i)throw new j(5603,!1);this.subscriptionChanges.next(null)})};return new Promise((r,i)=>{this.subscription.pipe(It(1),Se(t)).subscribe({next:r,error:i})})}decodeBase64(t){return atob(t)}static \u0275fac=function(r){return new(r||n)($(ua))};static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})(),lH=(()=>{class n{sw;versionUpdates;unrecoverable;get isEnabled(){return this.sw.isEnabled}ongoingCheckForUpdate=null;constructor(t){if(this.sw=t,!t.isEnabled){this.versionUpdates=Qn,this.unrecoverable=Qn;return}this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED","VERSION_FAILED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(_I));if(this.ongoingCheckForUpdate)return this.ongoingCheckForUpdate;let t=this.sw.generateNonce();return this.ongoingCheckForUpdate=this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:t},t).finally(()=>{this.ongoingCheckForUpdate=null}),this.ongoingCheckForUpdate}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new j(5601,!1));let t=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:t},t)}static \u0275fac=function(r){return new(r||n)($(ua))};static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})();var UN=new B("");function dH(){let n=R(Cu);if(!("serviceWorker"in navigator&&n.enabled!==!1))return;let e=R(UN),t=R(de),r=R(Cn);t.runOutsideAngular(()=>{let i=navigator.serviceWorker,o=()=>i.controller?.postMessage({action:"INITIALIZE"});i.addEventListener("controllerchange",o),r.onDestroy(()=>{i.removeEventListener("controllerchange",o)})}),t.runOutsideAngular(()=>{let i,{registrationStrategy:o}=n;if(typeof o=="function")i=new Promise(s=>o().subscribe(()=>s()));else{let[s,...c]=(o||"registerWhenStable:30000").split(":");switch(s){case"registerImmediately":i=Promise.resolve();break;case"registerWithDelay":i=jN(+c[0]||0);break;case"registerWhenStable":i=Promise.race([r.whenStable(),jN(+c[0])]);break;default:throw new j(5600,!1)}}i.then(()=>{r.destroyed||navigator.serviceWorker.register(e,{scope:n.scope,updateViaCache:n.updateViaCache,type:n.type}).catch(s=>console.error(xr(5604,!1)))})})}function jN(n){return new Promise(e=>setTimeout(e,n))}function hH(n,e){return new ua(n.enabled!==!1?navigator.serviceWorker:void 0,e)}var Cu=class{enabled;updateViaCache;type;scope;registrationStrategy};function BN(n,e={}){return ht([uH,lH,{provide:UN,useValue:n},{provide:Cu,useValue:e},{provide:ua,useFactory:hH,deps:[Cu,Re]},ds(dH)])}var $N={providers:[Ug(),zm({eventCoalescing:!0}),Uy(VN),ZS(()=>JS({projectId:"ngcrud-93a6f",appId:"1:1043187476281:web:777f337c87a8d171d22ae8",storageBucket:"ngcrud-93a6f.firebasestorage.app",apiKey:"AIzaSyDHQPWxYc2Xc2xXwW2dh6bg1Bup7vjYNrk",authDomain:"ngcrud-93a6f.firebaseapp.com",messagingSenderId:"1043187476281"})),JA(()=>e0()),PN(()=>ON()),BN("ngsw-worker.js",{enabled:!mc(),registrationStrategy:"registerWhenStable:30000"})]};var zf=class n{constructor(e,t){this.auth=e;this.firestore=t;this.user$=Ci(()=>XA(this.auth)).pipe(Se(r=>{if(!r)return new G(o=>o.next(null));let i=Bf(this.firestore,"Users",r.uid);return De(kN(i)).pipe(Se(o=>{let s=new Date().toISOString();if(o.exists())return De(vI(i,{lastLoginAt:s},{merge:!0})).pipe(Y(()=>r));{let c={displayName:r.displayName,email:r.email,photoURL:r.photoURL,uid:r.uid,lastLoginAt:s,role:"user",status:"ON",createdAt:s};return De(vI(i,c)).pipe(Y(()=>r))}}))}))}user$;loginWithGoogle(){return t0(this.auth,new qv)}logout(){return n0(this.auth)}static \u0275fac=function(t){return new(t||n)($(mo),$(Er))};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})};function pH(n,e){if(n&1){let t=fs();Ee(0,"a",31),or("click",function(){Ui(t);let i=Gr();return Bi(i.confirmLogout())}),Ze(1,"img",32),Ie()}if(n&2){let t=e;un(),eo("src",t.photoURL,cc)("alt",t.displayName)("title",t.displayName)}}function gH(n,e){if(n&1){let t=fs();Ee(0,"a",31),or("click",function(){Ui(t);let i=Gr();return Bi(i.authService.loginWithGoogle())}),Ze(1,"i",33),Ie()}}function mH(n,e){if(n&1){let t=fs();Ee(0,"a",34),or("click",function(){Ui(t);let i=Gr();return Bi(i.confirmLogout())}),Ze(1,"img",35),Ee(2,"span"),Ce(3),Ie()()}if(n&2){let t=e;un(),eo("src",t.photoURL,cc)("alt",t.displayName)("title",t.displayName),un(2),Ed(t.displayName)}}function yH(n,e){if(n&1){let t=fs();Ee(0,"a",34),or("click",function(){Ui(t);let i=Gr();return Bi(i.authService.loginWithGoogle())}),Ze(1,"i",36),Ee(2,"span"),Ce(3,"Login"),Ie()()}}var qf=class n{constructor(e){this.authService=e}title="ngcrud";confirmLogout(){confirm("Tem certeza que deseja sair?")&&this.authService.logout()}static \u0275fac=function(t){return new(t||n)(st(zf))};static \u0275cmp=Vt({type:n,selectors:[["app-root"]],decls:56,vars:6,consts:[[1,"d-flex","flex-column","min-vh-100"],[1,"navbar","navbar-expand-sm","bg-dark","navbar-dark"],[1,"container"],["routerLink","/home",1,"navbar-brand"],[1,"bi","bi-database"],["type","button","data-bs-toggle","offcanvas","data-bs-target","#offcanvasNavbar","aria-controls","offcanvasNavbar",1,"navbar-toggler","d-sm-none"],[1,"navbar-toggler-icon"],["id","collapsibleNavbar",1,"collapse","navbar-collapse"],[1,"navbar-nav","ms-auto","align-items-center"],[1,"nav-item"],["routerLink","/home",1,"nav-link"],["routerLink","/contacts",1,"nav-link"],["routerLink","/about",1,"nav-link"],[1,"nav-link"],["tabindex","-1","id","offcanvasNavbar","aria-labelledby","offcanvasNavbarLabel",1,"offcanvas","offcanvas-end","text-bg-dark","d-sm-none"],[1,"offcanvas-header"],["id","offcanvasNavbarLabel",1,"offcanvas-title"],[1,"bi","bi-database-fill"],["type","button","data-bs-dismiss","offcanvas","aria-label","Close",1,"btn-close","btn-close-white"],[1,"offcanvas-body"],[1,"navbar-nav","justify-content-end","flex-grow-1","pe-3"],["routerLink","/home",1,"nav-link","ps-2"],[1,"bi","bi-house-fill","pe-2",2,"font-size","1.2rem"],["routerLink","/contacts",1,"nav-link","ps-2"],[1,"bi","bi-chat-dots-fill","pe-2",2,"font-size","1.2rem"],["routerLink","/about",1,"nav-link","ps-2"],[1,"bi","bi-info-circle-fill","pe-2",2,"font-size","1.2rem"],["data-bs-dismiss","offcanvas",1,"nav-link","ps-2","d-flex","align-items-center"],[1,"container","flex-grow-1"],[1,"bg-dark","text-white","text-center","p-3","mt-4"],[1,"mb-0"],[1,"nav-link",3,"click"],["width","32","height","32",1,"rounded-circle",3,"src","alt","title"],[1,"bi","bi-person-circle",2,"font-size","1.5rem"],["data-bs-dismiss","offcanvas",1,"nav-link","ps-2","d-flex","align-items-center",3,"click"],["width","32","height","32",1,"rounded-circle","me-2",3,"src","alt","title"],[1,"bi","bi-person-circle","me-2",2,"font-size","2rem"]],template:function(t,r){if(t&1&&(Ee(0,"div",0)(1,"nav",1)(2,"div",2)(3,"a",3),Ce(4,"NG"),Ze(5,"i",4),Ce(6,"CRUD"),Ie(),Ee(7,"button",5),Ze(8,"span",6),Ie(),Ee(9,"div",7)(10,"ul",8)(11,"li",9)(12,"a",10),Ce(13,"In\xEDcio"),Ie()(),Ee(14,"li",9)(15,"a",11),Ce(16,"Contatos"),Ie()(),Ee(17,"li",9)(18,"a",12),Ce(19,"Sobre"),Ie()(),Ee(20,"li",9),Ji(21,pH,2,3,"a",13),Id(22,"async"),hs(23,gH,2,0,"a",13),Ie()()()()(),Ee(24,"div",14)(25,"div",15)(26,"h1",16),Ce(27,"NG"),Ze(28,"i",17),Ce(29,"CRUD"),Ie(),Ze(30,"button",18),Ie(),Ee(31,"div",19)(32,"ul",20)(33,"li",9)(34,"a",21),Ze(35,"i",22),Ce(36,"In\xEDcio"),Ie()(),Ee(37,"li",9)(38,"a",23),Ze(39,"i",24),Ce(40,"Contatos"),Ie()(),Ee(41,"li",9)(42,"a",25),Ze(43,"i",26),Ce(44,"Sobre"),Ie()(),Ee(45,"li",9),Ze(46,"hr"),Ie(),Ee(47,"li",9),Ji(48,mH,4,4,"a",27),Id(49,"async"),hs(50,yH,4,0,"a",27),Ie()()()(),Ee(51,"main",28),Ze(52,"router-outlet"),Ie(),Ee(53,"footer",29)(54,"p",30),Ce(55,"\xA9 Copyright 2025 Joca da Silva"),Ie()()()),t&2){let i,o;un(21),Xi((i=wd(22,2,r.authService.user$))?21:23,i),un(27),Xi((o=wd(49,4,r.authService.user$))?48:50,o)}},dependencies:[gs,Vc,$y,sh,ey],styles:["@media (max-width: 575.98px){.offcanvas[_ngcontent-%COMP%]{max-width:280px}}a[_ngcontent-%COMP%]{cursor:pointer}.nav-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#ffffff1a}"]})};hy(qf,$N).catch(n=>console.error(n));
